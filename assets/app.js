angular.module("winston",["ui.router"]),angular.module("winston").service("apiSVC",["$http",function(t){this.add=function(e){return t.get("/api/stats/add?"+e)},this.remove=function(e){return t.get("/api/stats/remove?"+e)},this.load=function(){return t.get("/api/stats")}}]),angular.module("winston").controller("mainCTRL",["$scope","apiSVC","preloadObj",function(t,e,a){function n(e){_.forEach(t.players,function(a){function n(t){var e,a=[];_.forEach(t.games,function(n,s){if(!e&&1==n.g&&n.passing_att){if(e={passing_comp:0,passing_yds:0,passing_td:0,passing_att:0,passing_int:0},null!=n.passing_comp&&(e.passing_comp+=n.passing_comp),null!=n.passing_yds&&(e.passing_yds+=n.passing_yds),null!=n.passing_td&&(e.passing_td+=n.passing_td),null!=n.passing_att&&(e.passing_att+=n.passing_att),null!=n.passing_int&&(e.passing_int+=n.passing_int),null!=e.passing_att&&0!=e.passing_att){var r=5*(e.passing_comp/e.passing_att-.3),i=.25*(e.passing_yds/e.passing_att-3),o=e.passing_td/e.passing_att*20,l=2.375-e.passing_int/e.passing_att*25;r>2.375&&(r=2.375),0>r&&(r=0),i>2.375&&(i=2.375),0>i&&(i=0),o>2.375&&(o=2.375),0>o&&(o=0),l>2.375&&(l=2.375),0>l&&(l=0);var c=(r+i+o+l)/6*100;a.push({week:s+1,rating:Math.round(100*(c+1e-5))/100,pid:t.id})}}else if(e||n.g)if(e||1!=n.g||n.passing_att){if(null!=n.passing_comp&&(e.passing_comp+=n.passing_comp),null!=n.passing_yds&&(e.passing_yds+=n.passing_yds),null!=n.passing_td&&(e.passing_td+=n.passing_td),null!=n.passing_att&&(e.passing_att+=n.passing_att),null!=n.passing_int&&(e.passing_int+=n.passing_int),null!=e.passing_att&&0!=e.passing_att){var r=5*(e.passing_comp/e.passing_att-.3),i=.25*(e.passing_yds/e.passing_att-3),o=e.passing_td/e.passing_att*20,l=2.375-e.passing_int/e.passing_att*25;r>2.375&&(r=2.375),0>r&&(r=0),i>2.375&&(i=2.375),0>i&&(i=0),o>2.375&&(o=2.375),0>o&&(o=0),l>2.375&&(l=2.375),0>l&&(l=0);var c=(r+i+o+l)/6*100;a.push({week:s+1,rating:Math.round(100*(c+1e-5))/100,pid:t.id})}}else{var d=a[a.length-1],u={week:d.week+1,rating:d.rating,pid:t.id};a.push(u)}else a.push({week:s+1,rating:null,pid:t.id})});var n={};return _.forEach(a,function(t){n[t.week]=t}),_.forEach(n,function(e,a){e||(0!=a?(e=n[a-1],e.week++):(e.week=1,e.rating=null,e.pid=t.id))}),n}a.games=[],_.forEach(t.games,function(t){t.player==a.id&&a.games.push(t)}),_.sortBy(a.games,function(t){return t.week});var s=_.values(n(a));a.ratings=_.take(s,e)}),_.forEach(t.players,function(t){t.className="other",1===t.id&&(t.className="jameis"),2===t.id&&(t.className="marcus"),t.ratings.forEach(function(e,a){e?(e.week=+e.week,e.rating=e.rating,e.pid=t.id):0!=a&&null!=t.ratings[a]?t.ratings[a]={week:t.ratings[a].week+1,rating:t.ratings[a].rating,pid:t.id}:t.ratings[a]={week:a+1,rating:null,pid:t.id}})});var a={top:20,right:20,bottom:30,left:50},n=960-a.right-a.left,s=500-a.top-a.bottom,r=d3.scale.linear().range([0,n]),i=d3.scale.linear().range([s,0]),o=d3.svg.axis().scale(r).orient("bottom").tickValues(d3.range(1,e+1)).tickFormat(d3.format("d")),l=d3.svg.axis().scale(i).orient("left"),c=d3.svg.line().x(function(t){return r(t.week)}).y(function(t){return i(t.rating)}).interpolate("basis"),d=d3.select("#graph").select_or_append("svg").attr("width",n+a.left+a.right).attr("height",s+a.top+a.bottom).select_or_append("g.container").attr("transform","translate("+a.left+","+a.top+")");r.domain([1,Number(e)]),i.domain([0,160]);var u=d.select_or_append("g.lines").selectAll("path").data(t.players.reverse(),function(t){return t?t.id:void 0});u.enter().append("path").attr("class",function(t){return t.className}).attr("name",function(t){return t.name}).attr("d",function(t){return c(t.ratings)}),u.attr("class",function(t){return t.className}).attr("name",function(t){return t.name}).transition().attr("d",function(t){return c(t.ratings)}),u.exit().remove(),d.select_or_append("g.x").attr("class","x axis").attr("transform","translate(0,"+s+")").call(o).select_or_append("text.xaxis").attr("y",25).attr("x",450).style("text-anchor","end").style("dy",".71em").text("Week"),d.select_or_append("g.y").attr("class","y axis").call(l).select_or_append("text.yaxis").attr("transform","rotate(-90)").attr("y",-50).attr("x",-150).attr("dy",".71em").style("text-anchor","end").text("QB Rating (cumulative)")}t._showInput=!1,t._showInputM=!1;"err"==a.data.status&&console.log(a.data.message),t.gameStats=a.data.data.winston,t.mGameStats=a.data.data.mariota,t.stats=new stats,t.Ustats=new Ustats,t.Mstats=new Ustats,t.newStats=function(){e.addNew(t.Ustats).success(function(a){"success"==a.status?(t.Ustats=new Ustats,t.toggleInput(),e.load().success(function(e){t.gameStats=e.data.winston})):"game_pk"==a.message.constraint?alert("Error: That game already exists in the database. Delete it first if you want to update it"):alert("Error: "+JSON.stringify(a.message.detail))})},t.newStatsM=function(){e.addNewM(t.Mstats).success(function(a){"success"==a.status?(t.Mstats=new Ustats,t.toggleInputM(),e.load().success(function(e){t.mGameStats=e.data.mariota})):"game_pk"==a.message.constraint?alert("Error: That game already exists in the database. Delete it first if you want to update it"):alert("Error: "+JSON.stringify(a.message.detail))})},t.toggleInput=function(){t._showInput=!t._showInput},t.toggleInputM=function(){t._showInputM=!t._showInputM},t.deleteRowM=function(){0!=t.mGameStats&&e.removeM().success(function(a){"success"==a.status&&e.load().success(function(e){t.mGameStats=e.data.mariota})})},t.deleteRow=function(){0!=t.gameStats&&e.remove().success(function(a){"success"==a.status&&e.load().success(function(e){t.gameStats=e.data.winston})})},t.maxGames=function(){var e=0;_.forEach(t.players,function(t){t.games.length>e&&(e=t.games.length)});for(var a=[],n=1;e+1>n;n++)a.push(n);return a},t.players=a.data.data.players,t.games=a.data.data.games,_.forEach(t.players,function(e){e.games=[],_.forEach(t.games,function(t){t.player===e.id&&e.games.push(t)})});var s=function(t,e){function a(t){if(null!=t.passing_att&&0!=t.passing_att){var e=5*(s.passing_comp/s.passing_att-.3),a=.25*(s.passing_yds/s.passing_att-3),n=s.passing_td/s.passing_att*20,r=2.375-s.passing_int/s.passing_att*25;return e>2.375&&(e=2.375),0>e&&(e=0),a>2.375&&(a=2.375),0>a&&(a=0),n>2.375&&(n=2.375),0>n&&(n=0),r>2.375&&(r=2.375),0>r&&(r=0),(e+a+n+r)/6*100}}var n=_.take(t.games,e),s={passing_comp:0,passing_yds:0,passing_td:0,passing_att:0,passing_int:0};return _.forEach(n,function(t){null!=t.passing_comp&&(s.passing_comp+=t.passing_comp),null!=t.passing_yds&&(s.passing_yds+=t.passing_yds),null!=t.passing_td&&(s.passing_td+=t.passing_td),null!=t.passing_att&&(s.passing_att+=t.passing_att),null!=t.passing_int&&(s.passing_int+=t.passing_int)}),t.rating=a(s),t};t.ratePlayers=function(){t.chartActive=!0;var a=$("#week2rate").val().split(" ")[1],r=[];t.rated=[],e.load().success(function(e){t.players=e.data.players,t.games=e.data.games,t.gameStates=e.data.winston,_.forEach(t.players,function(e){e.games=[],_.forEach(t.games,function(t){t.player===e.id&&e.games.push(t)}),_.sortBy(e.games,function(t){return t.week})}),_.forEach(t.players,function(t){s(t,a),r.push({player:t.name,rating:Math.round(100*(t.rating+1e-5))/100,id:"p"+t.id})});var i=_.sortBy(r,function(t){return t.rating});i=_.filter(i,function(t){return t.rating}),_.forEach(i.reverse(),function(e,a){e.rank=a+1,t.rated.push(e)}),n(a)})},t.chartActive=!1,t.dl=function(){function t(){var t=[window.document],a=[];iframes=document.querySelectorAll("iframe"),objects=document.querySelectorAll("object");var r=window.document.createElementNS(l.svg,"svg");window.document.body.appendChild(r);var i=getComputedStyle(r);[].forEach.call(iframes,function(e){try{e.contentDocument&&t.push(e.contentDocument)}catch(a){console.log(a)}}),[].forEach.call(objects,function(e){try{e.contentDocument&&t.push(e.contentDocument)}catch(a){console.log(a)}}),t.forEach(function(t){for(var e=n(t,i),s=0;s<e.length;s++)a.push(e[s])}),a.length>1?e(a):a.length>0?s(a[0]):alert("The Crowbar couldnâ€™t find any SVG nodes.")}function e(t){a(),t.forEach(function(e){t.forEach(function(t){e!==t&&Math.abs(e.top-t.top)<38&&Math.abs(e.left-t.left)<38&&(t.top+=38,t.left+=38)})});var e=document.createElement("div");o.appendChild(e),e.setAttribute("class","svg-crowbar"),e.style["z-index"]=1e7,e.style.position="absolute",e.style.top=0,e.style.left=0;var n=document.createElement("div");o.appendChild(n),n.setAttribute("class","svg-crowbar"),n.style.background="rgba(255, 255, 255, 0.7)",n.style.position="fixed",n.style.left=0,n.style.top=0,n.style.width="100%",n.style.height="100%",t.forEach(function(t,a){var n=document.createElement("div");e.appendChild(n),n.setAttribute("class","svg-crowbar"),n.style.position="absolute",n.style.top=t.top+document.body.scrollTop+"px",n.style.left=document.body.scrollLeft+t.left+"px",n.style.padding="4px",n.style["border-radius"]="3px",n.style.color="white",n.style["text-align"]="center",n.style["font-family"]="'Helvetica Neue'",n.style.background="rgba(0, 0, 0, 0.8)",n.style["box-shadow"]="0px 4px 18px rgba(0, 0, 0, 0.4)",n.style.cursor="move",n.textContent="SVG #"+a+": "+(t.id?"#"+t.id:"")+(t["class"]?"."+t["class"]:"");var r=document.createElement("button");n.appendChild(r),r.setAttribute("data-source-id",a),r.style.width="150px",r.style["font-size"]="12px",r.style["line-height"]="1.4em",r.style.margin="5px 0 0 0",r.textContent="Download",r.onclick=function(e){s(t)}})}function a(){var t=document.querySelectorAll(".svg-crowbar");[].forEach.call(t,function(t){t.parentNode.removeChild(t)})}function n(t,e){var a=[],n=t.querySelectorAll("svg");return[].forEach.call(n,function(t){t.setAttribute("version","1.1"),t.removeAttribute("xmlns"),t.removeAttribute("xlink"),t.hasAttributeNS(l.xmlns,"xmlns")||t.setAttributeNS(l.xmlns,"xmlns",l.svg),t.hasAttributeNS(l.xmlns,"xmlns:xlink")||t.setAttributeNS(l.xmlns,"xmlns:xlink",l.xlink),r(t,e);var n=(new XMLSerializer).serializeToString(t),s=t.getBoundingClientRect();a.push({top:s.top,left:s.left,width:s.width,height:s.height,"class":t.getAttribute("class"),id:t.getAttribute("id"),childElementCount:t.childElementCount,source:[i+n]})}),a}function s(t){var e="untitled";t.id?e=t.id:t["class"]?e=t["class"]:window.document.title&&(e=window.document.title.replace(/[^a-z0-9]/gi,"-").toLowerCase());var a=window.URL.createObjectURL(new Blob(t.source,{type:"text/xml"})),n=document.createElement("a");o.appendChild(n),n.setAttribute("class","svg-crowbar"),n.setAttribute("download",e+".svg"),n.setAttribute("href",a),n.style.display="none",n.click(),setTimeout(function(){window.URL.revokeObjectURL(a)},10)}function r(t,e){function a(t){var a,n,s,r,i=getComputedStyle(t),o="";for(a=0,n=i.length;n>a;a++)s=i[a],r=i.getPropertyValue(s),r!==e.getPropertyValue(s)&&(o+=s+":"+r+";");t.setAttribute("style",o)}function n(t){function e(t){if(t&&t.hasChildNodes())for(var n=t.firstChild;n;)1===n.nodeType&&"SCRIPT"!=n.nodeName&&(a.push(n),e(n)),n=n.nextSibling}var a=[];return a.push(t),e(t),a}for(var s=n(t),r=s.length;r--;)a(s[r])}var i='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">';window.URL=window.URL||window.webkitURL;var o=document.body,l={xmlns:"http://www.w3.org/2000/xmlns/",xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"};t()}}]),angular.module("winston").controller("newCTRL",["$scope","apiSVC","preloadObj",function(t,e,a){t.winston=a.data.data[0],t.winston.addStats=!1,t.players=a.data.data,t.mariota=a.data.data[1],t.mariota.addStats=!1,t.graph={weeks:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18]},t.toggleWinston=function(){t.winston.addStats=!t.winston.addStats},t.addWinstonStats=function(){var a="player=1&season=2015&",n=[];_.forEach(t.winston["new"],function(t,e){n.push(e+"="+t)}),a+=n.join("&"),e.add(a).success(function(a){"success"===a.status&&e.load().success(function(e){t.winston=e.data[0],t.players=e.data})})},t.deleteWinston=function(){e.remove("player=1&week="+t.winston["delete"].split(" ")[1]).success(function(a){"success"===a.status&&e.load().success(function(e){t.winston=e.data[0],t.players=e.data})})},t.toggleMariota=function(){t.mariota.addStats=!t.mariota.addStats},t.addMariotaStats=function(){var a="player=2&season=2015&",n=[];_.forEach(t.mariota["new"],function(t,e){n.push(e+"="+t)}),a+=n.join("&"),e.add(a).success(function(a){"success"===a.status&&e.load().success(function(e){t.mariota=e.data[1],t.players=e.data})})},t.deleteMariota=function(){e.remove("player=2&week="+t.mariota["delete"].split(" ")[1]).success(function(a){"success"===a.status&&e.load().success(function(e){t.mariota=e.data[1],t.players=e.data})})},t.drawGraph=function(){function e(){function e(t){var e=d3.select("body").append("div").datum(t).attr("class","tooltip-container").call(a);e.style("left",d3.event.pageX+i.x+"px").style("top",d3.event.pageY+i.y+"px")}function a(t){t.each(function(t){d3.select(this).attr("class","tooltip-container").style("width","150px"),d3.select(this).append("p").attr("class","tooltip-title").text(t.player),d3.select(this).append("p").attr("class","tooltip-content").text("Rating: "+t.currentRating),d3.select(this).append("p").attr("class","tooltip-content").text("Rank: "+t.rank)})}function n(){d3.select("body").select("div.tooltip-container").style("left",d3.event.pageX+i.x+"px").style("top",d3.event.pageY+i.y+"px")}function s(){d3.select("div.tooltip-container").remove()}var r=g.select_or_append("g.lines.deselected").selectAll("path").data(_.filter(t.graph.data,function(t){return!t.selected}),function(t){return t.player});r.enter().append("path").attr("class","unselected").style({stroke:"lightgrey"}).attr("d",function(t){return p(t.ratings)}),r.transition().attr("d",function(t){return p(t.ratings)});var i={x:5,y:10};r.on("mouseover",function(t){d3.select(this).style({stroke:function(t){return t.primary},"stroke-width":"3px"}),e(t)}),r.on("mouseout",function(t){d3.select(this).style({stroke:"lightgrey","stroke-width":"2px"}),s(t)}),r.on("mousemove",n),r.exit().remove();var o=g.select_or_append("g.lines.selected").selectAll("path").data(_.filter(t.graph.data,function(t){return t.selected}),function(t){return t.player});o.enter().append("path").attr("class","selected").style({stroke:function(t){return console.log(t.player+" : "+t.primary),t.primary}}).attr("d",function(t){return p(t.ratings)}),o.transition().attr("d",function(t){return p(t.ratings)}),o.exit().remove()}d3.select("#controlBox").selectAll("tr").remove(),t.graph.data=t.graph.data||[];var a=t.graph.selectedWeek.split(" ")[1];if(_.isEmpty(t.graph.data))!function(e){_.forEach(t.players,function(a){var n={name:a.name,ratings:_.take(a.rankings,e),selected:!1,colors:a.colors};t.graph.data.push(n)});var a=[];_.forEach(t.graph.data,function(t){t.ratings[t.ratings.length-1]&&null!==t.ratings[t.ratings.length-1].rating&&a.push({player:t.name,currentRating:t.ratings[t.ratings.length-1].rating,selected:!1,ratings:t.ratings,colors:t.colors})}),t.graph.data=_.forEach(_.sortByOrder(a,"currentRating","desc"),function(t,e){t.rank=e+1,t.primary=JSON.parse(t.colors).primary,t.secondary=JSON.parse(t.colors).secondary,delete t.colors})}(a);else{var n=[];console.log(t.graph),function(e){var a=_.pluck(_.filter(t.graph.data,"selected"),"player");_.forEach(t.players,function(t){var s={name:t.name,ratings:_.take(t.rankings,e),selected:_.includes(a,t.player),colors:t.colors};n.push(s)});var s=[];_.forEach(n,function(t){t.ratings[t.ratings.length-1]&&null!==t.ratings[t.ratings.length-1].rating&&s.push({player:t.name,currentRating:t.ratings[t.ratings.length-1].rating,selected:_.includes(a,t.name),ratings:t.ratings,colors:t.colors})}),t.graph.data=_.forEach(_.sortByOrder(s,"currentRating","desc"),function(t,e){t.rank=e+1,t.primary=JSON.parse(t.colors).primary,t.secondary=JSON.parse(t.colors).secondary,delete t.colors}),console.log(t.graph)}(a)}var s=d3.select("#controlBox").selectAll("tr").data(t.graph.data,function(t){return t.player});s.enter().append("tr").style({"background-color":function(t){return t.selected?t.primary:void 0}}),s.select_or_append("td.rank").html(function(t){return t.rank}).style({color:function(t){return t.selected?"whitesmoke":void 0}}),s.select_or_append("td.name").html(function(t){return t.player}).style({color:function(t){return t.selected?"whitesmoke":void 0}}),s.select_or_append("td.rate").html(function(t){return t.currentRating}).style({color:function(t){return t.selected?"whitesmoke":void 0}}),s.on("mouseover",function(){d3.select(this).style({"background-color":function(t){return t.primary}}).selectAll("td").style("color","whitesmoke")}),s.on("mouseout",function(t){t.selected||d3.select(this).style({"background-color":"white"}).selectAll("td").style("color","black")}),s.on("click",function(t){t.selected=!t.selected,e()});var r={top:20,right:20,bottom:30,left:50},i=960-r.left-r.right,o=500-r.top-r.bottom,l=d3.scale.linear().range([0,i]).domain([1,a]),c=d3.scale.linear().domain([0,160]).range([o,0]),d=d3.svg.axis().scale(l).orient("bottom").tickValues(d3.range(1,a+1)).tickFormat(d3.format("d")),u=d3.svg.axis().scale(c).orient("left"),p=d3.svg.line().x(function(t){return l(t.week)}).y(function(t){return c(t.rating)}).interpolate("basis"),g=d3.select("#graph").select_or_append("svg").attr("width",i+r.left+r.right).attr("height",o+r.top+r.bottom).select_or_append("g.container").attr("transform","translate("+r.left+","+r.top+")");e(),g.select_or_append("g.x").attr("class","x axis").attr("transform","translate(0,"+o+")").call(d).select_or_append("text.xaxis").attr("y",25).attr("x",450).style("text-anchor","end").style("dy",".71em").text("Week"),g.select_or_append("g.y").attr("class","y axis").call(u).select_or_append("text.yaxis").attr("transform","rotate(-90)").attr("y",-50).attr("x",-150).attr("dy",".71em").style("text-anchor","end").text("QB Rating (cumulative)")}}]),angular.module("winston").config(["$stateProvider",function(t,e){t.state("home",{url:"/",templateUrl:"updateStats.html",controller:"newCTRL",resolve:{preloadObj:["$http",function(t){return t({method:"GET",url:"/api/stats"})}]}})}]).run(["$state",function(t){t.go("home")}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImFwaVNWQy5qcyIsIm1haW5DVExSTC5qcyIsIm5ld0NUUkwuanMiLCJyb3V0ZXMuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsInNlcnZpY2UiLCIkaHR0cCIsInRoaXMiLCJhZGQiLCJwYXJhbXMiLCJnZXQiLCJyZW1vdmUiLCJsb2FkIiwiY29udHJvbGxlciIsIiRzY29wZSIsImFwaVNWQyIsInByZWxvYWRPYmoiLCJkcmF3R3JhcGhpY3MiLCJ3ZWVrIiwiXyIsImZvckVhY2giLCJwbGF5ZXJzIiwicGxheWVyIiwiZ2V0UmF0aW5ncyIsInN0YXRzQ3VtIiwicmF0aW5ncyIsImdhbWVzIiwiZ2FtZSIsImluZGV4IiwiZyIsInBhc3NpbmdfYXR0IiwicGFzc2luZ19jb21wIiwicGFzc2luZ195ZHMiLCJwYXNzaW5nX3RkIiwicGFzc2luZ19pbnQiLCJhIiwiYiIsImMiLCJkIiwicmF0aW5nIiwicHVzaCIsIk1hdGgiLCJyb3VuZCIsInBpZCIsImlkIiwieCIsImxlbmd0aCIsInkiLCJyYXRpbmdPYmoiLCJpIiwic29ydEJ5IiwidmFsdWVzIiwidGFrZSIsImNsYXNzTmFtZSIsIm1hcmdpbiIsInRvcCIsInJpZ2h0IiwiYm90dG9tIiwibGVmdCIsIndpZHRoIiwiaGVpZ2h0IiwiZDMiLCJzY2FsZSIsImxpbmVhciIsInJhbmdlIiwieEF4aXMiLCJzdmciLCJheGlzIiwib3JpZW50IiwidGlja1ZhbHVlcyIsInRpY2tGb3JtYXQiLCJmb3JtYXQiLCJ5QXhpcyIsImxpbmUiLCJpbnRlcnBvbGF0ZSIsInNlbGVjdCIsInNlbGVjdF9vcl9hcHBlbmQiLCJhdHRyIiwiZG9tYWluIiwiTnVtYmVyIiwibGluZXMiLCJzZWxlY3RBbGwiLCJkYXRhIiwicmV2ZXJzZSIsImVudGVyIiwiYXBwZW5kIiwibmFtZSIsInRyYW5zaXRpb24iLCJleGl0IiwiY2FsbCIsInN0eWxlIiwidGV4dCIsIl9zaG93SW5wdXQiLCJfc2hvd0lucHV0TSIsInN0YXR1cyIsImNvbnNvbGUiLCJsb2ciLCJtZXNzYWdlIiwiZ2FtZVN0YXRzIiwid2luc3RvbiIsIm1HYW1lU3RhdHMiLCJtYXJpb3RhIiwic3RhdHMiLCJVc3RhdHMiLCJNc3RhdHMiLCJuZXdTdGF0cyIsImFkZE5ldyIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJ0b2dnbGVJbnB1dCIsImNvbnN0cmFpbnQiLCJhbGVydCIsIkpTT04iLCJzdHJpbmdpZnkiLCJkZXRhaWwiLCJuZXdTdGF0c00iLCJhZGROZXdNIiwidG9nZ2xlSW5wdXRNIiwiZGVsZXRlUm93TSIsInJlbW92ZU0iLCJyZXNwb25zZSIsImRlbGV0ZVJvdyIsIm1heEdhbWVzIiwibWF4Iiwid2Vla3MiLCJhY2N1bXVsYXRlU3RhdHMiLCJyYXRlIiwicmF0ZVBsYXllcnMiLCJjaGFydEFjdGl2ZSIsIiQiLCJ2YWwiLCJzcGxpdCIsInJhdGVkIiwicGxheWVyc09iaiIsImdhbWVTdGF0ZXMiLCJyYW5rZWQiLCJmaWx0ZXIiLCJwIiwicmFuayIsImRsIiwiaW5pdGlhbGl6ZSIsImRvY3VtZW50cyIsIndpbmRvdyIsImRvY3VtZW50IiwiU1ZHU291cmNlcyIsImlmcmFtZXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwib2JqZWN0cyIsImVtcHR5U3ZnIiwiY3JlYXRlRWxlbWVudE5TIiwicHJlZml4IiwiYm9keSIsImFwcGVuZENoaWxkIiwiZW1wdHlTdmdEZWNsYXJhdGlvbkNvbXB1dGVkIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImVsIiwiY29udGVudERvY3VtZW50IiwiZXJyIiwiZG9jIiwibmV3U291cmNlcyIsImdldFNvdXJjZXMiLCJjcmVhdGVQb3BvdmVyIiwiZG93bmxvYWQiLCJzb3VyY2VzIiwiY2xlYW51cCIsInMxIiwiczIiLCJhYnMiLCJidXR0b25zQ29udGFpbmVyIiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImJhY2tncm91bmQiLCJidXR0b25XcmFwcGVyIiwic2Nyb2xsVG9wIiwic2Nyb2xsTGVmdCIsInRleHRDb250ZW50IiwiYnV0dG9uIiwib25jbGljayIsImNyb3diYXJFbGVtZW50cyIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsInN2Z0luZm8iLCJzdmdzIiwicmVtb3ZlQXR0cmlidXRlIiwiaGFzQXR0cmlidXRlTlMiLCJ4bWxucyIsInNldEF0dHJpYnV0ZU5TIiwieGxpbmsiLCJzZXRJbmxpbmVTdHlsZXMiLCJzb3VyY2UiLCJYTUxTZXJpYWxpemVyIiwic2VyaWFsaXplVG9TdHJpbmciLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiY2xhc3MiLCJnZXRBdHRyaWJ1dGUiLCJjaGlsZEVsZW1lbnRDb3VudCIsImRvY3R5cGUiLCJmaWxlbmFtZSIsInRpdGxlIiwicmVwbGFjZSIsInRvTG93ZXJDYXNlIiwidXJsIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiQmxvYiIsInR5cGUiLCJjbGljayIsInNldFRpbWVvdXQiLCJyZXZva2VPYmplY3RVUkwiLCJleHBsaWNpdGx5U2V0U3R5bGUiLCJlbGVtZW50IiwibGVuIiwia2V5IiwidmFsdWUiLCJjU1NTdHlsZURlY2xhcmF0aW9uQ29tcHV0ZWQiLCJjb21wdXRlZFN0eWxlU3RyIiwiZ2V0UHJvcGVydHlWYWx1ZSIsInRyYXZlcnNlIiwib2JqIiwidmlzaXQiLCJub2RlIiwiaGFzQ2hpbGROb2RlcyIsImNoaWxkIiwiZmlyc3RDaGlsZCIsIm5vZGVUeXBlIiwibm9kZU5hbWUiLCJ0cmVlIiwibmV4dFNpYmxpbmciLCJhbGxFbGVtZW50cyIsIndlYmtpdFVSTCIsImFkZFN0YXRzIiwiZ3JhcGgiLCJ0b2dnbGVXaW5zdG9uIiwiYWRkV2luc3RvblN0YXRzIiwic3RyaW5nIiwiam9pbiIsInJlcyIsImRlbGV0ZVdpbnN0b24iLCJ0b2dnbGVNYXJpb3RhIiwiYWRkTWFyaW90YVN0YXRzIiwiZGVsZXRlTWFyaW90YSIsImRyYXdHcmFwaCIsInVwZGF0ZUdyYXBoIiwiYWRkVG9vbFRpcCIsImNvbnRhaW5lciIsImRhdHVtIiwiaW5pdFRUIiwiZXZlbnQiLCJwYWdlWCIsIm9mZnNldCIsInBhZ2VZIiwic2VsZWN0aW9uIiwiZWFjaCIsImN1cnJlbnRSYXRpbmciLCJtb3ZlVG9vbFRpcCIsInJlbW92ZVRvb2xUaXAiLCJkZXNlbGVjdGVkTGluZXMiLCJzZWxlY3RlZCIsInN0cm9rZSIsIm9uIiwicHJpbWFyeSIsInN0cm9rZS13aWR0aCIsInNlbGVjdGVkTGluZXMiLCJzZWxlY3RlZFdlZWsiLCJpc0VtcHR5IiwicmFua2luZ3MiLCJjb2xvcnMiLCJyYXRlZFBsYXllcnMiLCJzb3J0QnlPcmRlciIsInBhcnNlIiwic2Vjb25kYXJ5IiwidGVtcEdyYXBoRGF0YSIsInNlbGVjdGVkUGxheWVycyIsInBsdWNrIiwiaW5jbHVkZXMiLCJjb250cm9scyIsImJhY2tncm91bmQtY29sb3IiLCJodG1sIiwiY29sb3IiLCJjb25maWciLCIkc3RhdGVQcm92aWRlciIsInNlYXJjaFN2YyIsInN0YXRlIiwidGVtcGxhdGVVcmwiLCJyZXNvbHZlIiwibWV0aG9kIiwicnVuIiwiJHN0YXRlIiwiZ28iXSwibWFwcGluZ3MiOiJBQUNBQSxRQUFBQyxPQUFBLFdBQUEsY0NEQUQsUUFBQUMsT0FBQSxXQUNBQyxRQUFBLFVBQUEsUUFBQSxTQUFBQyxHQUNBQyxLQUFBQyxJQUFBLFNBQUFDLEdBQ0EsTUFBQUgsR0FBQUksSUFBQSxrQkFBQUQsSUFFQUYsS0FBQUksT0FBQSxTQUFBRixHQUNBLE1BQUFILEdBQUFJLElBQUEscUJBQUFELElBRUFGLEtBQUFLLEtBQUEsV0FDQSxNQUFBTixHQUFBSSxJQUFBLGtCQ1RBUCxRQUFBQyxPQUFBLFdBQ0FTLFdBQUEsWUFBQSxTQUFBLFNBQUEsYUFBQSxTQUFBQyxFQUFBQyxFQUFBQyxHQTJVQSxRQUFBQyxHQUFBQyxHQUNBQyxFQUFBQyxRQUFBTixFQUFBTyxRQUFBLFNBQUFDLEdBUUEsUUFBQUMsR0FBQUQsR0FDQSxHQUNBRSxHQURBQyxJQUVBTixHQUFBQyxRQUFBRSxFQUFBSSxNQUFBLFNBQUFDLEVBQUFDLEdBQ0EsSUFBQUosR0FBQSxHQUFB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aUJBQUEsY0FDQUMsS0FBQSxZQUFBLGVBQ0FBLEtBQUEsSUFBQSxLQUNBQSxLQUFBLElBQUEsTUFDQUEsS0FBQSxLQUFBLFNBQ0FhLE1BQUEsY0FBQSxPQUNBQyxLQUFBLDhCQzVXQXhGLFFBQUFDLE9BQUEsV0FDQW9SLFFBQUEsaUJBQUEsU0FBQUMsRUFBQUMsR0FFQUQsRUFBQUUsTUFBQSxRQUNBakYsSUFBQSxJQUNBa0YsWUFBQSxtQkFDQS9RLFdBQUEsVUFDQWdSLFNBQ0E3USxZQUFBLFFBQUEsU0FBQVYsR0FDQSxNQUFBQSxJQUFBd1IsT0FBQSxNQUFBcEYsSUFBQSx1QkFzQkFxRixLQUFBLFNBQUEsU0FBQUMsR0FFQUEsRUFBQUMsR0FBQSIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGlzIG5lZWRzIHRvIGJlIGxvYWRlZCBmaXJzdCBiZWNhdXNlIGl0IGRlZmluZXMgdGhlIGRlcGVuZGVuY2llcy4gVGhlIGd1bHAgdGFzayB3aWxsIGFsd2F5cyBjb25jYXQgdGhpcyB0byB0aGUgdG9wIG9mIGZpbGVcbmFuZ3VsYXIubW9kdWxlKCd3aW5zdG9uJywgWyd1aS5yb3V0ZXInXSk7IiwiYW5ndWxhci5tb2R1bGUoJ3dpbnN0b24nKVxuLnNlcnZpY2UoJ2FwaVNWQycsIGZ1bmN0aW9uKCRodHRwKSB7XG4gICAgICAgIHRoaXMuYWRkID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9zdGF0cy9hZGQ/JyArIHBhcmFtcylcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5yZW1vdmUgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3N0YXRzL3JlbW92ZT8nICsgcGFyYW1zKVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvc3RhdHMnKVxuICAgICAgICB9O1xuICAgIH0pOyIsImFuZ3VsYXIubW9kdWxlKCd3aW5zdG9uJylcbiAgICAuY29udHJvbGxlcignbWFpbkNUUkwnLGZ1bmN0aW9uKCRzY29wZSxhcGlTVkMscHJlbG9hZE9iail7XG4gICAgICAgICRzY29wZS5fc2hvd0lucHV0ID0gZmFsc2U7XG4gICAgICAgICRzY29wZS5fc2hvd0lucHV0TSA9IGZhbHNlO1xuICAgICAgICB2YXIgVGFibGVIZWFkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiAnd2VlaycsXG4gICAgICAgICAgICAgICAgICAgIHZhbDogbnVsbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBrZXk6ICdkYXRlJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsOiBudWxsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogJ2cnLFxuICAgICAgICAgICAgICAgICAgICB2YWw6IG51bGxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiAnZ3MnLFxuICAgICAgICAgICAgICAgICAgICB2YWw6IG51bGxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiAncGFzc19jb21wJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsOiBudWxsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogJ3Bhc3NfYXR0JyxcbiAgICAgICAgICAgICAgICAgICAgdmFsOiBudWxsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogJ3Bhc3NfcGN0JyxcbiAgICAgICAgICAgICAgICAgICAgdmFsOiBudWxsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogJ3Bhc3NfeWRzJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsOiBudWxsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogJ3Bhc3NfYXZnJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsOiBudWxsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogJ3Bhc3NfdGQnLFxuICAgICAgICAgICAgICAgICAgICB2YWw6IG51bGxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiAncGFzc19pbnQnLFxuICAgICAgICAgICAgICAgICAgICB2YWw6IG51bGxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiAncGFzc19zY2snLFxuICAgICAgICAgICAgICAgICAgICB2YWw6IG51bGxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiAncGFzc19zY2t5JyxcbiAgICAgICAgICAgICAgICAgICAgdmFsOiBudWxsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogJ3Bhc3NfcmF0ZScsXG4gICAgICAgICAgICAgICAgICAgIHZhbDogbnVsbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBrZXk6ICdydXNoX2F0dCcsXG4gICAgICAgICAgICAgICAgICAgIHZhbDogbnVsbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBrZXk6ICdydXNoX3lkcycsXG4gICAgICAgICAgICAgICAgICAgIHZhbDogbnVsbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBrZXk6ICdydXNoX2F2ZycsXG4gICAgICAgICAgICAgICAgICAgIHZhbDogbnVsbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBrZXk6ICdydXNoX3RkJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsOiBudWxsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogJ2Z1bScsXG4gICAgICAgICAgICAgICAgICAgIHZhbDogbnVsbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBrZXk6ICdmdW1fbG9zdCcsXG4gICAgICAgICAgICAgICAgICAgIHZhbDogbnVsbFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF07XG4gICAgICAgIH07XG4gICAgICAgIHZhciBVcGRhdGVIZWFkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiAnZGF0ZScsXG4gICAgICAgICAgICAgICAgICAgIHZhbDogbnVsbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBrZXk6ICdnJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsOiBudWxsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogJ2dzJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsOiBudWxsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogJ3Bhc3NfY29tcCcsXG4gICAgICAgICAgICAgICAgICAgIHZhbDogbnVsbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBrZXk6ICdwYXNzX2F0dCcsXG4gICAgICAgICAgICAgICAgICAgIHZhbDogbnVsbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBrZXk6ICdwYXNzX3BjdCcsXG4gICAgICAgICAgICAgICAgICAgIHZhbDogbnVsbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBrZXk6ICdwYXNzX3lkcycsXG4gICAgICAgICAgICAgICAgICAgIHZhbDogbnVsbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBrZXk6ICdwYXNzX2F2ZycsXG4gICAgICAgICAgICAgICAgICAgIHZhbDogbnVsbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBrZXk6ICdwYXNzX3RkJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsOiBudWxsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogJ3Bhc3NfaW50JyxcbiAgICAgICAgICAgICAgICAgICAgdmFsOiBudWxsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogJ3Bhc3Nfc2NrJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsOiBudWxsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogJ3Bhc3Nfc2NreScsXG4gICAgICAgICAgICAgICAgICAgIHZhbDogbnVsbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBrZXk6ICdwYXNzX3JhdGUnLFxuICAgICAgICAgICAgICAgICAgICB2YWw6IG51bGxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiAncnVzaF9hdHQnLFxuICAgICAgICAgICAgICAgICAgICB2YWw6IG51bGxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiAncnVzaF95ZHMnLFxuICAgICAgICAgICAgICAgICAgICB2YWw6IG51bGxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiAncnVzaF9hdmcnLFxuICAgICAgICAgICAgICAgICAgICB2YWw6IG51bGxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiAncnVzaF90ZCcsXG4gICAgICAgICAgICAgICAgICAgIHZhbDogbnVsbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBrZXk6ICdmdW0nLFxuICAgICAgICAgICAgICAgICAgICB2YWw6IG51bGxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiAnZnVtX2xvc3QnLFxuICAgICAgICAgICAgICAgICAgICB2YWw6IG51bGxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdO1xuICAgICAgICB9O1xuICAgICAgICBpZiAocHJlbG9hZE9iai5kYXRhLnN0YXR1cyA9PSAnZXJyJykgY29uc29sZS5sb2cocHJlbG9hZE9iai5kYXRhLm1lc3NhZ2UpO1xuICAgICAgICAkc2NvcGUuZ2FtZVN0YXRzID0gcHJlbG9hZE9iai5kYXRhLmRhdGEud2luc3RvbjtcbiAgICAgICAgJHNjb3BlLm1HYW1lU3RhdHMgPSBwcmVsb2FkT2JqLmRhdGEuZGF0YS5tYXJpb3RhO1xuICAgICAgICAkc2NvcGUuc3RhdHMgPSBuZXcgc3RhdHMoKTtcbiAgICAgICAgJHNjb3BlLlVzdGF0cyA9IG5ldyBVc3RhdHMoKTtcbiAgICAgICAgJHNjb3BlLk1zdGF0cyA9IG5ldyBVc3RhdHMoKTtcbiAgICAgICAgJHNjb3BlLm5ld1N0YXRzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBhcGlTVkMuYWRkTmV3KCRzY29wZS5Vc3RhdHMpLnN1Y2Nlc3MoZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PSBcInN1Y2Nlc3NcIikge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuVXN0YXRzID0gbmV3IFVzdGF0cygpO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG9nZ2xlSW5wdXQoKTtcbiAgICAgICAgICAgICAgICAgICAgYXBpU1ZDLmxvYWQoKS5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5nYW1lU3RhdHMgPSBkYXRhLmRhdGEud2luc3RvbjtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdC5tZXNzYWdlLmNvbnN0cmFpbnQgPT0gJ2dhbWVfcGsnKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiRXJyb3I6IFRoYXQgZ2FtZSBhbHJlYWR5IGV4aXN0cyBpbiB0aGUgZGF0YWJhc2UuIERlbGV0ZSBpdCBmaXJzdCBpZiB5b3Ugd2FudCB0byB1cGRhdGUgaXRcIilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiRXJyb3I6IFwiICsgSlNPTi5zdHJpbmdpZnkocmVzdWx0Lm1lc3NhZ2UuZGV0YWlsKSlcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICAkc2NvcGUubmV3U3RhdHNNID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBhcGlTVkMuYWRkTmV3TSgkc2NvcGUuTXN0YXRzKS5zdWNjZXNzKGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT0gXCJzdWNjZXNzXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk1zdGF0cyA9IG5ldyBVc3RhdHMoKTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvZ2dsZUlucHV0TSgpO1xuICAgICAgICAgICAgICAgICAgICBhcGlTVkMubG9hZCgpLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1HYW1lU3RhdHMgPSBkYXRhLmRhdGEubWFyaW90YTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdC5tZXNzYWdlLmNvbnN0cmFpbnQgPT0gJ2dhbWVfcGsnKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiRXJyb3I6IFRoYXQgZ2FtZSBhbHJlYWR5IGV4aXN0cyBpbiB0aGUgZGF0YWJhc2UuIERlbGV0ZSBpdCBmaXJzdCBpZiB5b3Ugd2FudCB0byB1cGRhdGUgaXRcIilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiRXJyb3I6IFwiICsgSlNPTi5zdHJpbmdpZnkocmVzdWx0Lm1lc3NhZ2UuZGV0YWlsKSlcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICAkc2NvcGUudG9nZ2xlSW5wdXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRzY29wZS5fc2hvd0lucHV0ID0gISRzY29wZS5fc2hvd0lucHV0O1xuICAgICAgICB9O1xuICAgICAgICAkc2NvcGUudG9nZ2xlSW5wdXRNID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkc2NvcGUuX3Nob3dJbnB1dE0gPSAhJHNjb3BlLl9zaG93SW5wdXRNO1xuICAgICAgICB9O1xuICAgICAgICAkc2NvcGUuZGVsZXRlUm93TSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKCRzY29wZS5tR2FtZVN0YXRzICE9IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgYXBpU1ZDLnJlbW92ZU0oKS5zdWNjZXNzKGZ1bmN0aW9uKHJlc3BvbnNlKXtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAnc3VjY2VzcycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwaVNWQy5sb2FkKCkuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1HYW1lU3RhdHMgPSBkYXRhLmRhdGEubWFyaW90YTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAkc2NvcGUuZGVsZXRlUm93ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoJHNjb3BlLmdhbWVTdGF0cyAhPSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGFwaVNWQy5yZW1vdmUoKS5zdWNjZXNzKGZ1bmN0aW9uKHJlc3BvbnNlKXtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAnc3VjY2VzcycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwaVNWQy5sb2FkKCkuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmdhbWVTdGF0cyA9IGRhdGEuZGF0YS53aW5zdG9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgICRzY29wZS5tYXhHYW1lcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIG1heCA9IDA7XG4gICAgICAgICAgICBfLmZvckVhY2goJHNjb3BlLnBsYXllcnMsIGZ1bmN0aW9uKHBsYXllcikge1xuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXIuZ2FtZXMubGVuZ3RoID4gbWF4KSBtYXggPSBwbGF5ZXIuZ2FtZXMubGVuZ3RoO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgd2Vla3MgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbWF4ICsgMTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgd2Vla3MucHVzaChpKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHdlZWtzO1xuICAgICAgICB9O1xuICAgICAgICAkc2NvcGUucGxheWVycyA9IHByZWxvYWRPYmouZGF0YS5kYXRhLnBsYXllcnM7XG4gICAgICAgICRzY29wZS5nYW1lcyA9IHByZWxvYWRPYmouZGF0YS5kYXRhLmdhbWVzO1xuICAgICAgICBfLmZvckVhY2goJHNjb3BlLnBsYXllcnMsIGZ1bmN0aW9uKHBsYXllcikge1xuICAgICAgICAgICAgcGxheWVyLmdhbWVzID0gW107XG4gICAgICAgICAgICBfLmZvckVhY2goJHNjb3BlLmdhbWVzLCBmdW5jdGlvbihnYW1lKSB7XG4gICAgICAgICAgICAgICAgaWYgKGdhbWUucGxheWVyID09PSBwbGF5ZXIuaWQpIHBsYXllci5nYW1lcy5wdXNoKGdhbWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgYWNjdW11bGF0ZVN0YXRzID0gZnVuY3Rpb24ocGxheWVyLCB3ZWVrKSB7XG4gICAgICAgICAgICB2YXIgZ2FtZXMgPSBfLnRha2UocGxheWVyLmdhbWVzLCB3ZWVrKTtcbiAgICAgICAgICAgIHZhciBzdGF0c0N1bSA9IHtcbiAgICAgICAgICAgICAgICBwYXNzaW5nX2NvbXA6MCxcbiAgICAgICAgICAgICAgICBwYXNzaW5nX3lkczogMCxcbiAgICAgICAgICAgICAgICBwYXNzaW5nX3RkOiAwLFxuICAgICAgICAgICAgICAgIHBhc3NpbmdfYXR0OiAwLFxuICAgICAgICAgICAgICAgIHBhc3NpbmdfaW50OiAwXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgXy5mb3JFYWNoKGdhbWVzLGZ1bmN0aW9uKGdhbWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZ2FtZS5wYXNzaW5nX2NvbXAgIT0gbnVsbCkgc3RhdHNDdW0ucGFzc2luZ19jb21wICs9IGdhbWUucGFzc2luZ19jb21wO1xuICAgICAgICAgICAgICAgIGlmIChnYW1lLnBhc3NpbmdfeWRzICE9IG51bGwpIHN0YXRzQ3VtLnBhc3NpbmdfeWRzICs9IGdhbWUucGFzc2luZ195ZHM7XG4gICAgICAgICAgICAgICAgaWYgKGdhbWUucGFzc2luZ190ZCAhPSBudWxsKSBzdGF0c0N1bS5wYXNzaW5nX3RkICs9IGdhbWUucGFzc2luZ190ZDtcbiAgICAgICAgICAgICAgICBpZiAoZ2FtZS5wYXNzaW5nX2F0dCAhPSBudWxsKSBzdGF0c0N1bS5wYXNzaW5nX2F0dCArPSBnYW1lLnBhc3NpbmdfYXR0O1xuICAgICAgICAgICAgICAgIGlmIChnYW1lLnBhc3NpbmdfaW50ICE9IG51bGwpIHN0YXRzQ3VtLnBhc3NpbmdfaW50ICs9IGdhbWUucGFzc2luZ19pbnQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIHJhdGUoc3RhdHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdHMucGFzc2luZ19hdHQgIT0gbnVsbCAmJiBzdGF0cy5wYXNzaW5nX2F0dCAhPSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGZvcm11bGEgZnJvbSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9QYXNzZXJfcmF0aW5nXG4gICAgICAgICAgICAgICAgICAgIHZhciBhID0gKHN0YXRzQ3VtLnBhc3NpbmdfY29tcCAvIHN0YXRzQ3VtLnBhc3NpbmdfYXR0IC0gLjMpICogNTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGIgPSAoc3RhdHNDdW0ucGFzc2luZ195ZHMgLyBzdGF0c0N1bS5wYXNzaW5nX2F0dCAtIDMpICogLjI1O1xuICAgICAgICAgICAgICAgICAgICB2YXIgYyA9IChzdGF0c0N1bS5wYXNzaW5nX3RkIC8gc3RhdHNDdW0ucGFzc2luZ19hdHQpICogMjA7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkID0gMi4zNzUgLSAoc3RhdHNDdW0ucGFzc2luZ19pbnQgLyBzdGF0c0N1bS5wYXNzaW5nX2F0dCAqIDI1KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGEgPiAyLjM3NSkgYSA9IDIuMzc1O1xuICAgICAgICAgICAgICAgICAgICBpZiAoYSA8IDApIGEgPSAwO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYiA+IDIuMzc1KSBiID0gMi4zNzU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChiIDwgMCkgYiA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjID4gMi4zNzUpIGMgPSAyLjM3NTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGMgPCAwKSBjID0gMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGQgPiAyLjM3NSkgZCA9IDIuMzc1O1xuICAgICAgICAgICAgICAgICAgICBpZiAoZCA8IDApIGQgPSAwO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGEgKyBiICsgYyArIGQpIC8gNiAqIDEwMDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBsYXllci5yYXRpbmcgPSByYXRlKHN0YXRzQ3VtKTtcbiAgICAgICAgICAgIHJldHVybiBwbGF5ZXI7XG4gICAgICAgIH07XG4gICAgICAgICRzY29wZS5yYXRlUGxheWVycyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJHNjb3BlLmNoYXJ0QWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciB3ZWVrID0gJCgnI3dlZWsycmF0ZScpLnZhbCgpLnNwbGl0KCcgJylbMV07XG4gICAgICAgICAgICB2YXIgcmF0ZWQgPSBbXTtcbiAgICAgICAgICAgICRzY29wZS5yYXRlZCA9IFtdO1xuICAgICAgICAgICAgYXBpU1ZDLmxvYWQoKS5zdWNjZXNzKGZ1bmN0aW9uKHBsYXllcnNPYmopIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUucGxheWVycyA9IHBsYXllcnNPYmouZGF0YS5wbGF5ZXJzO1xuICAgICAgICAgICAgICAgICRzY29wZS5nYW1lcyA9IHBsYXllcnNPYmouZGF0YS5nYW1lcztcbiAgICAgICAgICAgICAgICAkc2NvcGUuZ2FtZVN0YXRlcyA9IHBsYXllcnNPYmouZGF0YS53aW5zdG9uO1xuICAgICAgICAgICAgICAgIF8uZm9yRWFjaCgkc2NvcGUucGxheWVycywgZnVuY3Rpb24ocGxheWVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5nYW1lcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBfLmZvckVhY2goJHNjb3BlLmdhbWVzLCBmdW5jdGlvbihnYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ2FtZS5wbGF5ZXIgPT09IHBsYXllci5pZCkgcGxheWVyLmdhbWVzLnB1c2goZ2FtZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBfLnNvcnRCeShwbGF5ZXIuZ2FtZXMsIGZ1bmN0aW9uKGdhbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBnYW1lLndlZWs7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIF8uZm9yRWFjaCgkc2NvcGUucGxheWVycywgZnVuY3Rpb24ocGxheWVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGFjY3VtdWxhdGVTdGF0cyhwbGF5ZXIsd2Vlayk7XG4gICAgICAgICAgICAgICAgICAgIHJhdGVkLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJwbGF5ZXJcIjpwbGF5ZXIubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwicmF0aW5nXCI6TWF0aC5yb3VuZCgocGxheWVyLnJhdGluZyArIDAuMDAwMDEpICogMTAwKSAvIDEwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaWRcIjpcInBcIitwbGF5ZXIuaWRcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB2YXIgcmFua2VkID0gXy5zb3J0QnkocmF0ZWQsIGZ1bmN0aW9uKHBsYXllcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGxheWVyLnJhdGluZztcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByYW5rZWQgPSBfLmZpbHRlcihyYW5rZWQsIGZ1bmN0aW9uKHApe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcC5yYXRpbmc7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgXy5mb3JFYWNoKHJhbmtlZC5yZXZlcnNlKCksZnVuY3Rpb24ocGxheWVyLCBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIucmFuayA9IGluZGV4ICsgMTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnJhdGVkLnB1c2gocGxheWVyKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBkcmF3R3JhcGhpY3Mod2Vlayk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgZnVuY3Rpb24gZHJhd0dyYXBoaWNzKHdlZWspIHtcbiAgICAgICAgICAgIF8uZm9yRWFjaCgkc2NvcGUucGxheWVycywgZnVuY3Rpb24ocGxheWVyKSB7XG4gICAgICAgICAgICAgICAgcGxheWVyLmdhbWVzID0gW107XG4gICAgICAgICAgICAgICAgXy5mb3JFYWNoKCRzY29wZS5nYW1lcywgZnVuY3Rpb24oZ2FtZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ2FtZS5wbGF5ZXIgPT0gcGxheWVyLmlkKSBwbGF5ZXIuZ2FtZXMucHVzaChnYW1lKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBfLnNvcnRCeShwbGF5ZXIuZ2FtZXMsIGZ1bmN0aW9uKGdhbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdhbWUud2VlaztcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBnZXRSYXRpbmdzKHBsYXllcikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmF0aW5ncyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdHNDdW07XG4gICAgICAgICAgICAgICAgICAgIF8uZm9yRWFjaChwbGF5ZXIuZ2FtZXMsZnVuY3Rpb24oZ2FtZSxpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzdGF0c0N1bSAmJiBnYW1lLmcgPT0gMSAmJiBnYW1lLnBhc3NpbmdfYXR0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHNDdW0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3NpbmdfY29tcDowLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzaW5nX3lkczogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc2luZ190ZDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc2luZ19hdHQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3NpbmdfaW50OiAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ2FtZS5wYXNzaW5nX2NvbXAgIT0gbnVsbCkgc3RhdHNDdW0ucGFzc2luZ19jb21wICs9IGdhbWUucGFzc2luZ19jb21wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnYW1lLnBhc3NpbmdfeWRzICE9IG51bGwpIHN0YXRzQ3VtLnBhc3NpbmdfeWRzICs9IGdhbWUucGFzc2luZ195ZHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdhbWUucGFzc2luZ190ZCAhPSBudWxsKSBzdGF0c0N1bS5wYXNzaW5nX3RkICs9IGdhbWUucGFzc2luZ190ZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ2FtZS5wYXNzaW5nX2F0dCAhPSBudWxsKSBzdGF0c0N1bS5wYXNzaW5nX2F0dCArPSBnYW1lLnBhc3NpbmdfYXR0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnYW1lLnBhc3NpbmdfaW50ICE9IG51bGwpIHN0YXRzQ3VtLnBhc3NpbmdfaW50ICs9IGdhbWUucGFzc2luZ19pbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRzQ3VtLnBhc3NpbmdfYXR0ICE9IG51bGwgJiYgc3RhdHNDdW0ucGFzc2luZ19hdHQgIT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmb3JtdWxhIGZyb20gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUGFzc2VyX3JhdGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYSA9IChzdGF0c0N1bS5wYXNzaW5nX2NvbXAgLyBzdGF0c0N1bS5wYXNzaW5nX2F0dCAtIC4zKSAqIDU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiID0gKHN0YXRzQ3VtLnBhc3NpbmdfeWRzIC8gc3RhdHNDdW0ucGFzc2luZ19hdHQgLSAzKSAqIC4yNTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGMgPSAoc3RhdHNDdW0ucGFzc2luZ190ZCAvIHN0YXRzQ3VtLnBhc3NpbmdfYXR0KSAqIDIwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZCA9IDIuMzc1IC0gKHN0YXRzQ3VtLnBhc3NpbmdfaW50IC8gc3RhdHNDdW0ucGFzc2luZ19hdHQgKiAyNSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhID4gMi4zNzUpIGEgPSAyLjM3NTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGEgPCAwKSBhID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGIgPiAyLjM3NSkgYiA9IDIuMzc1O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYiA8IDApIGIgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYyA+IDIuMzc1KSBjID0gMi4zNzU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjIDwgMCkgYyA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkID4gMi4zNzUpIGQgPSAyLjM3NTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGQgPCAwKSBkID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJhdGluZyA9IChhK2IrYytkKS82KjEwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW5ncy5wdXNoKHtcIndlZWtcIjppbmRleCArIDEsIFwicmF0aW5nXCI6TWF0aC5yb3VuZCgocmF0aW5nICsgMC4wMDAwMSkgKiAxMDApIC8gMTAwLFwicGlkXCI6cGxheWVyLmlkfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFzdGF0c0N1bSAmJiAhZ2FtZS5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW5ncy5wdXNoKHtcIndlZWtcIjppbmRleCArIDEsXCJyYXRpbmdcIjpudWxsLFwicGlkXCI6cGxheWVyLmlkfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXN0YXRzQ3VtICYmIGdhbWUuZyA9PSAxICYmICFnYW1lLnBhc3NpbmdfYXR0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHggPSByYXRpbmdzW3JhdGluZ3MubGVuZ3RoIC0xXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgeSA9IHtcIndlZWtcIjogeC53ZWVrICsgMSxcInJhdGluZ1wiOiB4LnJhdGluZyxcInBpZFwiOnBsYXllci5pZH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW5ncy5wdXNoKHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdhbWUucGFzc2luZ19jb21wICE9IG51bGwpIHN0YXRzQ3VtLnBhc3NpbmdfY29tcCArPSBnYW1lLnBhc3NpbmdfY29tcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ2FtZS5wYXNzaW5nX3lkcyAhPSBudWxsKSBzdGF0c0N1bS5wYXNzaW5nX3lkcyArPSBnYW1lLnBhc3NpbmdfeWRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnYW1lLnBhc3NpbmdfdGQgIT0gbnVsbCkgc3RhdHNDdW0ucGFzc2luZ190ZCArPSBnYW1lLnBhc3NpbmdfdGQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdhbWUucGFzc2luZ19hdHQgIT0gbnVsbCkgc3RhdHNDdW0ucGFzc2luZ19hdHQgKz0gZ2FtZS5wYXNzaW5nX2F0dDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ2FtZS5wYXNzaW5nX2ludCAhPSBudWxsKSBzdGF0c0N1bS5wYXNzaW5nX2ludCArPSBnYW1lLnBhc3NpbmdfaW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0c0N1bS5wYXNzaW5nX2F0dCAhPSBudWxsICYmIHN0YXRzQ3VtLnBhc3NpbmdfYXR0ICE9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZm9ybXVsYSBmcm9tIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1Bhc3Nlcl9yYXRpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSAoc3RhdHNDdW0ucGFzc2luZ19jb21wIC8gc3RhdHNDdW0ucGFzc2luZ19hdHQgLSAuMykgKiA1O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYiA9IChzdGF0c0N1bS5wYXNzaW5nX3lkcyAvIHN0YXRzQ3VtLnBhc3NpbmdfYXR0IC0gMykgKiAuMjU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjID0gKHN0YXRzQ3VtLnBhc3NpbmdfdGQgLyBzdGF0c0N1bS5wYXNzaW5nX2F0dCkgKiAyMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGQgPSAyLjM3NSAtIChzdGF0c0N1bS5wYXNzaW5nX2ludCAvIHN0YXRzQ3VtLnBhc3NpbmdfYXR0ICogMjUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYSA+IDIuMzc1KSBhID0gMi4zNzU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhIDwgMCkgYSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiID4gMi4zNzUpIGIgPSAyLjM3NTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGIgPCAwKSBiID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGMgPiAyLjM3NSkgYyA9IDIuMzc1O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYyA8IDApIGMgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZCA+IDIuMzc1KSBkID0gMi4zNzU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkIDwgMCkgZCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByYXRpbmcgPSAoYStiK2MrZCkvNioxMDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhdGluZ3MucHVzaCh7XCJ3ZWVrXCI6aW5kZXggKyAxLCBcInJhdGluZ1wiOk1hdGgucm91bmQoKHJhdGluZyArIDAuMDAwMDEpICogMTAwKSAvIDEwMCxcInBpZFwiOnBsYXllci5pZH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJhdGluZ09iaiA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBfLmZvckVhY2gocmF0aW5ncywgZnVuY3Rpb24ocmF0aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByYXRpbmdPYmpbcmF0aW5nLndlZWtdID0gcmF0aW5nO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBfLmZvckVhY2gocmF0aW5nT2JqLCBmdW5jdGlvbihyYXRpbmcsaSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJhdGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpICE9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW5nID0gcmF0aW5nT2JqW2ktMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhdGluZy53ZWVrKytcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXRpbmcud2VlayA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhdGluZy5yYXRpbmcgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXRpbmcucGlkID0gcGxheWVyLmlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLy9mb3IgKHZhciBpID0gMTsgaSA8IDE5OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgaWYgKCFyYXRpbmdPYmpbaV0pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgIGlmIChpICE9IDEgJiYgcmF0aW5nT2JqW2ktMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICByYXRpbmdPYmpbaV0gPSByYXRpbmdPYmpbaS0xXTtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICByYXRpbmdPYmpbaV0ud2VlayA9IGk7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgIHJhdGluZ09ialtpXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy99XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByYXRpbmdPYmo7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciByYXRpbmdzID0gXy52YWx1ZXMoZ2V0UmF0aW5ncyhwbGF5ZXIpKTtcbiAgICAgICAgICAgICAgICAvL2lmICghcGxheWVyLmlkID09IDEpIHdlZWsgKz0gMztcbiAgICAgICAgICAgICAgICBwbGF5ZXIucmF0aW5ncyA9IF8udGFrZShyYXRpbmdzLCB3ZWVrKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXy5mb3JFYWNoKCRzY29wZS5wbGF5ZXJzLGZ1bmN0aW9uKHBsYXllcikge1xuICAgICAgICAgICAgICAgIHBsYXllci5jbGFzc05hbWUgPSAnb3RoZXInO1xuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXIuaWQgPT09IDEpIHBsYXllci5jbGFzc05hbWUgPSAnamFtZWlzJztcbiAgICAgICAgICAgICAgICBpZiAocGxheWVyLmlkID09PSAyKSBwbGF5ZXIuY2xhc3NOYW1lID0gJ21hcmN1cyc7XG4gICAgICAgICAgICAgICAgcGxheWVyLnJhdGluZ3MuZm9yRWFjaChmdW5jdGlvbihkLGkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGQud2VlayA9ICtkLndlZWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkLnJhdGluZyA9IGQucmF0aW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgZC5waWQgPSBwbGF5ZXIuaWQ7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPSAwICYmIHBsYXllci5yYXRpbmdzW2ldICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXIucmF0aW5nc1tpXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ3ZWVrXCI6cGxheWVyLnJhdGluZ3NbaV0ud2VlayArIDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicmF0aW5nXCI6cGxheWVyLnJhdGluZ3NbaV0ucmF0aW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInBpZFwiOnBsYXllci5pZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyLnJhdGluZ3NbaV0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwid2Vla1wiOiBpICsgMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJyYXRpbmdcIjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwaWRcIjogcGxheWVyLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIFRoaXMgbG9vcCBjYW4gYmUgdXNlZCB0byBjaGVjayBpZiBhbnkgZGlkbid0IGdldCByYXRlZFxuICAgICAgICAgICAgLy9fLmZvckVhY2goJHNjb3BlLnBsYXllcnMsZnVuY3Rpb24ocGxheWVyKSB7XG4gICAgICAgICAgICAvLyAgICBpZiAocGxheWVyLnJhdGluZ3MubGVuZ3RoIDwgcGxheWVyLmdhbWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGxheWVyLnJhdGluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgY29uc29sZS5sb2cocGxheWVyLm5hbWUsIHBsYXllci5yYXRpbmdzW2ldLndlZWspXG4gICAgICAgICAgICAvLyAgICAgICAgfVxuICAgICAgICAgICAgLy8gICAgfVxuICAgICAgICAgICAgLy99KTtcbiAgICAgICAgICAgIHZhciBtYXJnaW4gPSB7dG9wOiAyMCwgcmlnaHQ6IDIwLCBib3R0b206IDMwLCBsZWZ0OiA1MH07XG4gICAgICAgICAgICB2YXIgd2lkdGggPSA5NjAgLSBtYXJnaW4ucmlnaHQgLSBtYXJnaW4ubGVmdDtcbiAgICAgICAgICAgIHZhciBoZWlnaHQgPSA1MDAgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTtcbiAgICAgICAgICAgIHZhciB4ID0gZDMuc2NhbGUubGluZWFyKCkucmFuZ2UoWzAsd2lkdGhdKTtcbiAgICAgICAgICAgIHZhciB5ID0gZDMuc2NhbGUubGluZWFyKCkucmFuZ2UoW2hlaWdodCwwXSk7XG4gICAgICAgICAgICB2YXIgeEF4aXMgPSBkMy5zdmcuYXhpcygpLnNjYWxlKHgpLm9yaWVudChcImJvdHRvbVwiKS50aWNrVmFsdWVzKGQzLnJhbmdlKDEsd2VlayArIDEpKS50aWNrRm9ybWF0KGQzLmZvcm1hdChcImRcIikpO1xuICAgICAgICAgICAgdmFyIHlBeGlzID0gZDMuc3ZnLmF4aXMoKS5zY2FsZSh5KS5vcmllbnQoXCJsZWZ0XCIpO1xuICAgICAgICAgICAgdmFyIGxpbmUgPSBkMy5zdmcubGluZSgpXG4gICAgICAgICAgICAgICAgLngoZnVuY3Rpb24oZCkgeyByZXR1cm4geChkLndlZWspfSlcbiAgICAgICAgICAgICAgICAueShmdW5jdGlvbihkKSB7IHJldHVybiB5KGQucmF0aW5nKX0pXG4gICAgICAgICAgICAgICAgLmludGVycG9sYXRlKCdiYXNpcycpO1xuICAgICAgICAgICAgdmFyIHN2ZyA9IGQzLnNlbGVjdChcIiNncmFwaFwiKS5zZWxlY3Rfb3JfYXBwZW5kKFwic3ZnXCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ3aWR0aFwiLCB3aWR0aCArIG1hcmdpbi5sZWZ0ICsgbWFyZ2luLnJpZ2h0KVxuICAgICAgICAgICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIGhlaWdodCArIG1hcmdpbi50b3AgKyBtYXJnaW4uYm90dG9tKVxuICAgICAgICAgICAgICAgIC5zZWxlY3Rfb3JfYXBwZW5kKFwiZy5jb250YWluZXJcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLFwidHJhbnNsYXRlKFwiICsgbWFyZ2luLmxlZnQgKyBcIixcIiArIG1hcmdpbi50b3AgKyBcIilcIik7XG4gICAgICAgICAgICB4LmRvbWFpbihbMSwgTnVtYmVyKHdlZWspXSk7XG4gICAgICAgICAgICB5LmRvbWFpbihbMCwxNjBdKTtcblxuICAgICAgICAgICAgdmFyIGxpbmVzID0gc3ZnLnNlbGVjdF9vcl9hcHBlbmQoJ2cubGluZXMnKS5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgICAgICAgICAgIC5kYXRhKCRzY29wZS5wbGF5ZXJzLnJldmVyc2UoKSxmdW5jdGlvbihkKXtpZihkKXsvKmNvbnNvbGUubG9nKGQpOyovcmV0dXJuIGQuaWQ7fX0pO1xuXG4gICAgICAgICAgICBsaW5lcy5lbnRlcigpLmFwcGVuZCgncGF0aCcpXG4gICAgICAgICAgICAuYXR0cihcImNsYXNzXCIsZnVuY3Rpb24oZCkgeyByZXR1cm4gZC5jbGFzc05hbWV9KVxuICAgICAgICAgICAgLmF0dHIoXCJuYW1lXCIsZnVuY3Rpb24oZCl7cmV0dXJuIGQubmFtZX0pXG4gICAgICAgICAgICAuYXR0cihcImRcIiwgZnVuY3Rpb24oZCkge3JldHVybiBsaW5lKGQucmF0aW5ncyl9KTtcblxuICAgICAgICAgICAgbGluZXMuYXR0cihcImNsYXNzXCIsZnVuY3Rpb24oZCkgeyByZXR1cm4gZC5jbGFzc05hbWV9KVxuICAgICAgICAgICAgLmF0dHIoXCJuYW1lXCIsZnVuY3Rpb24oZCl7cmV0dXJuIGQubmFtZX0pXG4gICAgICAgICAgICAudHJhbnNpdGlvbigpLmF0dHIoXCJkXCIsIGZ1bmN0aW9uKGQpIHtyZXR1cm4gbGluZShkLnJhdGluZ3MpfSk7XG5cbiAgICAgICAgICAgIGxpbmVzLmV4aXQoKS5yZW1vdmUoKTtcblxuICAgICAgICAgICAgc3ZnLnNlbGVjdF9vcl9hcHBlbmQoXCJnLnhcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwieCBheGlzXCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIGhlaWdodCArIFwiKVwiKVxuICAgICAgICAgICAgICAgIC5jYWxsKHhBeGlzKVxuICAgICAgICAgICAgICAgIC5zZWxlY3Rfb3JfYXBwZW5kKFwidGV4dC54YXhpc1wiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwieVwiLDI1KVxuICAgICAgICAgICAgICAgIC5hdHRyKFwieFwiLDQ1MClcbiAgICAgICAgICAgICAgICAuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLFwiZW5kXCIpXG4gICAgICAgICAgICAgICAgLnN0eWxlKFwiZHlcIixcIi43MWVtXCIpXG4gICAgICAgICAgICAgICAgLnRleHQoXCJXZWVrXCIpO1xuXG4gICAgICAgICAgICBzdmcuc2VsZWN0X29yX2FwcGVuZChcImcueVwiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJ5IGF4aXNcIilcbiAgICAgICAgICAgICAgICAuY2FsbCh5QXhpcylcbiAgICAgICAgICAgICAgICAuc2VsZWN0X29yX2FwcGVuZChcInRleHQueWF4aXNcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLFwicm90YXRlKC05MClcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcInlcIiwtNTApXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ4XCIsIC0xNTApXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJkeVwiLCBcIi43MWVtXCIpXG4gICAgICAgICAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIixcImVuZFwiKVxuICAgICAgICAgICAgICAgIC50ZXh0KFwiUUIgUmF0aW5nIChjdW11bGF0aXZlKVwiKTtcbiAgICAgICAgfVxuICAgICAgICAkc2NvcGUuY2hhcnRBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgJHNjb3BlLmRsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgZG9jdHlwZSA9ICc8P3htbCB2ZXJzaW9uPVwiMS4wXCIgc3RhbmRhbG9uZT1cIm5vXCI/PjwhRE9DVFlQRSBzdmcgUFVCTElDIFwiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU5cIiBcImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZFwiPic7XG5cbiAgICAgICAgICAgIHdpbmRvdy5VUkwgPSAod2luZG93LlVSTCB8fCB3aW5kb3cud2Via2l0VVJMKTtcblxuICAgICAgICAgICAgdmFyIGJvZHkgPSBkb2N1bWVudC5ib2R5LFxuICAgICAgICAgICAgICAgIGVtcHR5U3ZnO1xuXG4gICAgICAgICAgICB2YXIgcHJlZml4ID0ge1xuICAgICAgICAgICAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAveG1sbnMvXCIsXG4gICAgICAgICAgICAgICAgeGxpbms6IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiLFxuICAgICAgICAgICAgICAgIHN2ZzogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpbml0aWFsaXplKCk7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGluaXRpYWxpemUoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRvY3VtZW50cyA9IFt3aW5kb3cuZG9jdW1lbnRdLFxuICAgICAgICAgICAgICAgICAgICBTVkdTb3VyY2VzID0gW107XG4gICAgICAgICAgICAgICAgaWZyYW1lcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJpZnJhbWVcIiksXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwib2JqZWN0XCIpO1xuXG4gICAgICAgICAgICAgICAgLy8gYWRkIGVtcHR5IHN2ZyBlbGVtZW50XG4gICAgICAgICAgICAgICAgdmFyIGVtcHR5U3ZnID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhwcmVmaXguc3ZnLCAnc3ZnJyk7XG4gICAgICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZW1wdHlTdmcpO1xuICAgICAgICAgICAgICAgIHZhciBlbXB0eVN2Z0RlY2xhcmF0aW9uQ29tcHV0ZWQgPSBnZXRDb21wdXRlZFN0eWxlKGVtcHR5U3ZnKTtcblxuICAgICAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbChpZnJhbWVzLCBmdW5jdGlvbihlbCkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsLmNvbnRlbnREb2N1bWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50cy5wdXNoKGVsLmNvbnRlbnREb2N1bWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2goZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwob2JqZWN0cywgZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbC5jb250ZW50RG9jdW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudHMucHVzaChlbC5jb250ZW50RG9jdW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBkb2N1bWVudHMuZm9yRWFjaChmdW5jdGlvbihkb2MpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld1NvdXJjZXMgPSBnZXRTb3VyY2VzKGRvYywgZW1wdHlTdmdEZWNsYXJhdGlvbkNvbXB1dGVkKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gYmVjYXVzZSBvZiBwcm90b3R5cGUgb24gTllUIHBhZ2VzXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmV3U291cmNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgU1ZHU291cmNlcy5wdXNoKG5ld1NvdXJjZXNbaV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKFNWR1NvdXJjZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVQb3BvdmVyKFNWR1NvdXJjZXMpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoU1ZHU291cmNlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvd25sb2FkKFNWR1NvdXJjZXNbMF0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiVGhlIENyb3diYXIgY291bGRu4oCZdCBmaW5kIGFueSBTVkcgbm9kZXMuXCIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBjcmVhdGVQb3BvdmVyKHNvdXJjZXMpIHtcbiAgICAgICAgICAgICAgICBjbGVhbnVwKCk7XG5cbiAgICAgICAgICAgICAgICBzb3VyY2VzLmZvckVhY2goZnVuY3Rpb24oczEpIHtcbiAgICAgICAgICAgICAgICAgICAgc291cmNlcy5mb3JFYWNoKGZ1bmN0aW9uKHMyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoczEgIT09IHMyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChNYXRoLmFicyhzMS50b3AgLSBzMi50b3ApIDwgMzgpICYmIChNYXRoLmFicyhzMS5sZWZ0IC0gczIubGVmdCkgPCAzOCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczIudG9wICs9IDM4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMi5sZWZ0ICs9IDM4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgYnV0dG9uc0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgYm9keS5hcHBlbmRDaGlsZChidXR0b25zQ29udGFpbmVyKTtcblxuICAgICAgICAgICAgICAgIGJ1dHRvbnNDb250YWluZXIuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJzdmctY3Jvd2JhclwiKTtcbiAgICAgICAgICAgICAgICBidXR0b25zQ29udGFpbmVyLnN0eWxlW1wiei1pbmRleFwiXSA9IDFlNztcbiAgICAgICAgICAgICAgICBidXR0b25zQ29udGFpbmVyLnN0eWxlW1wicG9zaXRpb25cIl0gPSBcImFic29sdXRlXCI7XG4gICAgICAgICAgICAgICAgYnV0dG9uc0NvbnRhaW5lci5zdHlsZVtcInRvcFwiXSA9IDA7XG4gICAgICAgICAgICAgICAgYnV0dG9uc0NvbnRhaW5lci5zdHlsZVtcImxlZnRcIl0gPSAwO1xuXG5cblxuICAgICAgICAgICAgICAgIHZhciBiYWNrZ3JvdW5kID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICBib2R5LmFwcGVuZENoaWxkKGJhY2tncm91bmQpO1xuXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInN2Zy1jcm93YmFyXCIpO1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmQuc3R5bGVbXCJiYWNrZ3JvdW5kXCJdID0gXCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNylcIjtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLnN0eWxlW1wicG9zaXRpb25cIl0gPSBcImZpeGVkXCI7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC5zdHlsZVtcImxlZnRcIl0gPSAwO1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmQuc3R5bGVbXCJ0b3BcIl0gPSAwO1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmQuc3R5bGVbXCJ3aWR0aFwiXSA9IFwiMTAwJVwiO1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmQuc3R5bGVbXCJoZWlnaHRcIl0gPSBcIjEwMCVcIjtcblxuICAgICAgICAgICAgICAgIHNvdXJjZXMuZm9yRWFjaChmdW5jdGlvbihkLCBpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBidXR0b25XcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uc0NvbnRhaW5lci5hcHBlbmRDaGlsZChidXR0b25XcmFwcGVyKTtcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uV3JhcHBlci5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInN2Zy1jcm93YmFyXCIpO1xuICAgICAgICAgICAgICAgICAgICBidXR0b25XcmFwcGVyLnN0eWxlW1wicG9zaXRpb25cIl0gPSBcImFic29sdXRlXCI7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbldyYXBwZXIuc3R5bGVbXCJ0b3BcIl0gPSAoZC50b3AgKyBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCkgKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbldyYXBwZXIuc3R5bGVbXCJsZWZ0XCJdID0gKGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdCArIGQubGVmdCkgKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbldyYXBwZXIuc3R5bGVbXCJwYWRkaW5nXCJdID0gXCI0cHhcIjtcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uV3JhcHBlci5zdHlsZVtcImJvcmRlci1yYWRpdXNcIl0gPSBcIjNweFwiO1xuICAgICAgICAgICAgICAgICAgICBidXR0b25XcmFwcGVyLnN0eWxlW1wiY29sb3JcIl0gPSBcIndoaXRlXCI7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbldyYXBwZXIuc3R5bGVbXCJ0ZXh0LWFsaWduXCJdID0gXCJjZW50ZXJcIjtcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uV3JhcHBlci5zdHlsZVtcImZvbnQtZmFtaWx5XCJdID0gXCInSGVsdmV0aWNhIE5ldWUnXCI7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbldyYXBwZXIuc3R5bGVbXCJiYWNrZ3JvdW5kXCJdID0gXCJyZ2JhKDAsIDAsIDAsIDAuOClcIjtcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uV3JhcHBlci5zdHlsZVtcImJveC1zaGFkb3dcIl0gPSBcIjBweCA0cHggMThweCByZ2JhKDAsIDAsIDAsIDAuNClcIjtcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uV3JhcHBlci5zdHlsZVtcImN1cnNvclwiXSA9IFwibW92ZVwiO1xuICAgICAgICAgICAgICAgICAgICBidXR0b25XcmFwcGVyLnRleHRDb250ZW50ID0gIFwiU1ZHICNcIiArIGkgKyBcIjogXCIgKyAoZC5pZCA/IFwiI1wiICsgZC5pZCA6IFwiXCIpICsgKGQuY2xhc3MgPyBcIi5cIiArIGQuY2xhc3MgOiBcIlwiKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uV3JhcHBlci5hcHBlbmRDaGlsZChidXR0b24pO1xuICAgICAgICAgICAgICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKFwiZGF0YS1zb3VyY2UtaWRcIiwgaSk7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5zdHlsZVtcIndpZHRoXCJdID0gXCIxNTBweFwiO1xuICAgICAgICAgICAgICAgICAgICBidXR0b24uc3R5bGVbXCJmb250LXNpemVcIl0gPSBcIjEycHhcIjtcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uLnN0eWxlW1wibGluZS1oZWlnaHRcIl0gPSBcIjEuNGVtXCI7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5zdHlsZVtcIm1hcmdpblwiXSA9IFwiNXB4IDAgMCAwXCI7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9IFwiRG93bmxvYWRcIjtcblxuICAgICAgICAgICAgICAgICAgICBidXR0b24ub25jbGljayA9IGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhlbCwgZCwgaSwgc291cmNlcylcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkKGQpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gY2xlYW51cCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgY3Jvd2JhckVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5zdmctY3Jvd2JhclwiKTtcblxuICAgICAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbChjcm93YmFyRWxlbWVudHMsIGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWwpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldFNvdXJjZXMoZG9jLCBlbXB0eVN2Z0RlY2xhcmF0aW9uQ29tcHV0ZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3ZnSW5mbyA9IFtdLFxuICAgICAgICAgICAgICAgICAgICBzdmdzID0gZG9jLnF1ZXJ5U2VsZWN0b3JBbGwoXCJzdmdcIik7XG5cbiAgICAgICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwoc3ZncywgZnVuY3Rpb24gKHN2Zykge1xuXG4gICAgICAgICAgICAgICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGUoXCJ2ZXJzaW9uXCIsIFwiMS4xXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlbW92aW5nIGF0dHJpYnV0ZXMgc28gdGhleSBhcmVuJ3QgZG91YmxlZCB1cFxuICAgICAgICAgICAgICAgICAgICBzdmcucmVtb3ZlQXR0cmlidXRlKFwieG1sbnNcIik7XG4gICAgICAgICAgICAgICAgICAgIHN2Zy5yZW1vdmVBdHRyaWJ1dGUoXCJ4bGlua1wiKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBUaGVzZSBhcmUgbmVlZGVkIGZvciB0aGUgc3ZnXG4gICAgICAgICAgICAgICAgICAgIGlmICghc3ZnLmhhc0F0dHJpYnV0ZU5TKHByZWZpeC54bWxucywgXCJ4bWxuc1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZU5TKHByZWZpeC54bWxucywgXCJ4bWxuc1wiLCBwcmVmaXguc3ZnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICghc3ZnLmhhc0F0dHJpYnV0ZU5TKHByZWZpeC54bWxucywgXCJ4bWxuczp4bGlua1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZU5TKHByZWZpeC54bWxucywgXCJ4bWxuczp4bGlua1wiLCBwcmVmaXgueGxpbmspO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgc2V0SW5saW5lU3R5bGVzKHN2ZywgZW1wdHlTdmdEZWNsYXJhdGlvbkNvbXB1dGVkKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgc291cmNlID0gKG5ldyBYTUxTZXJpYWxpemVyKCkpLnNlcmlhbGl6ZVRvU3RyaW5nKHN2Zyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZWN0ID0gc3ZnLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICBzdmdJbmZvLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiByZWN0LnRvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IHJlY3QubGVmdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiByZWN0LndpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiByZWN0LmhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiBzdmcuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogc3ZnLmdldEF0dHJpYnV0ZShcImlkXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRFbGVtZW50Q291bnQ6IHN2Zy5jaGlsZEVsZW1lbnRDb3VudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZTogW2RvY3R5cGUgKyBzb3VyY2VdXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBzdmdJbmZvO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBkb3dubG9hZChzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICB2YXIgZmlsZW5hbWUgPSBcInVudGl0bGVkXCI7XG5cbiAgICAgICAgICAgICAgICBpZiAoc291cmNlLmlkKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lID0gc291cmNlLmlkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc291cmNlLmNsYXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lID0gc291cmNlLmNsYXNzO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAod2luZG93LmRvY3VtZW50LnRpdGxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lID0gd2luZG93LmRvY3VtZW50LnRpdGxlLnJlcGxhY2UoL1teYS16MC05XS9naSwgJy0nKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciB1cmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihzb3VyY2Uuc291cmNlLCB7IFwidHlwZVwiIDogXCJ0ZXh0XFwveG1sXCIgfSkpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcbiAgICAgICAgICAgICAgICBib2R5LmFwcGVuZENoaWxkKGEpO1xuICAgICAgICAgICAgICAgIGEuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJzdmctY3Jvd2JhclwiKTtcbiAgICAgICAgICAgICAgICBhLnNldEF0dHJpYnV0ZShcImRvd25sb2FkXCIsIGZpbGVuYW1lICsgXCIuc3ZnXCIpO1xuICAgICAgICAgICAgICAgIGEuc2V0QXR0cmlidXRlKFwiaHJlZlwiLCB1cmwpO1xuICAgICAgICAgICAgICAgIGEuc3R5bGVbXCJkaXNwbGF5XCJdID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgYS5jbGljaygpO1xuXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LlVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcbiAgICAgICAgICAgICAgICB9LCAxMCk7XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgZnVuY3Rpb24gc2V0SW5saW5lU3R5bGVzKHN2ZywgZW1wdHlTdmdEZWNsYXJhdGlvbkNvbXB1dGVkKSB7XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBleHBsaWNpdGx5U2V0U3R5bGUgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNTU1N0eWxlRGVjbGFyYXRpb25Db21wdXRlZCA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpLCBsZW4sIGtleSwgdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb21wdXRlZFN0eWxlU3RyID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChpPTAsIGxlbj1jU1NTdHlsZURlY2xhcmF0aW9uQ29tcHV0ZWQubGVuZ3RoOyBpPGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9Y1NTU3R5bGVEZWNsYXJhdGlvbkNvbXB1dGVkW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9Y1NTU3R5bGVEZWNsYXJhdGlvbkNvbXB1dGVkLmdldFByb3BlcnR5VmFsdWUoa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSE9PWVtcHR5U3ZnRGVjbGFyYXRpb25Db21wdXRlZC5nZXRQcm9wZXJ0eVZhbHVlKGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlZFN0eWxlU3RyKz1rZXkrXCI6XCIrdmFsdWUrXCI7XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgY29tcHV0ZWRTdHlsZVN0cik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHRyYXZlcnNlKG9iail7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0cmVlID0gW107XG4gICAgICAgICAgICAgICAgICAgIHRyZWUucHVzaChvYmopO1xuICAgICAgICAgICAgICAgICAgICB2aXNpdChvYmopO1xuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiB2aXNpdChub2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZSAmJiBub2RlLmhhc0NoaWxkTm9kZXMoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IG5vZGUuZmlyc3RDaGlsZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoY2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkLm5vZGVUeXBlID09PSAxICYmIGNoaWxkLm5vZGVOYW1lICE9ICdTQ1JJUFQnKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyZWUucHVzaChjaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpdChjaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQgPSBjaGlsZC5uZXh0U2libGluZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRyZWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGhhcmRjb2RlIGNvbXB1dGVkIGNzcyBzdHlsZXMgaW5zaWRlIHN2Z1xuICAgICAgICAgICAgICAgIHZhciBhbGxFbGVtZW50cyA9IHRyYXZlcnNlKHN2Zyk7XG4gICAgICAgICAgICAgICAgdmFyIGkgPSBhbGxFbGVtZW50cy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGktLSl7XG4gICAgICAgICAgICAgICAgICAgIGV4cGxpY2l0bHlTZXRTdHlsZShhbGxFbGVtZW50c1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgfTtcbiAgICB9KTtcblxuXG5cblxuXG5cblxuXG5cbiIsImFuZ3VsYXIubW9kdWxlKCd3aW5zdG9uJylcbiAgICAuY29udHJvbGxlcignbmV3Q1RSTCcsZnVuY3Rpb24oJHNjb3BlLGFwaVNWQyxwcmVsb2FkT2JqKSB7XG4gICAgICAgICRzY29wZS53aW5zdG9uID0gcHJlbG9hZE9iai5kYXRhLmRhdGFbMF07XG4gICAgICAgICRzY29wZS53aW5zdG9uLmFkZFN0YXRzID0gZmFsc2U7XG4gICAgICAgICRzY29wZS5wbGF5ZXJzID0gcHJlbG9hZE9iai5kYXRhLmRhdGE7XG4gICAgICAgICRzY29wZS5tYXJpb3RhID0gcHJlbG9hZE9iai5kYXRhLmRhdGFbMV07XG4gICAgICAgICRzY29wZS5tYXJpb3RhLmFkZFN0YXRzID0gZmFsc2U7XG4gICAgICAgICRzY29wZS5ncmFwaCA9IHtcbiAgICAgICAgICAgIHdlZWtzOiBbMSwyLDMsNCw1LDYsNyw4LDksMTAsMTEsMTIsMTMsMTQsMTUsMTYsMTcsMThdXG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLnRvZ2dsZVdpbnN0b24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRzY29wZS53aW5zdG9uLmFkZFN0YXRzID0gISRzY29wZS53aW5zdG9uLmFkZFN0YXRzO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5hZGRXaW5zdG9uU3RhdHMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBzdHJpbmcgPSBcInBsYXllcj0xJnNlYXNvbj0yMDE1JlwiO1xuICAgICAgICAgICAgdmFyIHBhcmFtcyA9IFtdO1xuICAgICAgICAgICAgXy5mb3JFYWNoKCRzY29wZS53aW5zdG9uLm5ldywgZnVuY3Rpb24odmFsLGtleSkge1xuICAgICAgICAgICAgICAgIHBhcmFtcy5wdXNoKGtleStcIj1cIit2YWwpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHN0cmluZyArPSBwYXJhbXMuam9pbihcIiZcIik7XG4gICAgICAgICAgICBhcGlTVkMuYWRkKHN0cmluZykuc3VjY2VzcyhmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gXCJzdWNjZXNzXCIpIGFwaVNWQy5sb2FkKCkuc3VjY2VzcyhcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24ocmVzKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS53aW5zdG9uID0gcmVzLmRhdGFbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucGxheWVycyA9IHJlcy5kYXRhO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuZGVsZXRlV2luc3RvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgYXBpU1ZDLnJlbW92ZShcInBsYXllcj0xJndlZWs9XCIrJHNjb3BlLndpbnN0b24uZGVsZXRlLnNwbGl0KCcgJylbMV0pLnN1Y2Nlc3MoXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09PSBcInN1Y2Nlc3NcIikgYXBpU1ZDLmxvYWQoKS5zdWNjZXNzKFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLndpbnN0b24gPSByZXMuZGF0YVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucGxheWVycyA9IHJlcy5kYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKVxuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS50b2dnbGVNYXJpb3RhID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkc2NvcGUubWFyaW90YS5hZGRTdGF0cyA9ICEkc2NvcGUubWFyaW90YS5hZGRTdGF0cztcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuYWRkTWFyaW90YVN0YXRzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgc3RyaW5nID0gXCJwbGF5ZXI9MiZzZWFzb249MjAxNSZcIjtcbiAgICAgICAgICAgIHZhciBwYXJhbXMgPSBbXTtcbiAgICAgICAgICAgIF8uZm9yRWFjaCgkc2NvcGUubWFyaW90YS5uZXcsIGZ1bmN0aW9uKHZhbCxrZXkpIHtcbiAgICAgICAgICAgICAgICBwYXJhbXMucHVzaChrZXkrXCI9XCIrdmFsKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdHJpbmcgKz0gcGFyYW1zLmpvaW4oXCImXCIpO1xuICAgICAgICAgICAgYXBpU1ZDLmFkZChzdHJpbmcpLnN1Y2Nlc3MoZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IFwic3VjY2Vzc1wiKSBhcGlTVkMubG9hZCgpLnN1Y2Nlc3MoXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKHJlcyl7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFyaW90YSA9IHJlcy5kYXRhWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnBsYXllcnMgPSByZXMuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmRlbGV0ZU1hcmlvdGEgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGFwaVNWQy5yZW1vdmUoXCJwbGF5ZXI9MiZ3ZWVrPVwiKyRzY29wZS5tYXJpb3RhLmRlbGV0ZS5zcGxpdCgnICcpWzFdKS5zdWNjZXNzKFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gXCJzdWNjZXNzXCIpIGFwaVNWQy5sb2FkKCkuc3VjY2VzcyhcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXJpb3RhID0gcmVzLmRhdGFbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnBsYXllcnMgPSByZXMuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIClcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuZHJhd0dyYXBoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBkMy5zZWxlY3QoJyNjb250cm9sQm94Jykuc2VsZWN0QWxsKCd0cicpLnJlbW92ZSgpO1xuICAgICAgICAgICAgJHNjb3BlLmdyYXBoLmRhdGEgPSAkc2NvcGUuZ3JhcGguZGF0YSB8fCBbXTtcbiAgICAgICAgICAgIHZhciB3ZWVrID0gJHNjb3BlLmdyYXBoLnNlbGVjdGVkV2Vlay5zcGxpdCgnICcpWzFdO1xuICAgICAgICAgICAgaWYgKF8uaXNFbXB0eSgkc2NvcGUuZ3JhcGguZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAoZnVuY3Rpb24gcHJlcGFyZVBsYXllcnMod2Vlaykge1xuICAgICAgICAgICAgICAgICAgICBfLmZvckVhY2goJHNjb3BlLnBsYXllcnMsZnVuY3Rpb24ocGxheWVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgeCA9IHtuYW1lOnBsYXllci5uYW1lLHJhdGluZ3M6IF8udGFrZShwbGF5ZXIucmFua2luZ3MsIHdlZWspLHNlbGVjdGVkOiBmYWxzZSwgY29sb3JzOiBwbGF5ZXIuY29sb3JzfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ncmFwaC5kYXRhLnB1c2goeCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmF0ZWRQbGF5ZXJzID0gW107XG4gICAgICAgICAgICAgICAgICAgIF8uZm9yRWFjaCgkc2NvcGUuZ3JhcGguZGF0YSwgZnVuY3Rpb24ocGxheWVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGxheWVyLnJhdGluZ3NbcGxheWVyLnJhdGluZ3MubGVuZ3RoIC0gMV0gJiYgcGxheWVyLnJhdGluZ3NbcGxheWVyLnJhdGluZ3MubGVuZ3RoIC0gMV1bXCJyYXRpbmdcIl0gIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXRlZFBsYXllcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllcjogcGxheWVyLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRSYXRpbmc6IHBsYXllci5yYXRpbmdzW3BsYXllci5yYXRpbmdzLmxlbmd0aCAtIDFdLnJhdGluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXRpbmdzOiBwbGF5ZXIucmF0aW5ncyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3JzOiBwbGF5ZXIuY29sb3JzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5ncmFwaC5kYXRhID0gXy5mb3JFYWNoKF8uc29ydEJ5T3JkZXIocmF0ZWRQbGF5ZXJzLCdjdXJyZW50UmF0aW5nJywnZGVzYycpLGZ1bmN0aW9uKHBsYXllcixpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyLnJhbmsgPSBpbmRleCArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXIucHJpbWFyeSA9IEpTT04ucGFyc2UocGxheWVyLmNvbG9ycykucHJpbWFyeTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllci5zZWNvbmRhcnkgPSBKU09OLnBhcnNlKHBsYXllci5jb2xvcnMpLnNlY29uZGFyeTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBwbGF5ZXIuY29sb3JzXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pKHdlZWspO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgdGVtcEdyYXBoRGF0YSA9IFtdO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCRzY29wZS5ncmFwaCk7XG4gICAgICAgICAgICAgICAgKGZ1bmN0aW9uIHByZXBhcmVQbGF5ZXJzKHdlZWspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkUGxheWVycyA9IF8ucGx1Y2soXy5maWx0ZXIoJHNjb3BlLmdyYXBoLmRhdGEsJ3NlbGVjdGVkJyksJ3BsYXllcicpO1xuICAgICAgICAgICAgICAgICAgICBfLmZvckVhY2goJHNjb3BlLnBsYXllcnMsIGZ1bmN0aW9uKHBsYXllcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHggPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogcGxheWVyLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW5nczogXy50YWtlKHBsYXllci5yYW5raW5ncywgd2VlayksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IF8uaW5jbHVkZXMoc2VsZWN0ZWRQbGF5ZXJzLHBsYXllci5wbGF5ZXIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yczogcGxheWVyLmNvbG9yc1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBHcmFwaERhdGEucHVzaCh4KVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJhdGVkUGxheWVycyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBfLmZvckVhY2godGVtcEdyYXBoRGF0YSwgZnVuY3Rpb24ocGxheWVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGxheWVyLnJhdGluZ3NbcGxheWVyLnJhdGluZ3MubGVuZ3RoIC0gMV0gJiYgcGxheWVyLnJhdGluZ3NbcGxheWVyLnJhdGluZ3MubGVuZ3RoIC0gMV1bXCJyYXRpbmdcIl0gIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXRlZFBsYXllcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllcjogcGxheWVyLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRSYXRpbmc6IHBsYXllci5yYXRpbmdzW3BsYXllci5yYXRpbmdzLmxlbmd0aCAtIDFdLnJhdGluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IF8uaW5jbHVkZXMoc2VsZWN0ZWRQbGF5ZXJzLCBwbGF5ZXIubmFtZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhdGluZ3M6IHBsYXllci5yYXRpbmdzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcnM6IHBsYXllci5jb2xvcnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5ncmFwaC5kYXRhID0gXy5mb3JFYWNoKF8uc29ydEJ5T3JkZXIocmF0ZWRQbGF5ZXJzLCdjdXJyZW50UmF0aW5nJywnZGVzYycpLGZ1bmN0aW9uKHBsYXllcixpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyLnJhbmsgPSBpbmRleCArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXIucHJpbWFyeSA9IEpTT04ucGFyc2UocGxheWVyLmNvbG9ycykucHJpbWFyeTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllci5zZWNvbmRhcnkgPSBKU09OLnBhcnNlKHBsYXllci5jb2xvcnMpLnNlY29uZGFyeTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBwbGF5ZXIuY29sb3JzXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCRzY29wZS5ncmFwaCk7XG4gICAgICAgICAgICAgICAgfSkod2VlaylcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ09OVFJPTFNcbiAgICAgICAgICAgIC8vdmFyIGNvbnRyb2xzID0gZDMuc2VsZWN0KFwiI2NvbnRyb2xCb3hcIikuc2VsZWN0QWxsKFwidHJcIikuZGF0YSgkc2NvcGUuZ3JhcGguZGF0YSxmdW5jdGlvbihkKXsgcmV0dXJuIGQucGxheWVyfSk7XG4gICAgICAgICAgICAvL3ZhciBwbGF5ZXIgPSBjb250cm9scy5lbnRlcigpLmFwcGVuZChcInRyXCIpLmF0dHIoXCJjbGFzc1wiLGZ1bmN0aW9uKGQpe3JldHVybiBkLnBsYXllcn0pO1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vcGxheWVyLnNlbGVjdF9vcl9hcHBlbmQoXCJ0ZC5yYW5rXCIpLmh0bWwoZnVuY3Rpb24oZCl7XG4gICAgICAgICAgICAvLyAgICByZXR1cm4gZC5yYW5rXG4gICAgICAgICAgICAvL30pO1xuICAgICAgICAgICAgLy9wbGF5ZXIuc2VsZWN0X29yX2FwcGVuZChcInRkLm5hbWVcIikuaHRtbChmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICAvLyAgICByZXR1cm4gZC5wbGF5ZXJcbiAgICAgICAgICAgIC8vfSk7XG4gICAgICAgICAgICAvL3BsYXllci5zZWxlY3Rfb3JfYXBwZW5kKFwidGQucmF0ZVwiKS5odG1sKGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgIC8vICAgIHJldHVybiBkLmN1cnJlbnRSYXRpbmdcbiAgICAgICAgICAgIC8vfSk7XG4gICAgICAgICAgICAvL3BsYXllci5leGl0KCkucmVtb3ZlKCk7XG4gICAgICAgICAgICB2YXIgY29udHJvbHMgPSBkMy5zZWxlY3QoJyNjb250cm9sQm94Jykuc2VsZWN0QWxsKCd0cicpLmRhdGEoJHNjb3BlLmdyYXBoLmRhdGEsZnVuY3Rpb24oZCl7IHJldHVybiBkLnBsYXllcn0pO1xuICAgICAgICAgICAgY29udHJvbHMuZW50ZXIoKVxuICAgICAgICAgICAgICAgIC5hcHBlbmQoJ3RyJylcbiAgICAgICAgICAgICAgICAuc3R5bGUoe1xuICAgICAgICAgICAgICAgICAgICBcImJhY2tncm91bmQtY29sb3JcIjpmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZC5zZWxlY3RlZCkgcmV0dXJuIGQucHJpbWFyeTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLy8uYXR0cigncG9zaXRpb24nLCBmdW5jdGlvbihkKSB7cmV0dXJuIGQucmFua30pXG5cbiAgICAgICAgICAgIGNvbnRyb2xzLnNlbGVjdF9vcl9hcHBlbmQoXCJ0ZC5yYW5rXCIpLmh0bWwoZnVuY3Rpb24oZCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGQucmFua1xuICAgICAgICAgICAgfSkuc3R5bGUoe1xuICAgICAgICAgICAgICAgIFwiY29sb3JcIjogZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZC5zZWxlY3RlZCkgcmV0dXJuIFwid2hpdGVzbW9rZVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29udHJvbHMuc2VsZWN0X29yX2FwcGVuZChcInRkLm5hbWVcIikuaHRtbChmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGQucGxheWVyXG4gICAgICAgICAgICB9KS5zdHlsZSh7XG4gICAgICAgICAgICAgICAgXCJjb2xvclwiOiBmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkLnNlbGVjdGVkKSByZXR1cm4gXCJ3aGl0ZXNtb2tlXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb250cm9scy5zZWxlY3Rfb3JfYXBwZW5kKFwidGQucmF0ZVwiKS5odG1sKGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZC5jdXJyZW50UmF0aW5nXG4gICAgICAgICAgICB9KS5zdHlsZSh7XG4gICAgICAgICAgICAgICAgXCJjb2xvclwiOiBmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkLnNlbGVjdGVkKSByZXR1cm4gXCJ3aGl0ZXNtb2tlXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnRyb2xzLm9uKFwibW91c2VvdmVyXCIsZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgZDMuc2VsZWN0KHRoaXMpLnN0eWxlKHtcbiAgICAgICAgICAgICAgICAgICAgXCJiYWNrZ3JvdW5kLWNvbG9yXCI6IGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkLnByaW1hcnk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KS5zZWxlY3RBbGwoJ3RkJykuc3R5bGUoXCJjb2xvclwiLFwid2hpdGVzbW9rZVwiKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb250cm9scy5vbihcIm1vdXNlb3V0XCIsZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgICAgIGlmICghZC5zZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICBkMy5zZWxlY3QodGhpcykuc3R5bGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJiYWNrZ3JvdW5kLWNvbG9yXCI6IFwid2hpdGVcIlxuICAgICAgICAgICAgICAgICAgICB9KS5zZWxlY3RBbGwoJ3RkJykuc3R5bGUoXCJjb2xvclwiLFwiYmxhY2tcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnRyb2xzLm9uKFwiY2xpY2tcIixmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICAgICAgZC5zZWxlY3RlZCA9ICFkLnNlbGVjdGVkO1xuICAgICAgICAgICAgICAgIHVwZGF0ZUdyYXBoKCk7XG4gICAgICAgICAgICB9KTtcblxuXG5cbiAgICAgICAgICAgIC8vIExJTkUgQ0hBUlRcbiAgICAgICAgICAgIHZhciBtYXJnaW4gPSB7dG9wOiAyMCwgcmlnaHQ6IDIwLCBib3R0b206IDMwLCBsZWZ0OiA1MH07XG4gICAgICAgICAgICB2YXIgd2lkdGggPSA5NjAgLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodDtcbiAgICAgICAgICAgIHZhciBoZWlnaHQgPSA1MDAgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTtcblxuICAgICAgICAgICAgdmFyIHggPSBkMy5zY2FsZS5saW5lYXIoKS5yYW5nZShbMCx3aWR0aF0pLmRvbWFpbihbMSx3ZWVrXSk7XG4gICAgICAgICAgICB2YXIgeSA9IGQzLnNjYWxlLmxpbmVhcigpLmRvbWFpbihbMCwxNjBdKS5yYW5nZShbaGVpZ2h0LDBdKTtcbiAgICAgICAgICAgIHZhciB4QXhpcyA9IGQzLnN2Zy5heGlzKCkuc2NhbGUoeCkub3JpZW50KFwiYm90dG9tXCIpLnRpY2tWYWx1ZXMoZDMucmFuZ2UoMSx3ZWVrICsgMSkpLnRpY2tGb3JtYXQoZDMuZm9ybWF0KFwiZFwiKSk7XG4gICAgICAgICAgICB2YXIgeUF4aXMgPSBkMy5zdmcuYXhpcygpLnNjYWxlKHkpLm9yaWVudChcImxlZnRcIik7XG4gICAgICAgICAgICB2YXIgbGluZSA9IGQzLnN2Zy5saW5lKCkueChmdW5jdGlvbihkKXsgcmV0dXJuIHgoZC53ZWVrKX0pLnkoZnVuY3Rpb24oZCl7IHJldHVybiB5KGQucmF0aW5nKX0pXG4gICAgICAgICAgICAgICAgLmludGVycG9sYXRlKCdiYXNpcycpO1xuXG4gICAgICAgICAgICB2YXIgc3ZnID0gZDMuc2VsZWN0KFwiI2dyYXBoXCIpLnNlbGVjdF9vcl9hcHBlbmQoXCJzdmdcIikuYXR0cihcIndpZHRoXCIsIHdpZHRoICsgbWFyZ2luLmxlZnQgKyBtYXJnaW4ucmlnaHQpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgaGVpZ2h0ICsgbWFyZ2luLnRvcCArIG1hcmdpbi5ib3R0b20pLnNlbGVjdF9vcl9hcHBlbmQoXCJnLmNvbnRhaW5lclwiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKFwiICsgbWFyZ2luLmxlZnQgKyBcIixcIiArIG1hcmdpbi50b3AgKyBcIilcIik7XG4gICAgICAgICAgICB1cGRhdGVHcmFwaCgpO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiB1cGRhdGVHcmFwaCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGVzZWxlY3RlZExpbmVzID0gc3ZnLnNlbGVjdF9vcl9hcHBlbmQoXCJnLmxpbmVzLmRlc2VsZWN0ZWRcIikuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgICAgICAgICAgICAgICAgLmRhdGEoXy5maWx0ZXIoJHNjb3BlLmdyYXBoLmRhdGEsZnVuY3Rpb24ocGxheWVyKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhcGxheWVyLnNlbGVjdGVkXG4gICAgICAgICAgICAgICAgICAgIH0pLCBmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC5wbGF5ZXJcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBkZXNlbGVjdGVkTGluZXMuZW50ZXIoKS5hcHBlbmQoJ3BhdGgnKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcImNsYXNzXCIsXCJ1bnNlbGVjdGVkXCIpXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBcInN0cm9rZVwiOlwibGlnaHRncmV5XCJcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJkXCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGxpbmUoZC5yYXRpbmdzKX0pO1xuXG4gICAgICAgICAgICAgICAgZGVzZWxlY3RlZExpbmVzLnRyYW5zaXRpb24oKS5hdHRyKFwiZFwiLCBmdW5jdGlvbihkKSB7IHJldHVybiBsaW5lKGQucmF0aW5ncyl9KTtcbiAgICAgICAgICAgICAgICAvL2NvbnRyb2xzLm9uKFwibW91c2VvdmVyXCIsZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgLy8gICAgZDMuc2VsZWN0KHRoaXMpLnN0eWxlKHtcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgXCJiYWNrZ3JvdW5kLWNvbG9yXCI6IGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgIHJldHVybiBkLnByaW1hcnk7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyAgICB9KS5zZWxlY3RBbGwoJ3RkJykuc3R5bGUoXCJjb2xvclwiLFwid2hpdGVzbW9rZVwiKTtcbiAgICAgICAgICAgICAgICAvL30pO1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy9jb250cm9scy5vbihcIm1vdXNlb3V0XCIsZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgICAgIC8vICAgIGlmICghZC5zZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgIC8vICAgICAgICBkMy5zZWxlY3QodGhpcykuc3R5bGUoe1xuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgXCJiYWNrZ3JvdW5kLWNvbG9yXCI6IFwid2hpdGVcIlxuICAgICAgICAgICAgICAgIC8vICAgICAgICB9KS5zZWxlY3RBbGwoJ3RkJykuc3R5bGUoXCJjb2xvclwiLFwiYmxhY2tcIik7XG4gICAgICAgICAgICAgICAgLy8gICAgfVxuICAgICAgICAgICAgICAgIC8vfSk7XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvL2NvbnRyb2xzLm9uKFwiY2xpY2tcIixmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICAgICAgLy8gICAgZC5zZWxlY3RlZCA9ICFkLnNlbGVjdGVkO1xuICAgICAgICAgICAgICAgIC8vICAgIHVwZGF0ZUdyYXBoKCk7XG4gICAgICAgICAgICAgICAgLy99KTtcbiAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0ID0ge1xuICAgICAgICAgICAgICAgICAgICB4OiA1LFxuICAgICAgICAgICAgICAgICAgICB5OiAxMFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBhZGRUb29sVGlwKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IGQzLnNlbGVjdCgnYm9keScpLmFwcGVuZCgnZGl2JykuZGF0dW0oZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsJ3Rvb2x0aXAtY29udGFpbmVyJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYWxsKGluaXRUVClcblxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuc3R5bGUoJ2xlZnQnLCBkMy5ldmVudC5wYWdlWCArIG9mZnNldC54ICsgJ3B4JylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zdHlsZSgndG9wJyxkMy5ldmVudC5wYWdlWSArIG9mZnNldC55ICsgJ3B4JylcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBpbml0VFQoc2VsZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbi5lYWNoKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGQzLnNlbGVjdCh0aGlzKS5hdHRyKCdjbGFzcycsJ3Rvb2x0aXAtY29udGFpbmVyJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ3dpZHRoJywnMTUwcHgnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZDMuc2VsZWN0KHRoaXMpLmFwcGVuZCgncCcpLmF0dHIoJ2NsYXNzJywndG9vbHRpcC10aXRsZScpLnRleHQoZGF0YS5wbGF5ZXIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBkMy5zZWxlY3QodGhpcykuYXBwZW5kKCdwJykuYXR0cignY2xhc3MnLCd0b29sdGlwLWNvbnRlbnQnKS50ZXh0KFwiUmF0aW5nOiBcIiArIGRhdGEuY3VycmVudFJhdGluZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkMy5zZWxlY3QodGhpcykuYXBwZW5kKCdwJykuYXR0cignY2xhc3MnLCd0b29sdGlwLWNvbnRlbnQnKS50ZXh0KFwiUmFuazogXCIgKyBkYXRhLnJhbmspXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZGVzZWxlY3RlZExpbmVzLm9uKFwibW91c2VvdmVyXCIsIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgZDMuc2VsZWN0KHRoaXMpLnN0eWxlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3Ryb2tlXCI6ZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkLnByaW1hcnlcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBcInN0cm9rZS13aWR0aFwiOlwiM3B4XCJcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgYWRkVG9vbFRpcChkKVxuICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBtb3ZlVG9vbFRpcCgpIHtcbiAgICAgICAgICAgICAgICAgICAgZDMuc2VsZWN0KCdib2R5Jykuc2VsZWN0KCdkaXYudG9vbHRpcC1jb250YWluZXInKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdsZWZ0JywgKGQzLmV2ZW50LnBhZ2VYICsgb2Zmc2V0LngpICsgJ3B4JylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zdHlsZSgndG9wJywgKGQzLmV2ZW50LnBhZ2VZICsgb2Zmc2V0LnkpICsgJ3B4JylcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiByZW1vdmVUb29sVGlwKCkge1xuICAgICAgICAgICAgICAgICAgICBkMy5zZWxlY3QoJ2Rpdi50b29sdGlwLWNvbnRhaW5lcicpLnJlbW92ZSgpXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZGVzZWxlY3RlZExpbmVzLm9uKFwibW91c2VvdXRcIiwgZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgICAgICAgICBkMy5zZWxlY3QodGhpcykuc3R5bGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJzdHJva2VcIjpcImxpZ2h0Z3JleVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzdHJva2Utd2lkdGhcIjpcIjJweFwiXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZVRvb2xUaXAoZClcbiAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAgICAgZGVzZWxlY3RlZExpbmVzLm9uKFwibW91c2Vtb3ZlXCIsIG1vdmVUb29sVGlwKVxuXG4gICAgICAgICAgICAgICAgZGVzZWxlY3RlZExpbmVzLmV4aXQoKS5yZW1vdmUoKTtcblxuICAgICAgICAgICAgICAgIHZhciBzZWxlY3RlZExpbmVzID0gc3ZnLnNlbGVjdF9vcl9hcHBlbmQoXCJnLmxpbmVzLnNlbGVjdGVkXCIpLnNlbGVjdEFsbCgncGF0aCcpXG4gICAgICAgICAgICAgICAgICAgIC5kYXRhKF8uZmlsdGVyKCRzY29wZS5ncmFwaC5kYXRhLGZ1bmN0aW9uKHBsYXllcil7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGxheWVyLnNlbGVjdGVkXG4gICAgICAgICAgICAgICAgICAgIH0pLCBmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC5wbGF5ZXJcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBzZWxlY3RlZExpbmVzLmVudGVyKCkuYXBwZW5kKCdwYXRoJylcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJjbGFzc1wiLFwic2VsZWN0ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3Ryb2tlXCI6IGZ1bmN0aW9uKGQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGQucGxheWVyICsgXCIgOiBcIiArIGQucHJpbWFyeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQucHJpbWFyeTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJkXCIsZnVuY3Rpb24oZCkgeyByZXR1cm4gbGluZShkLnJhdGluZ3MpfSk7XG5cbiAgICAgICAgICAgICAgICBzZWxlY3RlZExpbmVzLnRyYW5zaXRpb24oKS5hdHRyKFwiZFwiLCBmdW5jdGlvbihkKSB7IHJldHVybiBsaW5lKGQucmF0aW5ncyl9KTtcblxuICAgICAgICAgICAgICAgIHNlbGVjdGVkTGluZXMuZXhpdCgpLnJlbW92ZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzdmcuc2VsZWN0X29yX2FwcGVuZChcImcueFwiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJ4IGF4aXNcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgaGVpZ2h0ICsgXCIpXCIpXG4gICAgICAgICAgICAgICAgLmNhbGwoeEF4aXMpXG4gICAgICAgICAgICAgICAgLnNlbGVjdF9vcl9hcHBlbmQoXCJ0ZXh0LnhheGlzXCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ5XCIsMjUpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ4XCIsNDUwKVxuICAgICAgICAgICAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsXCJlbmRcIilcbiAgICAgICAgICAgICAgICAuc3R5bGUoXCJkeVwiLFwiLjcxZW1cIilcbiAgICAgICAgICAgICAgICAudGV4dChcIldlZWtcIik7XG5cbiAgICAgICAgICAgIHN2Zy5zZWxlY3Rfb3JfYXBwZW5kKFwiZy55XCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcInkgYXhpc1wiKVxuICAgICAgICAgICAgICAgIC5jYWxsKHlBeGlzKVxuICAgICAgICAgICAgICAgIC5zZWxlY3Rfb3JfYXBwZW5kKFwidGV4dC55YXhpc1wiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsXCJyb3RhdGUoLTkwKVwiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwieVwiLC01MClcbiAgICAgICAgICAgICAgICAuYXR0cihcInhcIiwgLTE1MClcbiAgICAgICAgICAgICAgICAuYXR0cihcImR5XCIsIFwiLjcxZW1cIilcbiAgICAgICAgICAgICAgICAuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLFwiZW5kXCIpXG4gICAgICAgICAgICAgICAgLnRleHQoXCJRQiBSYXRpbmcgKGN1bXVsYXRpdmUpXCIpO1xuXG5cbiAgICAgICAgfVxuICAgIH0pOyIsImFuZ3VsYXIubW9kdWxlKCd3aW5zdG9uJylcbiAgICAuY29uZmlnKFsnJHN0YXRlUHJvdmlkZXInLGZ1bmN0aW9uKCRzdGF0ZVByb3ZpZGVyLCBzZWFyY2hTdmMpe1xuICAgICAgICAvLyBUaGVzZSBzdGF0ZXMgY29ycmVzcG9uZCB0byB0aGUgcGFnZXMgb24gdGhlIGFwcC4gSG9va3MgdXAgdGVtcGxhdGVzIGFuZCB2aWV3c1xuICAgICAgICAkc3RhdGVQcm92aWRlci5zdGF0ZSgnaG9tZScse1xuICAgICAgICAgICAgdXJsOiAnLycsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3VwZGF0ZVN0YXRzLmh0bWwnLFxuICAgICAgICAgICAgY29udHJvbGxlcjogJ25ld0NUUkwnLFxuICAgICAgICAgICAgcmVzb2x2ZToge1xuICAgICAgICAgICAgICAgIHByZWxvYWRPYmo6IGZ1bmN0aW9uKCRodHRwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkaHR0cCh7bWV0aG9kOidHRVQnLHVybDonL2FwaS9zdGF0cyd9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgICAgICAvLy5zdGF0ZSgnc2VhcmNoJyx7XG4gICAgICAgICAgICAvLyAgICB1cmw6ICcvc2VhcmNoJyxcbiAgICAgICAgICAgIC8vICAgIHRlbXBsYXRlVXJsOiAnc2VhcmNoLmh0bWwnLFxuICAgICAgICAgICAgLy8gICAgY29udHJvbGxlcjogJ3NlYXJjaENUUkwnLFxuICAgICAgICAgICAgLy8gICAgcmVzb2x2ZToge1xuICAgICAgICAgICAgLy8gICAgICAgIC8vIFRoaXMgcXVlcmllcyB0aGUgc2VydmVyIGZvciBkaXN0aW5jdCBkZXBhcnRtZW50cyBhbmQgcHJlbG9hZHMgdGhlIGRlcGFydG1lbnRzIGRyb3AgZG93blxuICAgICAgICAgICAgLy8gICAgICAgIHByZWxvYWRPQko6IGZ1bmN0aW9uKCRodHRwKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgIHJldHVybiAkaHR0cCh7bWV0aG9kOidHRVQnLHVybDonL2FwaS9kZXBhcnRtZW50cyd9KTtcbiAgICAgICAgICAgIC8vICAgICAgICB9XG4gICAgICAgICAgICAvLyAgICB9XG4gICAgICAgICAgICAvL30pXG4gICAgICAgICAgICAvLy5zdGF0ZSgnZGV0YWlscycse1xuICAgICAgICAgICAgLy8gICAgLy8gVGhlIDppZCBpcyB0aGUgc3RyaW5nIHBhc3NlZCBpbiBmcm9tIHRoZSBVUkwgY29ycmVzcG9uZHMgdG8gdGhlIHBlcnNvbklEIGluIHRoZSB0aGUgZGF0YWJhc2VcbiAgICAgICAgICAgIC8vICAgIHVybDogJy9kZXRhaWxzLzppZCcsXG4gICAgICAgICAgICAvLyAgICB0ZW1wbGF0ZVVybDogJ2RldGFpbHMuaHRtbCcsXG4gICAgICAgICAgICAvLyAgICBjb250cm9sbGVyOiAnZGV0YWlsQ1RSTCdcbiAgICAgICAgICAgIC8vfSlcbiAgICB9XSlcbiAgICAucnVuKFsnJHN0YXRlJyxmdW5jdGlvbigkc3RhdGUpe1xuICAgICAgICAvLyBFdmVyeXRoaW5nIGluc2lkZSBoZXJlIHdpbGwgYmUgcnVuIG9uZSB0aW1lIG9uY2UgdGhlIGFwcCBoYXMgbG9hZGVkLiBHb29kIHBsYWNlIHRvIGluaXRpYWxpemUgYW55dGhpbmcgeW91IHdpbGwgYmUgdXNpbmdcbiAgICAgICAgJHN0YXRlLmdvKCdob21lJyk7XG4gICAgfV0pO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9