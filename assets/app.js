angular.module("winston",["ui.router"]),angular.module("winston").service("apiSVC",["$http",function(t){this.add=function(a){return t.get("/api/stats/add?"+a)},this.remove=function(a){return t.get("/api/stats/remove?"+a)},this.load=function(){return t.get("/api/stats")}}]),angular.module("winston").controller("mainCTRL",["$scope","apiSVC","preloadObj",function(t,a,e){function n(a){_.forEach(t.players,function(e){function n(t){var a,e=[];_.forEach(t.games,function(n,s){if(!a&&1==n.g&&n.passing_att){if(a={passing_comp:0,passing_yds:0,passing_td:0,passing_att:0,passing_int:0},null!=n.passing_comp&&(a.passing_comp+=n.passing_comp),null!=n.passing_yds&&(a.passing_yds+=n.passing_yds),null!=n.passing_td&&(a.passing_td+=n.passing_td),null!=n.passing_att&&(a.passing_att+=n.passing_att),null!=n.passing_int&&(a.passing_int+=n.passing_int),null!=a.passing_att&&0!=a.passing_att){var r=5*(a.passing_comp/a.passing_att-.3),i=.25*(a.passing_yds/a.passing_att-3),o=a.passing_td/a.passing_att*20,l=2.375-a.passing_int/a.passing_att*25;r>2.375&&(r=2.375),0>r&&(r=0),i>2.375&&(i=2.375),0>i&&(i=0),o>2.375&&(o=2.375),0>o&&(o=0),l>2.375&&(l=2.375),0>l&&(l=0);var c=(r+i+o+l)/6*100;e.push({week:s+1,rating:Math.round(100*(c+1e-5))/100,pid:t.id})}}else if(a||n.g)if(a||1!=n.g||n.passing_att){if(null!=n.passing_comp&&(a.passing_comp+=n.passing_comp),null!=n.passing_yds&&(a.passing_yds+=n.passing_yds),null!=n.passing_td&&(a.passing_td+=n.passing_td),null!=n.passing_att&&(a.passing_att+=n.passing_att),null!=n.passing_int&&(a.passing_int+=n.passing_int),null!=a.passing_att&&0!=a.passing_att){var r=5*(a.passing_comp/a.passing_att-.3),i=.25*(a.passing_yds/a.passing_att-3),o=a.passing_td/a.passing_att*20,l=2.375-a.passing_int/a.passing_att*25;r>2.375&&(r=2.375),0>r&&(r=0),i>2.375&&(i=2.375),0>i&&(i=0),o>2.375&&(o=2.375),0>o&&(o=0),l>2.375&&(l=2.375),0>l&&(l=0);var c=(r+i+o+l)/6*100;e.push({week:s+1,rating:Math.round(100*(c+1e-5))/100,pid:t.id})}}else{var u=e[e.length-1],d={week:u.week+1,rating:u.rating,pid:t.id};e.push(d)}else e.push({week:s+1,rating:null,pid:t.id})});var n={};return _.forEach(e,function(t){n[t.week]=t}),_.forEach(n,function(a,e){a||(0!=e?(a=n[e-1],a.week++):(a.week=1,a.rating=null,a.pid=t.id))}),n}e.games=[],_.forEach(t.games,function(t){t.player==e.id&&e.games.push(t)}),_.sortBy(e.games,function(t){return t.week});var s=_.values(n(e));e.ratings=_.take(s,a)}),_.forEach(t.players,function(t){t.className="other",1===t.id&&(t.className="jameis"),2===t.id&&(t.className="marcus"),t.ratings.forEach(function(a,e){a?(a.week=+a.week,a.rating=a.rating,a.pid=t.id):0!=e&&null!=t.ratings[e]?t.ratings[e]={week:t.ratings[e].week+1,rating:t.ratings[e].rating,pid:t.id}:t.ratings[e]={week:e+1,rating:null,pid:t.id}})});var e={top:20,right:20,bottom:30,left:50},n=960-e.right-e.left,s=500-e.top-e.bottom,r=d3.scale.linear().range([0,n]),i=d3.scale.linear().range([s,0]),o=d3.svg.axis().scale(r).orient("bottom").tickValues(d3.range(1,a+1)).tickFormat(d3.format("d")),l=d3.svg.axis().scale(i).orient("left"),c=d3.svg.line().x(function(t){return r(t.week)}).y(function(t){return i(t.rating)}).interpolate("basis"),u=d3.select("#graph").select_or_append("svg").attr("width",n+e.left+e.right).attr("height",s+e.top+e.bottom).select_or_append("g.container").attr("transform","translate("+e.left+","+e.top+")");r.domain([1,Number(a)]),i.domain([0,160]);var d=u.select_or_append("g.lines").selectAll("path").data(t.players.reverse(),function(t){return t?t.id:void 0});d.enter().append("path").attr("class",function(t){return t.className}).attr("name",function(t){return t.name}).attr("d",function(t){return c(t.ratings)}),d.attr("class",function(t){return t.className}).attr("name",function(t){return t.name}).transition().attr("d",function(t){return c(t.ratings)}),d.exit().remove(),u.select_or_append("g.x").attr("class","x axis").attr("transform","translate(0,"+s+")").call(o).select_or_append("text.xaxis").attr("y",25).attr("x",450).style("text-anchor","end").style("dy",".71em").text("Week"),u.select_or_append("g.y").attr("class","y axis").call(l).select_or_append("text.yaxis").attr("transform","rotate(-90)").attr("y",-50).attr("x",-150).attr("dy",".71em").style("text-anchor","end").text("QB Rating (cumulative)")}t._showInput=!1,t._showInputM=!1;"err"==e.data.status&&console.log(e.data.message),t.gameStats=e.data.data.winston,t.mGameStats=e.data.data.mariota,t.stats=new stats,t.Ustats=new Ustats,t.Mstats=new Ustats,t.newStats=function(){a.addNew(t.Ustats).success(function(e){"success"==e.status?(t.Ustats=new Ustats,t.toggleInput(),a.load().success(function(a){t.gameStats=a.data.winston})):"game_pk"==e.message.constraint?alert("Error: That game already exists in the database. Delete it first if you want to update it"):alert("Error: "+JSON.stringify(e.message.detail))})},t.newStatsM=function(){a.addNewM(t.Mstats).success(function(e){"success"==e.status?(t.Mstats=new Ustats,t.toggleInputM(),a.load().success(function(a){t.mGameStats=a.data.mariota})):"game_pk"==e.message.constraint?alert("Error: That game already exists in the database. Delete it first if you want to update it"):alert("Error: "+JSON.stringify(e.message.detail))})},t.toggleInput=function(){t._showInput=!t._showInput},t.toggleInputM=function(){t._showInputM=!t._showInputM},t.deleteRowM=function(){0!=t.mGameStats&&a.removeM().success(function(e){"success"==e.status&&a.load().success(function(a){t.mGameStats=a.data.mariota})})},t.deleteRow=function(){0!=t.gameStats&&a.remove().success(function(e){"success"==e.status&&a.load().success(function(a){t.gameStats=a.data.winston})})},t.maxGames=function(){var a=0;_.forEach(t.players,function(t){t.games.length>a&&(a=t.games.length)});for(var e=[],n=1;a+1>n;n++)e.push(n);return e},t.players=e.data.data.players,t.games=e.data.data.games,_.forEach(t.players,function(a){a.games=[],_.forEach(t.games,function(t){t.player===a.id&&a.games.push(t)})});var s=function(t,a){function e(t){if(null!=t.passing_att&&0!=t.passing_att){var a=5*(s.passing_comp/s.passing_att-.3),e=.25*(s.passing_yds/s.passing_att-3),n=s.passing_td/s.passing_att*20,r=2.375-s.passing_int/s.passing_att*25;return a>2.375&&(a=2.375),0>a&&(a=0),e>2.375&&(e=2.375),0>e&&(e=0),n>2.375&&(n=2.375),0>n&&(n=0),r>2.375&&(r=2.375),0>r&&(r=0),(a+e+n+r)/6*100}}var n=_.take(t.games,a),s={passing_comp:0,passing_yds:0,passing_td:0,passing_att:0,passing_int:0};return _.forEach(n,function(t){null!=t.passing_comp&&(s.passing_comp+=t.passing_comp),null!=t.passing_yds&&(s.passing_yds+=t.passing_yds),null!=t.passing_td&&(s.passing_td+=t.passing_td),null!=t.passing_att&&(s.passing_att+=t.passing_att),null!=t.passing_int&&(s.passing_int+=t.passing_int)}),t.rating=e(s),t};t.ratePlayers=function(){t.chartActive=!0;var e=$("#week2rate").val().split(" ")[1],r=[];t.rated=[],a.load().success(function(a){t.players=a.data.players,t.games=a.data.games,t.gameStates=a.data.winston,_.forEach(t.players,function(a){a.games=[],_.forEach(t.games,function(t){t.player===a.id&&a.games.push(t)}),_.sortBy(a.games,function(t){return t.week})}),_.forEach(t.players,function(t){s(t,e),r.push({player:t.name,rating:Math.round(100*(t.rating+1e-5))/100,id:"p"+t.id})});var i=_.sortBy(r,function(t){return t.rating});i=_.filter(i,function(t){return t.rating}),_.forEach(i.reverse(),function(a,e){a.rank=e+1,t.rated.push(a)}),n(e)})},t.chartActive=!1,t.dl=function(){function t(){var t=[window.document],e=[];iframes=document.querySelectorAll("iframe"),objects=document.querySelectorAll("object");var r=window.document.createElementNS(l.svg,"svg");window.document.body.appendChild(r);var i=getComputedStyle(r);[].forEach.call(iframes,function(a){try{a.contentDocument&&t.push(a.contentDocument)}catch(e){console.log(e)}}),[].forEach.call(objects,function(a){try{a.contentDocument&&t.push(a.contentDocument)}catch(e){console.log(e)}}),t.forEach(function(t){for(var a=n(t,i),s=0;s<a.length;s++)e.push(a[s])}),e.length>1?a(e):e.length>0?s(e[0]):alert("The Crowbar couldnâ€™t find any SVG nodes.")}function a(t){e(),t.forEach(function(a){t.forEach(function(t){a!==t&&Math.abs(a.top-t.top)<38&&Math.abs(a.left-t.left)<38&&(t.top+=38,t.left+=38)})});var a=document.createElement("div");o.appendChild(a),a.setAttribute("class","svg-crowbar"),a.style["z-index"]=1e7,a.style.position="absolute",a.style.top=0,a.style.left=0;var n=document.createElement("div");o.appendChild(n),n.setAttribute("class","svg-crowbar"),n.style.background="rgba(255, 255, 255, 0.7)",n.style.position="fixed",n.style.left=0,n.style.top=0,n.style.width="100%",n.style.height="100%",t.forEach(function(t,e){var n=document.createElement("div");a.appendChild(n),n.setAttribute("class","svg-crowbar"),n.style.position="absolute",n.style.top=t.top+document.body.scrollTop+"px",n.style.left=document.body.scrollLeft+t.left+"px",n.style.padding="4px",n.style["border-radius"]="3px",n.style.color="white",n.style["text-align"]="center",n.style["font-family"]="'Helvetica Neue'",n.style.background="rgba(0, 0, 0, 0.8)",n.style["box-shadow"]="0px 4px 18px rgba(0, 0, 0, 0.4)",n.style.cursor="move",n.textContent="SVG #"+e+": "+(t.id?"#"+t.id:"")+(t["class"]?"."+t["class"]:"");var r=document.createElement("button");n.appendChild(r),r.setAttribute("data-source-id",e),r.style.width="150px",r.style["font-size"]="12px",r.style["line-height"]="1.4em",r.style.margin="5px 0 0 0",r.textContent="Download",r.onclick=function(a){s(t)}})}function e(){var t=document.querySelectorAll(".svg-crowbar");[].forEach.call(t,function(t){t.parentNode.removeChild(t)})}function n(t,a){var e=[],n=t.querySelectorAll("svg");return[].forEach.call(n,function(t){t.setAttribute("version","1.1"),t.removeAttribute("xmlns"),t.removeAttribute("xlink"),t.hasAttributeNS(l.xmlns,"xmlns")||t.setAttributeNS(l.xmlns,"xmlns",l.svg),t.hasAttributeNS(l.xmlns,"xmlns:xlink")||t.setAttributeNS(l.xmlns,"xmlns:xlink",l.xlink),r(t,a);var n=(new XMLSerializer).serializeToString(t),s=t.getBoundingClientRect();e.push({top:s.top,left:s.left,width:s.width,height:s.height,"class":t.getAttribute("class"),id:t.getAttribute("id"),childElementCount:t.childElementCount,source:[i+n]})}),e}function s(t){var a="untitled";t.id?a=t.id:t["class"]?a=t["class"]:window.document.title&&(a=window.document.title.replace(/[^a-z0-9]/gi,"-").toLowerCase());var e=window.URL.createObjectURL(new Blob(t.source,{type:"text/xml"})),n=document.createElement("a");o.appendChild(n),n.setAttribute("class","svg-crowbar"),n.setAttribute("download",a+".svg"),n.setAttribute("href",e),n.style.display="none",n.click(),setTimeout(function(){window.URL.revokeObjectURL(e)},10)}function r(t,a){function e(t){var e,n,s,r,i=getComputedStyle(t),o="";for(e=0,n=i.length;n>e;e++)s=i[e],r=i.getPropertyValue(s),r!==a.getPropertyValue(s)&&(o+=s+":"+r+";");t.setAttribute("style",o)}function n(t){function a(t){if(t&&t.hasChildNodes())for(var n=t.firstChild;n;)1===n.nodeType&&"SCRIPT"!=n.nodeName&&(e.push(n),a(n)),n=n.nextSibling}var e=[];return e.push(t),a(t),e}for(var s=n(t),r=s.length;r--;)e(s[r])}var i='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">';window.URL=window.URL||window.webkitURL;var o=document.body,l={xmlns:"http://www.w3.org/2000/xmlns/",xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"};t()}}]),angular.module("winston").controller("newCTRL",["$scope","apiSVC","preloadObj",function(t,a,e){t.winston=e.data.data[0],t.winston.addStats=!1,t.players=e.data.data,t.mariota=e.data.data[1],t.mariota.addStats=!1,t.graph={weeks:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18]},t.toggleWinston=function(){t.winston.addStats=!t.winston.addStats},t.addWinstonStats=function(){var e="player=1&season=2015&",n=[];_.forEach(t.winston["new"],function(t,a){n.push(a+"="+t)}),e+=n.join("&"),a.add(e).success(function(e){"success"===e.status&&a.load().success(function(a){t.winston=a.data[0],t.players=a.data})})},t.deleteWinston=function(){a.remove("player=1&week="+t.winston["delete"].split(" ")[1]).success(function(e){"success"===e.status&&a.load().success(function(a){t.winston=a.data[0],t.players=a.data})})},t.toggleMariota=function(){t.mariota.addStats=!t.mariota.addStats},t.addMariotaStats=function(){var e="player=2&season=2015&",n=[];_.forEach(t.mariota["new"],function(t,a){n.push(a+"="+t)}),e+=n.join("&"),a.add(e).success(function(e){"success"===e.status&&a.load().success(function(a){t.mariota=a.data[1],t.players=a.data})})},t.deleteMariota=function(){a.remove("player=2&week="+t.mariota["delete"].split(" ")[1]).success(function(e){"success"===e.status&&a.load().success(function(a){t.mariota=a.data[1],t.players=a.data})})},t.drawGraph=function(){t.graph.data=[],t.rated=[];var a=t.graph.selected.split(" ")[1];_.forEach(t.players,function(e){var n={name:e.name,ratings:_.take(e.rankings,a),selected:!1};t.graph.data.push(n)}),_.forEach(t.graph.data,function(a){a.ratings[a.ratings.length-1]&&null!==a.ratings[a.ratings.length-1].rating&&t.rated.push({player:a.name,rating:a.ratings[a.ratings.length-1],selected:!1})});var e={top:20,right:20,bottom:30,left:50},n=960-e.left-e.right,s=500-e.top-e.bottom,r=d3.scale.linear().range([0,n]).domain([1,a]),i=d3.scale.linear().domain([0,160]).range([s,0]),o=d3.svg.axis().scale(r).orient("bottom").tickValues(d3.range(1,a+1)).tickFormat(d3.format("d")),l=d3.svg.axis().scale(i).orient("left"),c=d3.svg.line().x(function(t){return r(t.week)}).y(function(t){return i(t.rating)}).interpolate("basis"),u=d3.select("#graph").select_or_append("svg").attr("width",n+e.left+e.right).attr("height",s+e.top+e.bottom).select_or_append("g.container").attr("transform","translate("+e.left+","+e.top+")"),d=u.select_or_append("g.lines").selectAll("path").data(t.graph.data.reverse(),function(t){return t?t.name:void 0});d.enter().append("path").attr("class",function(t){return t.name+" lines"}).attr("d",function(t){return c(t.ratings)}),d.transition().attr("d",function(t){return c(t.ratings)}),d.exit().remove(),u.select_or_append("g.x").attr("class","x axis").attr("transform","translate(0,"+s+")").call(o).select_or_append("text.xaxis").attr("y",25).attr("x",450).style("text-anchor","end").style("dy",".71em").text("Week"),u.select_or_append("g.y").attr("class","y axis").call(l).select_or_append("text.yaxis").attr("transform","rotate(-90)").attr("y",-50).attr("x",-150).attr("dy",".71em").style("text-anchor","end").text("QB Rating (cumulative)");var p={};_.forEach(t.players,function(t){p[t.name]=JSON.parse(t.colors)});var g=(_.forEach(t.graph.data,function(t){var a=0;t.currentRating=null,_.forEach(t.ratings,function(e){e.week>a&&null!==e.rating&&(t.currentRating=e.rating,a=e.week)}),console.log(t)}),d3.select("#controlBox").selectAll("tr").data(t.graph.data).enter().append("tr").attr("class",function(t){return t.name}));g.append("td").html(function(t){try{var a=t.ratings[t.ratings.length-1].rating;return a}catch(e){}}),g.on("mouseover",function(){d3.select(this).style({"border-color":function(t){return p[t.name].secondary},"background-color":function(t){return p[t.name].primary}}).selectAll("div").style("color","whitesmoke")}),g.on("mouseout",function(t){t.selected||d3.select(this).style({"border-color":function(t){return p[t.name].primary},"background-color":"white"}).selectAll("div").style("color","black")}),g.on("click",function(){var a=d3.select(this).selectAll("div").html(),e=_.filter(t.graph.data,function(t){return t.name===a});_.forEach(e,function(t){t.selected=!t.selected}),g.each(function(t){t.name===a||t.selected?d3.select(this).style({"border-color":function(t){return p[t.name].secondary},"background-color":function(t){return p[t.name].primary}}).selectAll("div").style("color","whitesmoke"):d3.select(this).style({"border-color":function(t){return p[t.name].primary},"background-color":"white"}).selectAll("div").style("color","black")}),d.each(function(t){t.selected?d3.select(this).style({"stroke-width":"3px",stroke:function(t){return p[t.name].primary},"z-index":"10"}):d3.select(this).style({"stroke-width":"1px",stroke:"lightgrey","z-index":"0"})})})}}]),angular.module("winston").config(["$stateProvider",function(t,a){t.state("home",{url:"/",templateUrl:"updateStats.html",controller:"newCTRL",resolve:{preloadObj:["$http",function(t){return t({method:"GET",url:"/api/stats"})}]}})}]).run(["$state",function(t){t.go("home")}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImFwaVNWQy5qcyIsIm1haW5DVExSTC5qcyIsIm5ld0NUUkwuanMiLCJyb3V0ZXMuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsInNlcnZpY2UiLCIkaHR0cCIsInRoaXMiLCJhZGQiLCJwYXJhbXMiLCJnZXQiLCJyZW1vdmUiLCJsb2FkIiwiY29udHJvbGxlciIsIiRzY29wZSIsImFwaVNWQyIsInByZWxvYWRPYmoiLCJkcmF3R3JhcGhpY3MiLCJ3ZWVrIiwiXyIsImZvckVhY2giLCJwbGF5ZXJzIiwicGxheWVyIiwiZ2V0UmF0aW5ncyIsInN0YXRzQ3VtIiwicmF0aW5ncyIsImdhbWVzIiwiZ2FtZSIsImluZGV4IiwiZyIsInBhc3NpbmdfYXR0IiwicGFzc2luZ19jb21wIiwicGFzc2luZ195ZHMiLCJwYXNzaW5nX3RkIiwicGFzc2luZ19pbnQiLCJhIiwiYiIsImMiLCJkIiwicmF0aW5nIiwicHVzaCIsIk1hdGgiLCJyb3VuZCIsInBpZCIsImlkIiwieCIsImxlbmd0aCIsInkiLCJyYXRpbmdPYmoiLCJpIiwic29ydEJ5IiwidmFsdWVzIiwidGFrZSIsImNsYXNzTmFtZSIsIm1hcmdpbiIsInRvcCIsInJpZ2h0IiwiYm90dG9tIiwibGVmdCIsIndpZHRoIiwiaGVpZ2h0IiwiZDMiLCJzY2FsZSIsImxpbmVhciIsInJhbmdlIiwieEF4aXMiLCJzdmciLCJheGlzIiwib3JpZW50IiwidGlja1ZhbHVlcyIsInRpY2tGb3JtYXQiLCJmb3JtYXQiLCJ5QXhpcyIsImxpbmUiLCJpbnRlcnBvbGF0ZSIsInNlbGVjdCIsInNlbGVjdF9vcl9hcHBlbmQiLCJhdHRyIiwiZG9tYWluIiwiTnVtYmVyIiwibGluZXMiLCJzZWxlY3RBbGwiLCJkYXRhIiwicmV2ZXJzZSIsImVudGVyIiwiYXBwZW5kIiwibmFtZSIsInRyYW5zaXRpb24iLCJleGl0IiwiY2FsbCIsInN0eWxlIiwidGV4dCIsIl9zaG93SW5wdXQiLCJfc2hvd0lucHV0TSIsInN0YXR1cyIsImNvbnNvbGUiLCJsb2ciLCJtZXNzYWdlIiwiZ2FtZVN0YXRzIiwid2luc3RvbiIsIm1HYW1lU3RhdHMiLCJtYXJpb3RhIiwic3RhdHMiLCJVc3RhdHMiLCJNc3RhdHMiLCJuZXdTdGF0cyIsImFkZE5ldyIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJ0b2dnbGVJbnB1dCIsImNvbnN0cmFpbnQiLCJhbGVydCIsIkpTT04iLCJzdHJpbmdpZnkiLCJkZXRhaWwiLCJuZXdTdGF0c00iLCJhZGROZXdNIiwidG9nZ2xlSW5wdXRNIiwiZGVsZXRlUm93TSIsInJlbW92ZU0iLCJyZXNwb25zZSIsImRlbGV0ZVJvdyIsIm1heEdhbWVzIiwibWF4Iiwid2Vla3MiLCJhY2N1bXVsYXRlU3RhdHMiLCJyYXRlIiwicmF0ZVBsYXllcnMiLCJjaGFydEFjdGl2ZSIsIiQiLCJ2YWwiLCJzcGxpdCIsInJhdGVkIiwicGxheWVyc09iaiIsImdhbWVTdGF0ZXMiLCJyYW5rZWQiLCJmaWx0ZXIiLCJwIiwicmFuayIsImRsIiwiaW5pdGlhbGl6ZSIsImRvY3VtZW50cyIsIndpbmRvdyIsImRvY3VtZW50IiwiU1ZHU291cmNlcyIsImlmcmFtZXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwib2JqZWN0cyIsImVtcHR5U3ZnIiwiY3JlYXRlRWxlbWVudE5TIiwicHJlZml4IiwiYm9keSIsImFwcGVuZENoaWxkIiwiZW1wdHlTdmdEZWNsYXJhdGlvbkNvbXB1dGVkIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImVsIiwiY29udGVudERvY3VtZW50IiwiZXJyIiwiZG9jIiwibmV3U291cmNlcyIsImdldFNvdXJjZXMiLCJjcmVhdGVQb3BvdmVyIiwiZG93bmxvYWQiLCJzb3VyY2VzIiwiY2xlYW51cCIsInMxIiwiczIiLCJhYnMiLCJidXR0b25zQ29udGFpbmVyIiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImJhY2tncm91bmQiLCJidXR0b25XcmFwcGVyIiwic2Nyb2xsVG9wIiwic2Nyb2xsTGVmdCIsInRleHRDb250ZW50IiwiYnV0dG9uIiwib25jbGljayIsImNyb3diYXJFbGVtZW50cyIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsInN2Z0luZm8iLCJzdmdzIiwicmVtb3ZlQXR0cmlidXRlIiwiaGFzQXR0cmlidXRlTlMiLCJ4bWxucyIsInNldEF0dHJpYnV0ZU5TIiwieGxpbmsiLCJzZXRJbmxpbmVTdHlsZXMiLCJzb3VyY2UiLCJYTUxTZXJpYWxpemVyIiwic2VyaWFsaXplVG9TdHJpbmciLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiY2xhc3MiLCJnZXRBdHRyaWJ1dGUiLCJjaGlsZEVsZW1lbnRDb3VudCIsImRvY3R5cGUiLCJmaWxlbmFtZSIsInRpdGxlIiwicmVwbGFjZSIsInRvTG93ZXJDYXNlIiwidXJsIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiQmxvYiIsInR5cGUiLCJjbGljayIsInNldFRpbWVvdXQiLCJyZXZva2VPYmplY3RVUkwiLCJleHBsaWNpdGx5U2V0U3R5bGUiLCJlbGVtZW50IiwibGVuIiwia2V5IiwidmFsdWUiLCJjU1NTdHlsZURlY2xhcmF0aW9uQ29tcHV0ZWQiLCJjb21wdXRlZFN0eWxlU3RyIiwiZ2V0UHJvcGVydHlWYWx1ZSIsInRyYXZlcnNlIiwib2JqIiwidmlzaXQiLCJub2RlIiwiaGFzQ2hpbGROb2RlcyIsImNoaWxkIiwiZmlyc3RDaGlsZCIsIm5vZGVUeXBlIiwibm9kZU5hbWUiLCJ0cmVlIiwibmV4dFNpYmxpbmciLCJhbGxFbGVtZW50cyIsIndlYmtpdFVSTCIsImFkZFN0YXRzIiwiZ3JhcGgiLCJ0b2dnbGVXaW5zdG9uIiwiYWRkV2luc3RvblN0YXRzIiwic3RyaW5nIiwiam9pbiIsInJlcyIsImRlbGV0ZVdpbnN0b24iLCJ0b2dnbGVNYXJpb3RhIiwiYWRkTWFyaW90YVN0YXRzIiwiZGVsZXRlTWFyaW90YSIsImRyYXdHcmFwaCIsInNlbGVjdGVkIiwicmFua2luZ3MiLCJjb2xvck1hcCIsInBhcnNlIiwiY29sb3JzIiwiY29udHJvbHMiLCJnaSIsImN1cnJlbnRSYXRpbmciLCJodG1sIiwiY3VycmVudCIsImUiLCJvbiIsImJvcmRlci1jb2xvciIsInNlY29uZGFyeSIsImJhY2tncm91bmQtY29sb3IiLCJwcmltYXJ5IiwiY29udHJvbCIsInNlbGVjdGVkUCIsImdkYXRhIiwiZWFjaCIsInN0cm9rZS13aWR0aCIsInN0cm9rZSIsInotaW5kZXgiLCJjb25maWciLCIkc3RhdGVQcm92aWRlciIsInNlYXJjaFN2YyIsInN0YXRlIiwidGVtcGxhdGVVcmwiLCJyZXNvbHZlIiwibWV0aG9kIiwicnVuIiwiJHN0YXRlIiwiZ28iXSwibWFwcGluZ3MiOiJBQUNBQSxRQUFBQyxPQUFBLFdBQUEsY0NEQUQsUUFBQUMsT0FBQSxXQUNBQyxRQUFBLFVBQUEsUUFBQSxTQUFBQyxHQUNBQyxLQUFBQyxJQUFBLFNBQUFDLEdBQ0EsTUFBQUgsR0FBQUksSUFBQSxrQkFBQUQsSUFFQUYsS0FBQUksT0FBQSxTQUFBRixHQUNBLE1BQUFILEdBQUFJLElBQUEscUJBQUFELElBRUFGLEtBQUFLLEtBQUEsV0FDQSxNQUFBTixHQUFBSSxJQUFBLGtCQ1RBUCxRQUFBQyxPQUFBLFdBQ0FTLFdBQUEsWUFBQSxTQUFBLFNBQUEsYUFBQSxTQUFBQyxFQUFBQyxFQUFBQyxHQTJVQSxRQUFBQyxHQUFBQyxHQUNBQyxFQUFBQyxRQUFBTixFQUFBTyxRQUFBLFNBQUFDLEdBUUEsUUFBQUMsR0FBQUQsR0FDQSxHQUNBRSxHQURBQyxJQUVBTixHQUFBQyxRQUFBRSxFQUFBSSxNQUFBLFNBQUFDLEVBQUFDLEdBQ0EsSUFBQUosR0FBQSxHQUFBRyxFQUFBRSxHQUFBRixFQUFBRyxhQWFBLEdBWkFOLEdBQ0FPLGFBQUEsRUFDQUMsWUFBQSxFQUNBQyxXQUFBLEVBQ0FILFlBQUEsRUFDQUksWUFBQSxHQUVBLE1BQUFQLEVBQUFJLGVBQUFQLEVBQUFPLGNBQUFKLEVBQUFJLGNBQ0EsTUFBQUosRUFBQUssY0FBQVIsRUFBQVEsYUFBQUwsRUFBQUssYUFDQSxNQUFBTCxFQUFBTSxhQUFBVCxFQUFB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QUFWLEdBQ0EsTUFBQUEsSUFBQTBRLE9BQUEsTUFBQXRFLElBQUEsdUJBc0JBdUUsS0FBQSxTQUFBLFNBQUFDLEdBRUFBLEVBQUFDLEdBQUEiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhpcyBuZWVkcyB0byBiZSBsb2FkZWQgZmlyc3QgYmVjYXVzZSBpdCBkZWZpbmVzIHRoZSBkZXBlbmRlbmNpZXMuIFRoZSBndWxwIHRhc2sgd2lsbCBhbHdheXMgY29uY2F0IHRoaXMgdG8gdGhlIHRvcCBvZiBmaWxlXG5hbmd1bGFyLm1vZHVsZSgnd2luc3RvbicsIFsndWkucm91dGVyJ10pOyIsImFuZ3VsYXIubW9kdWxlKCd3aW5zdG9uJylcbi5zZXJ2aWNlKCdhcGlTVkMnLCBmdW5jdGlvbigkaHR0cCkge1xuICAgICAgICB0aGlzLmFkZCA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvc3RhdHMvYWRkPycgKyBwYXJhbXMpXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucmVtb3ZlID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9zdGF0cy9yZW1vdmU/JyArIHBhcmFtcylcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3N0YXRzJylcbiAgICAgICAgfTtcbiAgICB9KTsiLCJhbmd1bGFyLm1vZHVsZSgnd2luc3RvbicpXG4gICAgLmNvbnRyb2xsZXIoJ21haW5DVFJMJyxmdW5jdGlvbigkc2NvcGUsYXBpU1ZDLHByZWxvYWRPYmope1xuICAgICAgICAkc2NvcGUuX3Nob3dJbnB1dCA9IGZhbHNlO1xuICAgICAgICAkc2NvcGUuX3Nob3dJbnB1dE0gPSBmYWxzZTtcbiAgICAgICAgdmFyIFRhYmxlSGVhZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogJ3dlZWsnLFxuICAgICAgICAgICAgICAgICAgICB2YWw6IG51bGxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiAnZGF0ZScsXG4gICAgICAgICAgICAgICAgICAgIHZhbDogbnVsbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBrZXk6ICdnJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsOiBudWxsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogJ2dzJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsOiBudWxsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogJ3Bhc3NfY29tcCcsXG4gICAgICAgICAgICAgICAgICAgIHZhbDogbnVsbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBrZXk6ICdwYXNzX2F0dCcsXG4gICAgICAgICAgICAgICAgICAgIHZhbDogbnVsbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBrZXk6ICdwYXNzX3BjdCcsXG4gICAgICAgICAgICAgICAgICAgIHZhbDogbnVsbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBrZXk6ICdwYXNzX3lkcycsXG4gICAgICAgICAgICAgICAgICAgIHZhbDogbnVsbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBrZXk6ICdwYXNzX2F2ZycsXG4gICAgICAgICAgICAgICAgICAgIHZhbDogbnVsbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBrZXk6ICdwYXNzX3RkJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsOiBudWxsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogJ3Bhc3NfaW50JyxcbiAgICAgICAgICAgICAgICAgICAgdmFsOiBudWxsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogJ3Bhc3Nfc2NrJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsOiBudWxsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogJ3Bhc3Nfc2NreScsXG4gICAgICAgICAgICAgICAgICAgIHZhbDogbnVsbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBrZXk6ICdwYXNzX3JhdGUnLFxuICAgICAgICAgICAgICAgICAgICB2YWw6IG51bGxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiAncnVzaF9hdHQnLFxuICAgICAgICAgICAgICAgICAgICB2YWw6IG51bGxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiAncnVzaF95ZHMnLFxuICAgICAgICAgICAgICAgICAgICB2YWw6IG51bGxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiAncnVzaF9hdmcnLFxuICAgICAgICAgICAgICAgICAgICB2YWw6IG51bGxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiAncnVzaF90ZCcsXG4gICAgICAgICAgICAgICAgICAgIHZhbDogbnVsbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBrZXk6ICdmdW0nLFxuICAgICAgICAgICAgICAgICAgICB2YWw6IG51bGxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiAnZnVtX2xvc3QnLFxuICAgICAgICAgICAgICAgICAgICB2YWw6IG51bGxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgVXBkYXRlSGVhZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogJ2RhdGUnLFxuICAgICAgICAgICAgICAgICAgICB2YWw6IG51bGxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiAnZycsXG4gICAgICAgICAgICAgICAgICAgIHZhbDogbnVsbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBrZXk6ICdncycsXG4gICAgICAgICAgICAgICAgICAgIHZhbDogbnVsbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBrZXk6ICdwYXNzX2NvbXAnLFxuICAgICAgICAgICAgICAgICAgICB2YWw6IG51bGxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiAncGFzc19hdHQnLFxuICAgICAgICAgICAgICAgICAgICB2YWw6IG51bGxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiAncGFzc19wY3QnLFxuICAgICAgICAgICAgICAgICAgICB2YWw6IG51bGxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiAncGFzc195ZHMnLFxuICAgICAgICAgICAgICAgICAgICB2YWw6IG51bGxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiAncGFzc19hdmcnLFxuICAgICAgICAgICAgICAgICAgICB2YWw6IG51bGxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiAncGFzc190ZCcsXG4gICAgICAgICAgICAgICAgICAgIHZhbDogbnVsbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBrZXk6ICdwYXNzX2ludCcsXG4gICAgICAgICAgICAgICAgICAgIHZhbDogbnVsbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBrZXk6ICdwYXNzX3NjaycsXG4gICAgICAgICAgICAgICAgICAgIHZhbDogbnVsbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBrZXk6ICdwYXNzX3Nja3knLFxuICAgICAgICAgICAgICAgICAgICB2YWw6IG51bGxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiAncGFzc19yYXRlJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsOiBudWxsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogJ3J1c2hfYXR0JyxcbiAgICAgICAgICAgICAgICAgICAgdmFsOiBudWxsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogJ3J1c2hfeWRzJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsOiBudWxsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogJ3J1c2hfYXZnJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsOiBudWxsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogJ3J1c2hfdGQnLFxuICAgICAgICAgICAgICAgICAgICB2YWw6IG51bGxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiAnZnVtJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsOiBudWxsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogJ2Z1bV9sb3N0JyxcbiAgICAgICAgICAgICAgICAgICAgdmFsOiBudWxsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHByZWxvYWRPYmouZGF0YS5zdGF0dXMgPT0gJ2VycicpIGNvbnNvbGUubG9nKHByZWxvYWRPYmouZGF0YS5tZXNzYWdlKTtcbiAgICAgICAgJHNjb3BlLmdhbWVTdGF0cyA9IHByZWxvYWRPYmouZGF0YS5kYXRhLndpbnN0b247XG4gICAgICAgICRzY29wZS5tR2FtZVN0YXRzID0gcHJlbG9hZE9iai5kYXRhLmRhdGEubWFyaW90YTtcbiAgICAgICAgJHNjb3BlLnN0YXRzID0gbmV3IHN0YXRzKCk7XG4gICAgICAgICRzY29wZS5Vc3RhdHMgPSBuZXcgVXN0YXRzKCk7XG4gICAgICAgICRzY29wZS5Nc3RhdHMgPSBuZXcgVXN0YXRzKCk7XG4gICAgICAgICRzY29wZS5uZXdTdGF0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgYXBpU1ZDLmFkZE5ldygkc2NvcGUuVXN0YXRzKS5zdWNjZXNzKGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT0gXCJzdWNjZXNzXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlVzdGF0cyA9IG5ldyBVc3RhdHMoKTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvZ2dsZUlucHV0KCk7XG4gICAgICAgICAgICAgICAgICAgIGFwaVNWQy5sb2FkKCkuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZ2FtZVN0YXRzID0gZGF0YS5kYXRhLndpbnN0b247XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQubWVzc2FnZS5jb25zdHJhaW50ID09ICdnYW1lX3BrJykge1xuICAgICAgICAgICAgICAgICAgICBhbGVydChcIkVycm9yOiBUaGF0IGdhbWUgYWxyZWFkeSBleGlzdHMgaW4gdGhlIGRhdGFiYXNlLiBEZWxldGUgaXQgZmlyc3QgaWYgeW91IHdhbnQgdG8gdXBkYXRlIGl0XCIpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhbGVydChcIkVycm9yOiBcIiArIEpTT04uc3RyaW5naWZ5KHJlc3VsdC5tZXNzYWdlLmRldGFpbCkpXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgJHNjb3BlLm5ld1N0YXRzTSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgYXBpU1ZDLmFkZE5ld00oJHNjb3BlLk1zdGF0cykuc3VjY2VzcyhmdW5jdGlvbihyZXN1bHQpe1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09IFwic3VjY2Vzc1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5Nc3RhdHMgPSBuZXcgVXN0YXRzKCk7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS50b2dnbGVJbnB1dE0oKTtcbiAgICAgICAgICAgICAgICAgICAgYXBpU1ZDLmxvYWQoKS5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tR2FtZVN0YXRzID0gZGF0YS5kYXRhLm1hcmlvdGE7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQubWVzc2FnZS5jb25zdHJhaW50ID09ICdnYW1lX3BrJykge1xuICAgICAgICAgICAgICAgICAgICBhbGVydChcIkVycm9yOiBUaGF0IGdhbWUgYWxyZWFkeSBleGlzdHMgaW4gdGhlIGRhdGFiYXNlLiBEZWxldGUgaXQgZmlyc3QgaWYgeW91IHdhbnQgdG8gdXBkYXRlIGl0XCIpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhbGVydChcIkVycm9yOiBcIiArIEpTT04uc3RyaW5naWZ5KHJlc3VsdC5tZXNzYWdlLmRldGFpbCkpXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgJHNjb3BlLnRvZ2dsZUlucHV0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkc2NvcGUuX3Nob3dJbnB1dCA9ICEkc2NvcGUuX3Nob3dJbnB1dDtcbiAgICAgICAgfTtcbiAgICAgICAgJHNjb3BlLnRvZ2dsZUlucHV0TSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJHNjb3BlLl9zaG93SW5wdXRNID0gISRzY29wZS5fc2hvd0lucHV0TTtcbiAgICAgICAgfTtcbiAgICAgICAgJHNjb3BlLmRlbGV0ZVJvd00gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICgkc2NvcGUubUdhbWVTdGF0cyAhPSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGFwaVNWQy5yZW1vdmVNKCkuc3VjY2VzcyhmdW5jdGlvbihyZXNwb25zZSl7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT0gJ3N1Y2Nlc3MnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcGlTVkMubG9hZCgpLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tR2FtZVN0YXRzID0gZGF0YS5kYXRhLm1hcmlvdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgJHNjb3BlLmRlbGV0ZVJvdyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKCRzY29wZS5nYW1lU3RhdHMgIT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBhcGlTVkMucmVtb3ZlKCkuc3VjY2VzcyhmdW5jdGlvbihyZXNwb25zZSl7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT0gJ3N1Y2Nlc3MnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcGlTVkMubG9hZCgpLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5nYW1lU3RhdHMgPSBkYXRhLmRhdGEud2luc3RvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAkc2NvcGUubWF4R2FtZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBtYXggPSAwO1xuICAgICAgICAgICAgXy5mb3JFYWNoKCRzY29wZS5wbGF5ZXJzLCBmdW5jdGlvbihwbGF5ZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAocGxheWVyLmdhbWVzLmxlbmd0aCA+IG1heCkgbWF4ID0gcGxheWVyLmdhbWVzLmxlbmd0aDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIHdlZWtzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IG1heCArIDE7IGkrKykge1xuICAgICAgICAgICAgICAgIHdlZWtzLnB1c2goaSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB3ZWVrcztcbiAgICAgICAgfTtcbiAgICAgICAgJHNjb3BlLnBsYXllcnMgPSBwcmVsb2FkT2JqLmRhdGEuZGF0YS5wbGF5ZXJzO1xuICAgICAgICAkc2NvcGUuZ2FtZXMgPSBwcmVsb2FkT2JqLmRhdGEuZGF0YS5nYW1lcztcbiAgICAgICAgXy5mb3JFYWNoKCRzY29wZS5wbGF5ZXJzLCBmdW5jdGlvbihwbGF5ZXIpIHtcbiAgICAgICAgICAgIHBsYXllci5nYW1lcyA9IFtdO1xuICAgICAgICAgICAgXy5mb3JFYWNoKCRzY29wZS5nYW1lcywgZnVuY3Rpb24oZ2FtZSkge1xuICAgICAgICAgICAgICAgIGlmIChnYW1lLnBsYXllciA9PT0gcGxheWVyLmlkKSBwbGF5ZXIuZ2FtZXMucHVzaChnYW1lKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGFjY3VtdWxhdGVTdGF0cyA9IGZ1bmN0aW9uKHBsYXllciwgd2Vlaykge1xuICAgICAgICAgICAgdmFyIGdhbWVzID0gXy50YWtlKHBsYXllci5nYW1lcywgd2Vlayk7XG4gICAgICAgICAgICB2YXIgc3RhdHNDdW0gPSB7XG4gICAgICAgICAgICAgICAgcGFzc2luZ19jb21wOjAsXG4gICAgICAgICAgICAgICAgcGFzc2luZ195ZHM6IDAsXG4gICAgICAgICAgICAgICAgcGFzc2luZ190ZDogMCxcbiAgICAgICAgICAgICAgICBwYXNzaW5nX2F0dDogMCxcbiAgICAgICAgICAgICAgICBwYXNzaW5nX2ludDogMFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIF8uZm9yRWFjaChnYW1lcyxmdW5jdGlvbihnYW1lKSB7XG4gICAgICAgICAgICAgICAgaWYgKGdhbWUucGFzc2luZ19jb21wICE9IG51bGwpIHN0YXRzQ3VtLnBhc3NpbmdfY29tcCArPSBnYW1lLnBhc3NpbmdfY29tcDtcbiAgICAgICAgICAgICAgICBpZiAoZ2FtZS5wYXNzaW5nX3lkcyAhPSBudWxsKSBzdGF0c0N1bS5wYXNzaW5nX3lkcyArPSBnYW1lLnBhc3NpbmdfeWRzO1xuICAgICAgICAgICAgICAgIGlmIChnYW1lLnBhc3NpbmdfdGQgIT0gbnVsbCkgc3RhdHNDdW0ucGFzc2luZ190ZCArPSBnYW1lLnBhc3NpbmdfdGQ7XG4gICAgICAgICAgICAgICAgaWYgKGdhbWUucGFzc2luZ19hdHQgIT0gbnVsbCkgc3RhdHNDdW0ucGFzc2luZ19hdHQgKz0gZ2FtZS5wYXNzaW5nX2F0dDtcbiAgICAgICAgICAgICAgICBpZiAoZ2FtZS5wYXNzaW5nX2ludCAhPSBudWxsKSBzdGF0c0N1bS5wYXNzaW5nX2ludCArPSBnYW1lLnBhc3NpbmdfaW50O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBmdW5jdGlvbiByYXRlKHN0YXRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRzLnBhc3NpbmdfYXR0ICE9IG51bGwgJiYgc3RhdHMucGFzc2luZ19hdHQgIT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBmb3JtdWxhIGZyb20gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUGFzc2VyX3JhdGluZ1xuICAgICAgICAgICAgICAgICAgICB2YXIgYSA9IChzdGF0c0N1bS5wYXNzaW5nX2NvbXAgLyBzdGF0c0N1bS5wYXNzaW5nX2F0dCAtIC4zKSAqIDU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBiID0gKHN0YXRzQ3VtLnBhc3NpbmdfeWRzIC8gc3RhdHNDdW0ucGFzc2luZ19hdHQgLSAzKSAqIC4yNTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGMgPSAoc3RhdHNDdW0ucGFzc2luZ190ZCAvIHN0YXRzQ3VtLnBhc3NpbmdfYXR0KSAqIDIwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZCA9IDIuMzc1IC0gKHN0YXRzQ3VtLnBhc3NpbmdfaW50IC8gc3RhdHNDdW0ucGFzc2luZ19hdHQgKiAyNSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhID4gMi4zNzUpIGEgPSAyLjM3NTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGEgPCAwKSBhID0gMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGIgPiAyLjM3NSkgYiA9IDIuMzc1O1xuICAgICAgICAgICAgICAgICAgICBpZiAoYiA8IDApIGIgPSAwO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYyA+IDIuMzc1KSBjID0gMi4zNzU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjIDwgMCkgYyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkID4gMi4zNzUpIGQgPSAyLjM3NTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGQgPCAwKSBkID0gMDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChhICsgYiArIGMgKyBkKSAvIDYgKiAxMDA7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwbGF5ZXIucmF0aW5nID0gcmF0ZShzdGF0c0N1bSk7XG4gICAgICAgICAgICByZXR1cm4gcGxheWVyO1xuICAgICAgICB9O1xuICAgICAgICAkc2NvcGUucmF0ZVBsYXllcnMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRzY29wZS5jaGFydEFjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICB2YXIgd2VlayA9ICQoJyN3ZWVrMnJhdGUnKS52YWwoKS5zcGxpdCgnICcpWzFdO1xuICAgICAgICAgICAgdmFyIHJhdGVkID0gW107XG4gICAgICAgICAgICAkc2NvcGUucmF0ZWQgPSBbXTtcbiAgICAgICAgICAgIGFwaVNWQy5sb2FkKCkuc3VjY2VzcyhmdW5jdGlvbihwbGF5ZXJzT2JqKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnBsYXllcnMgPSBwbGF5ZXJzT2JqLmRhdGEucGxheWVycztcbiAgICAgICAgICAgICAgICAkc2NvcGUuZ2FtZXMgPSBwbGF5ZXJzT2JqLmRhdGEuZ2FtZXM7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmdhbWVTdGF0ZXMgPSBwbGF5ZXJzT2JqLmRhdGEud2luc3RvbjtcbiAgICAgICAgICAgICAgICBfLmZvckVhY2goJHNjb3BlLnBsYXllcnMsIGZ1bmN0aW9uKHBsYXllcikge1xuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIuZ2FtZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgXy5mb3JFYWNoKCRzY29wZS5nYW1lcywgZnVuY3Rpb24oZ2FtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdhbWUucGxheWVyID09PSBwbGF5ZXIuaWQpIHBsYXllci5nYW1lcy5wdXNoKGdhbWUpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgXy5zb3J0QnkocGxheWVyLmdhbWVzLCBmdW5jdGlvbihnYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2FtZS53ZWVrO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBfLmZvckVhY2goJHNjb3BlLnBsYXllcnMsIGZ1bmN0aW9uKHBsYXllcikge1xuICAgICAgICAgICAgICAgICAgICBhY2N1bXVsYXRlU3RhdHMocGxheWVyLHdlZWspO1xuICAgICAgICAgICAgICAgICAgICByYXRlZC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwicGxheWVyXCI6cGxheWVyLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInJhdGluZ1wiOk1hdGgucm91bmQoKHBsYXllci5yYXRpbmcgKyAwLjAwMDAxKSAqIDEwMCkgLyAxMDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImlkXCI6XCJwXCIrcGxheWVyLmlkXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmFyIHJhbmtlZCA9IF8uc29ydEJ5KHJhdGVkLCBmdW5jdGlvbihwbGF5ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBsYXllci5yYXRpbmc7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmFua2VkID0gXy5maWx0ZXIocmFua2VkLCBmdW5jdGlvbihwKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHAucmF0aW5nO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIF8uZm9yRWFjaChyYW5rZWQucmV2ZXJzZSgpLGZ1bmN0aW9uKHBsYXllciwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyLnJhbmsgPSBpbmRleCArIDE7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5yYXRlZC5wdXNoKHBsYXllcik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZHJhd0dyYXBoaWNzKHdlZWspO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGZ1bmN0aW9uIGRyYXdHcmFwaGljcyh3ZWVrKSB7XG4gICAgICAgICAgICBfLmZvckVhY2goJHNjb3BlLnBsYXllcnMsIGZ1bmN0aW9uKHBsYXllcikge1xuICAgICAgICAgICAgICAgIHBsYXllci5nYW1lcyA9IFtdO1xuICAgICAgICAgICAgICAgIF8uZm9yRWFjaCgkc2NvcGUuZ2FtZXMsIGZ1bmN0aW9uKGdhbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdhbWUucGxheWVyID09IHBsYXllci5pZCkgcGxheWVyLmdhbWVzLnB1c2goZ2FtZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgXy5zb3J0QnkocGxheWVyLmdhbWVzLCBmdW5jdGlvbihnYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBnYW1lLndlZWs7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gZ2V0UmF0aW5ncyhwbGF5ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJhdGluZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXRzQ3VtO1xuICAgICAgICAgICAgICAgICAgICBfLmZvckVhY2gocGxheWVyLmdhbWVzLGZ1bmN0aW9uKGdhbWUsaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc3RhdHNDdW0gJiYgZ2FtZS5nID09IDEgJiYgZ2FtZS5wYXNzaW5nX2F0dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRzQ3VtID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzaW5nX2NvbXA6MCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc2luZ195ZHM6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3NpbmdfdGQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3NpbmdfYXR0OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzaW5nX2ludDogMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdhbWUucGFzc2luZ19jb21wICE9IG51bGwpIHN0YXRzQ3VtLnBhc3NpbmdfY29tcCArPSBnYW1lLnBhc3NpbmdfY29tcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ2FtZS5wYXNzaW5nX3lkcyAhPSBudWxsKSBzdGF0c0N1bS5wYXNzaW5nX3lkcyArPSBnYW1lLnBhc3NpbmdfeWRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnYW1lLnBhc3NpbmdfdGQgIT0gbnVsbCkgc3RhdHNDdW0ucGFzc2luZ190ZCArPSBnYW1lLnBhc3NpbmdfdGQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdhbWUucGFzc2luZ19hdHQgIT0gbnVsbCkgc3RhdHNDdW0ucGFzc2luZ19hdHQgKz0gZ2FtZS5wYXNzaW5nX2F0dDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ2FtZS5wYXNzaW5nX2ludCAhPSBudWxsKSBzdGF0c0N1bS5wYXNzaW5nX2ludCArPSBnYW1lLnBhc3NpbmdfaW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0c0N1bS5wYXNzaW5nX2F0dCAhPSBudWxsICYmIHN0YXRzQ3VtLnBhc3NpbmdfYXR0ICE9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZm9ybXVsYSBmcm9tIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1Bhc3Nlcl9yYXRpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSAoc3RhdHNDdW0ucGFzc2luZ19jb21wIC8gc3RhdHNDdW0ucGFzc2luZ19hdHQgLSAuMykgKiA1O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYiA9IChzdGF0c0N1bS5wYXNzaW5nX3lkcyAvIHN0YXRzQ3VtLnBhc3NpbmdfYXR0IC0gMykgKiAuMjU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjID0gKHN0YXRzQ3VtLnBhc3NpbmdfdGQgLyBzdGF0c0N1bS5wYXNzaW5nX2F0dCkgKiAyMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGQgPSAyLjM3NSAtIChzdGF0c0N1bS5wYXNzaW5nX2ludCAvIHN0YXRzQ3VtLnBhc3NpbmdfYXR0ICogMjUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYSA+IDIuMzc1KSBhID0gMi4zNzU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhIDwgMCkgYSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiID4gMi4zNzUpIGIgPSAyLjM3NTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGIgPCAwKSBiID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGMgPiAyLjM3NSkgYyA9IDIuMzc1O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYyA8IDApIGMgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZCA+IDIuMzc1KSBkID0gMi4zNzU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkIDwgMCkgZCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByYXRpbmcgPSAoYStiK2MrZCkvNioxMDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhdGluZ3MucHVzaCh7XCJ3ZWVrXCI6aW5kZXggKyAxLCBcInJhdGluZ1wiOk1hdGgucm91bmQoKHJhdGluZyArIDAuMDAwMDEpICogMTAwKSAvIDEwMCxcInBpZFwiOnBsYXllci5pZH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghc3RhdHNDdW0gJiYgIWdhbWUuZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhdGluZ3MucHVzaCh7XCJ3ZWVrXCI6aW5kZXggKyAxLFwicmF0aW5nXCI6bnVsbCxcInBpZFwiOnBsYXllci5pZH0pXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFzdGF0c0N1bSAmJiBnYW1lLmcgPT0gMSAmJiAhZ2FtZS5wYXNzaW5nX2F0dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB4ID0gcmF0aW5nc1tyYXRpbmdzLmxlbmd0aCAtMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHkgPSB7XCJ3ZWVrXCI6IHgud2VlayArIDEsXCJyYXRpbmdcIjogeC5yYXRpbmcsXCJwaWRcIjpwbGF5ZXIuaWR9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhdGluZ3MucHVzaCh5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnYW1lLnBhc3NpbmdfY29tcCAhPSBudWxsKSBzdGF0c0N1bS5wYXNzaW5nX2NvbXAgKz0gZ2FtZS5wYXNzaW5nX2NvbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdhbWUucGFzc2luZ195ZHMgIT0gbnVsbCkgc3RhdHNDdW0ucGFzc2luZ195ZHMgKz0gZ2FtZS5wYXNzaW5nX3lkcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ2FtZS5wYXNzaW5nX3RkICE9IG51bGwpIHN0YXRzQ3VtLnBhc3NpbmdfdGQgKz0gZ2FtZS5wYXNzaW5nX3RkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnYW1lLnBhc3NpbmdfYXR0ICE9IG51bGwpIHN0YXRzQ3VtLnBhc3NpbmdfYXR0ICs9IGdhbWUucGFzc2luZ19hdHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdhbWUucGFzc2luZ19pbnQgIT0gbnVsbCkgc3RhdHNDdW0ucGFzc2luZ19pbnQgKz0gZ2FtZS5wYXNzaW5nX2ludDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdHNDdW0ucGFzc2luZ19hdHQgIT0gbnVsbCAmJiBzdGF0c0N1bS5wYXNzaW5nX2F0dCAhPSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZvcm11bGEgZnJvbSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9QYXNzZXJfcmF0aW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhID0gKHN0YXRzQ3VtLnBhc3NpbmdfY29tcCAvIHN0YXRzQ3VtLnBhc3NpbmdfYXR0IC0gLjMpICogNTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGIgPSAoc3RhdHNDdW0ucGFzc2luZ195ZHMgLyBzdGF0c0N1bS5wYXNzaW5nX2F0dCAtIDMpICogLjI1O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYyA9IChzdGF0c0N1bS5wYXNzaW5nX3RkIC8gc3RhdHNDdW0ucGFzc2luZ19hdHQpICogMjA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkID0gMi4zNzUgLSAoc3RhdHNDdW0ucGFzc2luZ19pbnQgLyBzdGF0c0N1bS5wYXNzaW5nX2F0dCAqIDI1KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGEgPiAyLjM3NSkgYSA9IDIuMzc1O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYSA8IDApIGEgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYiA+IDIuMzc1KSBiID0gMi4zNzU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiIDwgMCkgYiA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjID4gMi4zNzUpIGMgPSAyLjM3NTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGMgPCAwKSBjID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGQgPiAyLjM3NSkgZCA9IDIuMzc1O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZCA8IDApIGQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmF0aW5nID0gKGErYitjK2QpLzYqMTAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXRpbmdzLnB1c2goe1wid2Vla1wiOmluZGV4ICsgMSwgXCJyYXRpbmdcIjpNYXRoLnJvdW5kKChyYXRpbmcgKyAwLjAwMDAxKSAqIDEwMCkgLyAxMDAsXCJwaWRcIjpwbGF5ZXIuaWR9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciByYXRpbmdPYmogPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgXy5mb3JFYWNoKHJhdGluZ3MsIGZ1bmN0aW9uKHJhdGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW5nT2JqW3JhdGluZy53ZWVrXSA9IHJhdGluZztcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgXy5mb3JFYWNoKHJhdGluZ09iaiwgZnVuY3Rpb24ocmF0aW5nLGkpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyYXRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhdGluZyA9IHJhdGluZ09ialtpLTFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXRpbmcud2VlaysrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW5nLndlZWsgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXRpbmcucmF0aW5nID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW5nLnBpZCA9IHBsYXllci5pZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC8vZm9yICh2YXIgaSA9IDE7IGkgPCAxOTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgIGlmICghcmF0aW5nT2JqW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICBpZiAoaSAhPSAxICYmIHJhdGluZ09ialtpLTFdKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgcmF0aW5nT2JqW2ldID0gcmF0aW5nT2JqW2ktMV07XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgcmF0aW5nT2JqW2ldLndlZWsgPSBpO1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICByYXRpbmdPYmpbaV0gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmF0aW5nT2JqO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgcmF0aW5ncyA9IF8udmFsdWVzKGdldFJhdGluZ3MocGxheWVyKSk7XG4gICAgICAgICAgICAgICAgLy9pZiAoIXBsYXllci5pZCA9PSAxKSB3ZWVrICs9IDM7XG4gICAgICAgICAgICAgICAgcGxheWVyLnJhdGluZ3MgPSBfLnRha2UocmF0aW5ncywgd2Vlayk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF8uZm9yRWFjaCgkc2NvcGUucGxheWVycyxmdW5jdGlvbihwbGF5ZXIpIHtcbiAgICAgICAgICAgICAgICBwbGF5ZXIuY2xhc3NOYW1lID0gJ290aGVyJztcbiAgICAgICAgICAgICAgICBpZiAocGxheWVyLmlkID09PSAxKSBwbGF5ZXIuY2xhc3NOYW1lID0gJ2phbWVpcyc7XG4gICAgICAgICAgICAgICAgaWYgKHBsYXllci5pZCA9PT0gMikgcGxheWVyLmNsYXNzTmFtZSA9ICdtYXJjdXMnO1xuICAgICAgICAgICAgICAgIHBsYXllci5yYXRpbmdzLmZvckVhY2goZnVuY3Rpb24oZCxpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkLndlZWsgPSArZC53ZWVrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZC5yYXRpbmcgPSBkLnJhdGluZztcbiAgICAgICAgICAgICAgICAgICAgICAgIGQucGlkID0gcGxheWVyLmlkO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT0gMCAmJiBwbGF5ZXIucmF0aW5nc1tpXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyLnJhdGluZ3NbaV0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwid2Vla1wiOnBsYXllci5yYXRpbmdzW2ldLndlZWsgKyAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInJhdGluZ1wiOnBsYXllci5yYXRpbmdzW2ldLnJhdGluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwaWRcIjpwbGF5ZXIuaWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllci5yYXRpbmdzW2ldID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIndlZWtcIjogaSArIDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicmF0aW5nXCI6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicGlkXCI6IHBsYXllci5pZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBUaGlzIGxvb3AgY2FuIGJlIHVzZWQgdG8gY2hlY2sgaWYgYW55IGRpZG4ndCBnZXQgcmF0ZWRcbiAgICAgICAgICAgIC8vXy5mb3JFYWNoKCRzY29wZS5wbGF5ZXJzLGZ1bmN0aW9uKHBsYXllcikge1xuICAgICAgICAgICAgLy8gICAgaWYgKHBsYXllci5yYXRpbmdzLmxlbmd0aCA8IHBsYXllci5nYW1lcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIC8vICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBsYXllci5yYXRpbmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgIGNvbnNvbGUubG9nKHBsYXllci5uYW1lLCBwbGF5ZXIucmF0aW5nc1tpXS53ZWVrKVxuICAgICAgICAgICAgLy8gICAgICAgIH1cbiAgICAgICAgICAgIC8vICAgIH1cbiAgICAgICAgICAgIC8vfSk7XG4gICAgICAgICAgICB2YXIgbWFyZ2luID0ge3RvcDogMjAsIHJpZ2h0OiAyMCwgYm90dG9tOiAzMCwgbGVmdDogNTB9O1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gOTYwIC0gbWFyZ2luLnJpZ2h0IC0gbWFyZ2luLmxlZnQ7XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gNTAwIC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207XG4gICAgICAgICAgICB2YXIgeCA9IGQzLnNjYWxlLmxpbmVhcigpLnJhbmdlKFswLHdpZHRoXSk7XG4gICAgICAgICAgICB2YXIgeSA9IGQzLnNjYWxlLmxpbmVhcigpLnJhbmdlKFtoZWlnaHQsMF0pO1xuICAgICAgICAgICAgdmFyIHhBeGlzID0gZDMuc3ZnLmF4aXMoKS5zY2FsZSh4KS5vcmllbnQoXCJib3R0b21cIikudGlja1ZhbHVlcyhkMy5yYW5nZSgxLHdlZWsgKyAxKSkudGlja0Zvcm1hdChkMy5mb3JtYXQoXCJkXCIpKTtcbiAgICAgICAgICAgIHZhciB5QXhpcyA9IGQzLnN2Zy5heGlzKCkuc2NhbGUoeSkub3JpZW50KFwibGVmdFwiKTtcbiAgICAgICAgICAgIHZhciBsaW5lID0gZDMuc3ZnLmxpbmUoKVxuICAgICAgICAgICAgICAgIC54KGZ1bmN0aW9uKGQpIHsgcmV0dXJuIHgoZC53ZWVrKX0pXG4gICAgICAgICAgICAgICAgLnkoZnVuY3Rpb24oZCkgeyByZXR1cm4geShkLnJhdGluZyl9KVxuICAgICAgICAgICAgICAgIC5pbnRlcnBvbGF0ZSgnYmFzaXMnKTtcbiAgICAgICAgICAgIHZhciBzdmcgPSBkMy5zZWxlY3QoXCIjZ3JhcGhcIikuc2VsZWN0X29yX2FwcGVuZChcInN2Z1wiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwid2lkdGhcIiwgd2lkdGggKyBtYXJnaW4ubGVmdCArIG1hcmdpbi5yaWdodClcbiAgICAgICAgICAgICAgICAuYXR0cihcImhlaWdodFwiLCBoZWlnaHQgKyBtYXJnaW4udG9wICsgbWFyZ2luLmJvdHRvbSlcbiAgICAgICAgICAgICAgICAuc2VsZWN0X29yX2FwcGVuZChcImcuY29udGFpbmVyXCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIixcInRyYW5zbGF0ZShcIiArIG1hcmdpbi5sZWZ0ICsgXCIsXCIgKyBtYXJnaW4udG9wICsgXCIpXCIpO1xuICAgICAgICAgICAgeC5kb21haW4oWzEsIE51bWJlcih3ZWVrKV0pO1xuICAgICAgICAgICAgeS5kb21haW4oWzAsMTYwXSk7XG5cbiAgICAgICAgICAgIHZhciBsaW5lcyA9IHN2Zy5zZWxlY3Rfb3JfYXBwZW5kKCdnLmxpbmVzJykuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgICAgICAgICAgICAuZGF0YSgkc2NvcGUucGxheWVycy5yZXZlcnNlKCksZnVuY3Rpb24oZCl7aWYoZCl7Lypjb25zb2xlLmxvZyhkKTsqL3JldHVybiBkLmlkO319KTtcblxuICAgICAgICAgICAgbGluZXMuZW50ZXIoKS5hcHBlbmQoJ3BhdGgnKVxuICAgICAgICAgICAgLmF0dHIoXCJjbGFzc1wiLGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQuY2xhc3NOYW1lfSlcbiAgICAgICAgICAgIC5hdHRyKFwibmFtZVwiLGZ1bmN0aW9uKGQpe3JldHVybiBkLm5hbWV9KVxuICAgICAgICAgICAgLmF0dHIoXCJkXCIsIGZ1bmN0aW9uKGQpIHtyZXR1cm4gbGluZShkLnJhdGluZ3MpfSk7XG5cbiAgICAgICAgICAgIGxpbmVzLmF0dHIoXCJjbGFzc1wiLGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQuY2xhc3NOYW1lfSlcbiAgICAgICAgICAgIC5hdHRyKFwibmFtZVwiLGZ1bmN0aW9uKGQpe3JldHVybiBkLm5hbWV9KVxuICAgICAgICAgICAgLnRyYW5zaXRpb24oKS5hdHRyKFwiZFwiLCBmdW5jdGlvbihkKSB7cmV0dXJuIGxpbmUoZC5yYXRpbmdzKX0pO1xuXG4gICAgICAgICAgICBsaW5lcy5leGl0KCkucmVtb3ZlKCk7XG5cbiAgICAgICAgICAgIHN2Zy5zZWxlY3Rfb3JfYXBwZW5kKFwiZy54XCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcInggYXhpc1wiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyBoZWlnaHQgKyBcIilcIilcbiAgICAgICAgICAgICAgICAuY2FsbCh4QXhpcylcbiAgICAgICAgICAgICAgICAuc2VsZWN0X29yX2FwcGVuZChcInRleHQueGF4aXNcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcInlcIiwyNSlcbiAgICAgICAgICAgICAgICAuYXR0cihcInhcIiw0NTApXG4gICAgICAgICAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIixcImVuZFwiKVxuICAgICAgICAgICAgICAgIC5zdHlsZShcImR5XCIsXCIuNzFlbVwiKVxuICAgICAgICAgICAgICAgIC50ZXh0KFwiV2Vla1wiKTtcblxuICAgICAgICAgICAgc3ZnLnNlbGVjdF9vcl9hcHBlbmQoXCJnLnlcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwieSBheGlzXCIpXG4gICAgICAgICAgICAgICAgLmNhbGwoeUF4aXMpXG4gICAgICAgICAgICAgICAgLnNlbGVjdF9vcl9hcHBlbmQoXCJ0ZXh0LnlheGlzXCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIixcInJvdGF0ZSgtOTApXCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ5XCIsLTUwKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwieFwiLCAtMTUwKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwiZHlcIiwgXCIuNzFlbVwiKVxuICAgICAgICAgICAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsXCJlbmRcIilcbiAgICAgICAgICAgICAgICAudGV4dChcIlFCIFJhdGluZyAoY3VtdWxhdGl2ZSlcIik7XG4gICAgICAgIH1cbiAgICAgICAgJHNjb3BlLmNoYXJ0QWN0aXZlID0gZmFsc2U7XG4gICAgICAgICRzY29wZS5kbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGRvY3R5cGUgPSAnPD94bWwgdmVyc2lvbj1cIjEuMFwiIHN0YW5kYWxvbmU9XCJub1wiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyBcIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOXCIgXCJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGRcIj4nO1xuXG4gICAgICAgICAgICB3aW5kb3cuVVJMID0gKHdpbmRvdy5VUkwgfHwgd2luZG93LndlYmtpdFVSTCk7XG5cbiAgICAgICAgICAgIHZhciBib2R5ID0gZG9jdW1lbnQuYm9keSxcbiAgICAgICAgICAgICAgICBlbXB0eVN2ZztcblxuICAgICAgICAgICAgdmFyIHByZWZpeCA9IHtcbiAgICAgICAgICAgICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3htbG5zL1wiLFxuICAgICAgICAgICAgICAgIHhsaW5rOiBcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIixcbiAgICAgICAgICAgICAgICBzdmc6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaW5pdGlhbGl6ZSgpO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBpbml0aWFsaXplKCkge1xuICAgICAgICAgICAgICAgIHZhciBkb2N1bWVudHMgPSBbd2luZG93LmRvY3VtZW50XSxcbiAgICAgICAgICAgICAgICAgICAgU1ZHU291cmNlcyA9IFtdO1xuICAgICAgICAgICAgICAgIGlmcmFtZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiaWZyYW1lXCIpLFxuICAgICAgICAgICAgICAgICAgICBvYmplY3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIm9iamVjdFwiKTtcblxuICAgICAgICAgICAgICAgIC8vIGFkZCBlbXB0eSBzdmcgZWxlbWVudFxuICAgICAgICAgICAgICAgIHZhciBlbXB0eVN2ZyA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMocHJlZml4LnN2ZywgJ3N2ZycpO1xuICAgICAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGVtcHR5U3ZnKTtcbiAgICAgICAgICAgICAgICB2YXIgZW1wdHlTdmdEZWNsYXJhdGlvbkNvbXB1dGVkID0gZ2V0Q29tcHV0ZWRTdHlsZShlbXB0eVN2Zyk7XG5cbiAgICAgICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwoaWZyYW1lcywgZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbC5jb250ZW50RG9jdW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudHMucHVzaChlbC5jb250ZW50RG9jdW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKG9iamVjdHMsIGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWwuY29udGVudERvY3VtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnRzLnB1c2goZWwuY29udGVudERvY3VtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgZG9jdW1lbnRzLmZvckVhY2goZnVuY3Rpb24oZG9jKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdTb3VyY2VzID0gZ2V0U291cmNlcyhkb2MsIGVtcHR5U3ZnRGVjbGFyYXRpb25Db21wdXRlZCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGJlY2F1c2Ugb2YgcHJvdG90eXBlIG9uIE5ZVCBwYWdlc1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5ld1NvdXJjZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFNWR1NvdXJjZXMucHVzaChuZXdTb3VyY2VzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChTVkdTb3VyY2VzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlUG9wb3ZlcihTVkdTb3VyY2VzKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFNWR1NvdXJjZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBkb3dubG9hZChTVkdTb3VyY2VzWzBdKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhbGVydChcIlRoZSBDcm93YmFyIGNvdWxkbuKAmXQgZmluZCBhbnkgU1ZHIG5vZGVzLlwiKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gY3JlYXRlUG9wb3Zlcihzb3VyY2VzKSB7XG4gICAgICAgICAgICAgICAgY2xlYW51cCgpO1xuXG4gICAgICAgICAgICAgICAgc291cmNlcy5mb3JFYWNoKGZ1bmN0aW9uKHMxKSB7XG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZXMuZm9yRWFjaChmdW5jdGlvbihzMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMxICE9PSBzMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoTWF0aC5hYnMoczEudG9wIC0gczIudG9wKSA8IDM4KSAmJiAoTWF0aC5hYnMoczEubGVmdCAtIHMyLmxlZnQpIDwgMzgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMyLnRvcCArPSAzODtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczIubGVmdCArPSAzODtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgdmFyIGJ1dHRvbnNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgIGJvZHkuYXBwZW5kQ2hpbGQoYnV0dG9uc0NvbnRhaW5lcik7XG5cbiAgICAgICAgICAgICAgICBidXR0b25zQ29udGFpbmVyLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwic3ZnLWNyb3diYXJcIik7XG4gICAgICAgICAgICAgICAgYnV0dG9uc0NvbnRhaW5lci5zdHlsZVtcInotaW5kZXhcIl0gPSAxZTc7XG4gICAgICAgICAgICAgICAgYnV0dG9uc0NvbnRhaW5lci5zdHlsZVtcInBvc2l0aW9uXCJdID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgICAgICAgICAgIGJ1dHRvbnNDb250YWluZXIuc3R5bGVbXCJ0b3BcIl0gPSAwO1xuICAgICAgICAgICAgICAgIGJ1dHRvbnNDb250YWluZXIuc3R5bGVbXCJsZWZ0XCJdID0gMDtcblxuXG5cbiAgICAgICAgICAgICAgICB2YXIgYmFja2dyb3VuZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgYm9keS5hcHBlbmRDaGlsZChiYWNrZ3JvdW5kKTtcblxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJzdmctY3Jvd2JhclwiKTtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLnN0eWxlW1wiYmFja2dyb3VuZFwiXSA9IFwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjcpXCI7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC5zdHlsZVtcInBvc2l0aW9uXCJdID0gXCJmaXhlZFwiO1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmQuc3R5bGVbXCJsZWZ0XCJdID0gMDtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLnN0eWxlW1widG9wXCJdID0gMDtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLnN0eWxlW1wid2lkdGhcIl0gPSBcIjEwMCVcIjtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLnN0eWxlW1wiaGVpZ2h0XCJdID0gXCIxMDAlXCI7XG5cbiAgICAgICAgICAgICAgICBzb3VyY2VzLmZvckVhY2goZnVuY3Rpb24oZCwgaSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYnV0dG9uV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbnNDb250YWluZXIuYXBwZW5kQ2hpbGQoYnV0dG9uV3JhcHBlcik7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbldyYXBwZXIuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJzdmctY3Jvd2JhclwiKTtcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uV3JhcHBlci5zdHlsZVtcInBvc2l0aW9uXCJdID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgICAgICAgICAgICAgICBidXR0b25XcmFwcGVyLnN0eWxlW1widG9wXCJdID0gKGQudG9wICsgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3ApICsgXCJweFwiO1xuICAgICAgICAgICAgICAgICAgICBidXR0b25XcmFwcGVyLnN0eWxlW1wibGVmdFwiXSA9IChkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQgKyBkLmxlZnQpICsgXCJweFwiO1xuICAgICAgICAgICAgICAgICAgICBidXR0b25XcmFwcGVyLnN0eWxlW1wicGFkZGluZ1wiXSA9IFwiNHB4XCI7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbldyYXBwZXIuc3R5bGVbXCJib3JkZXItcmFkaXVzXCJdID0gXCIzcHhcIjtcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uV3JhcHBlci5zdHlsZVtcImNvbG9yXCJdID0gXCJ3aGl0ZVwiO1xuICAgICAgICAgICAgICAgICAgICBidXR0b25XcmFwcGVyLnN0eWxlW1widGV4dC1hbGlnblwiXSA9IFwiY2VudGVyXCI7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbldyYXBwZXIuc3R5bGVbXCJmb250LWZhbWlseVwiXSA9IFwiJ0hlbHZldGljYSBOZXVlJ1wiO1xuICAgICAgICAgICAgICAgICAgICBidXR0b25XcmFwcGVyLnN0eWxlW1wiYmFja2dyb3VuZFwiXSA9IFwicmdiYSgwLCAwLCAwLCAwLjgpXCI7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbldyYXBwZXIuc3R5bGVbXCJib3gtc2hhZG93XCJdID0gXCIwcHggNHB4IDE4cHggcmdiYSgwLCAwLCAwLCAwLjQpXCI7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbldyYXBwZXIuc3R5bGVbXCJjdXJzb3JcIl0gPSBcIm1vdmVcIjtcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uV3JhcHBlci50ZXh0Q29udGVudCA9ICBcIlNWRyAjXCIgKyBpICsgXCI6IFwiICsgKGQuaWQgPyBcIiNcIiArIGQuaWQgOiBcIlwiKSArIChkLmNsYXNzID8gXCIuXCIgKyBkLmNsYXNzIDogXCJcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbldyYXBwZXIuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZShcImRhdGEtc291cmNlLWlkXCIsIGkpO1xuICAgICAgICAgICAgICAgICAgICBidXR0b24uc3R5bGVbXCJ3aWR0aFwiXSA9IFwiMTUwcHhcIjtcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uLnN0eWxlW1wiZm9udC1zaXplXCJdID0gXCIxMnB4XCI7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5zdHlsZVtcImxpbmUtaGVpZ2h0XCJdID0gXCIxLjRlbVwiO1xuICAgICAgICAgICAgICAgICAgICBidXR0b24uc3R5bGVbXCJtYXJnaW5cIl0gPSBcIjVweCAwIDAgMFwiO1xuICAgICAgICAgICAgICAgICAgICBidXR0b24udGV4dENvbnRlbnQgPSBcIkRvd25sb2FkXCI7XG5cbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uLm9uY2xpY2sgPSBmdW5jdGlvbihlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZWwsIGQsIGksIHNvdXJjZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICBkb3dubG9hZChkKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGNsZWFudXAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNyb3diYXJFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc3ZnLWNyb3diYXJcIik7XG5cbiAgICAgICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwoY3Jvd2JhckVsZW1lbnRzLCBmdW5jdGlvbihlbCkge1xuICAgICAgICAgICAgICAgICAgICBlbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRTb3VyY2VzKGRvYywgZW1wdHlTdmdEZWNsYXJhdGlvbkNvbXB1dGVkKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN2Z0luZm8gPSBbXSxcbiAgICAgICAgICAgICAgICAgICAgc3ZncyA9IGRvYy5xdWVyeVNlbGVjdG9yQWxsKFwic3ZnXCIpO1xuXG4gICAgICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKHN2Z3MsIGZ1bmN0aW9uIChzdmcpIHtcblxuICAgICAgICAgICAgICAgICAgICBzdmcuc2V0QXR0cmlidXRlKFwidmVyc2lvblwiLCBcIjEuMVwiKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmluZyBhdHRyaWJ1dGVzIHNvIHRoZXkgYXJlbid0IGRvdWJsZWQgdXBcbiAgICAgICAgICAgICAgICAgICAgc3ZnLnJlbW92ZUF0dHJpYnV0ZShcInhtbG5zXCIpO1xuICAgICAgICAgICAgICAgICAgICBzdmcucmVtb3ZlQXR0cmlidXRlKFwieGxpbmtcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlc2UgYXJlIG5lZWRlZCBmb3IgdGhlIHN2Z1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXN2Zy5oYXNBdHRyaWJ1dGVOUyhwcmVmaXgueG1sbnMsIFwieG1sbnNcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGVOUyhwcmVmaXgueG1sbnMsIFwieG1sbnNcIiwgcHJlZml4LnN2Zyk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoIXN2Zy5oYXNBdHRyaWJ1dGVOUyhwcmVmaXgueG1sbnMsIFwieG1sbnM6eGxpbmtcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGVOUyhwcmVmaXgueG1sbnMsIFwieG1sbnM6eGxpbmtcIiwgcHJlZml4LnhsaW5rKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHNldElubGluZVN0eWxlcyhzdmcsIGVtcHR5U3ZnRGVjbGFyYXRpb25Db21wdXRlZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHNvdXJjZSA9IChuZXcgWE1MU2VyaWFsaXplcigpKS5zZXJpYWxpemVUb1N0cmluZyhzdmcpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVjdCA9IHN2Zy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgc3ZnSW5mby5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogcmVjdC50b3AsXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiByZWN0LmxlZnQsXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogcmVjdC53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogcmVjdC5oZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzczogc3ZnLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHN2Zy5nZXRBdHRyaWJ1dGUoXCJpZFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkRWxlbWVudENvdW50OiBzdmcuY2hpbGRFbGVtZW50Q291bnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2U6IFtkb2N0eXBlICsgc291cmNlXVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3ZnSW5mbztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gZG93bmxvYWQoc291cmNlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZpbGVuYW1lID0gXCJ1bnRpdGxlZFwiO1xuXG4gICAgICAgICAgICAgICAgaWYgKHNvdXJjZS5pZCkge1xuICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZSA9IHNvdXJjZS5pZDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNvdXJjZS5jbGFzcykge1xuICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZSA9IHNvdXJjZS5jbGFzcztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHdpbmRvdy5kb2N1bWVudC50aXRsZSkge1xuICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZSA9IHdpbmRvdy5kb2N1bWVudC50aXRsZS5yZXBsYWNlKC9bXmEtejAtOV0vZ2ksICctJykudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgdXJsID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2Ioc291cmNlLnNvdXJjZSwgeyBcInR5cGVcIiA6IFwidGV4dFxcL3htbFwiIH0pKTtcblxuICAgICAgICAgICAgICAgIHZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gICAgICAgICAgICAgICAgYm9keS5hcHBlbmRDaGlsZChhKTtcbiAgICAgICAgICAgICAgICBhLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwic3ZnLWNyb3diYXJcIik7XG4gICAgICAgICAgICAgICAgYS5zZXRBdHRyaWJ1dGUoXCJkb3dubG9hZFwiLCBmaWxlbmFtZSArIFwiLnN2Z1wiKTtcbiAgICAgICAgICAgICAgICBhLnNldEF0dHJpYnV0ZShcImhyZWZcIiwgdXJsKTtcbiAgICAgICAgICAgICAgICBhLnN0eWxlW1wiZGlzcGxheVwiXSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgIGEuY2xpY2soKTtcblxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5VUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XG4gICAgICAgICAgICAgICAgfSwgMTApO1xuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHNldElubGluZVN0eWxlcyhzdmcsIGVtcHR5U3ZnRGVjbGFyYXRpb25Db21wdXRlZCkge1xuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gZXhwbGljaXRseVNldFN0eWxlIChlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjU1NTdHlsZURlY2xhcmF0aW9uQ29tcHV0ZWQgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaSwgbGVuLCBrZXksIHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29tcHV0ZWRTdHlsZVN0ciA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoaT0wLCBsZW49Y1NTU3R5bGVEZWNsYXJhdGlvbkNvbXB1dGVkLmxlbmd0aDsgaTxsZW47IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAga2V5PWNTU1N0eWxlRGVjbGFyYXRpb25Db21wdXRlZFtpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPWNTU1N0eWxlRGVjbGFyYXRpb25Db21wdXRlZC5nZXRQcm9wZXJ0eVZhbHVlKGtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUhPT1lbXB0eVN2Z0RlY2xhcmF0aW9uQ29tcHV0ZWQuZ2V0UHJvcGVydHlWYWx1ZShrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWRTdHlsZVN0cis9a2V5K1wiOlwiK3ZhbHVlK1wiO1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdzdHlsZScsIGNvbXB1dGVkU3R5bGVTdHIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiB0cmF2ZXJzZShvYmope1xuICAgICAgICAgICAgICAgICAgICB2YXIgdHJlZSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB0cmVlLnB1c2gob2JqKTtcbiAgICAgICAgICAgICAgICAgICAgdmlzaXQob2JqKTtcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gdmlzaXQobm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUgJiYgbm9kZS5oYXNDaGlsZE5vZGVzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSBub2RlLmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGNoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZC5ub2RlVHlwZSA9PT0gMSAmJiBjaGlsZC5ub2RlTmFtZSAhPSAnU0NSSVBUJyl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmVlLnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaXQoY2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkID0gY2hpbGQubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cmVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBoYXJkY29kZSBjb21wdXRlZCBjc3Mgc3R5bGVzIGluc2lkZSBzdmdcbiAgICAgICAgICAgICAgICB2YXIgYWxsRWxlbWVudHMgPSB0cmF2ZXJzZShzdmcpO1xuICAgICAgICAgICAgICAgIHZhciBpID0gYWxsRWxlbWVudHMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHdoaWxlIChpLS0pe1xuICAgICAgICAgICAgICAgICAgICBleHBsaWNpdGx5U2V0U3R5bGUoYWxsRWxlbWVudHNbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgIH07XG4gICAgfSk7XG5cblxuXG5cblxuXG5cblxuXG4iLCJhbmd1bGFyLm1vZHVsZSgnd2luc3RvbicpXG4gICAgLmNvbnRyb2xsZXIoJ25ld0NUUkwnLGZ1bmN0aW9uKCRzY29wZSxhcGlTVkMscHJlbG9hZE9iaikge1xuICAgICAgICAkc2NvcGUud2luc3RvbiA9IHByZWxvYWRPYmouZGF0YS5kYXRhWzBdO1xuICAgICAgICAkc2NvcGUud2luc3Rvbi5hZGRTdGF0cyA9IGZhbHNlO1xuICAgICAgICAkc2NvcGUucGxheWVycyA9IHByZWxvYWRPYmouZGF0YS5kYXRhO1xuICAgICAgICAkc2NvcGUubWFyaW90YSA9IHByZWxvYWRPYmouZGF0YS5kYXRhWzFdO1xuICAgICAgICAkc2NvcGUubWFyaW90YS5hZGRTdGF0cyA9IGZhbHNlO1xuICAgICAgICAkc2NvcGUuZ3JhcGggPSB7XG4gICAgICAgICAgICB3ZWVrczogWzEsMiwzLDQsNSw2LDcsOCw5LDEwLDExLDEyLDEzLDE0LDE1LDE2LDE3LDE4XVxuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS50b2dnbGVXaW5zdG9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkc2NvcGUud2luc3Rvbi5hZGRTdGF0cyA9ICEkc2NvcGUud2luc3Rvbi5hZGRTdGF0cztcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuYWRkV2luc3RvblN0YXRzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgc3RyaW5nID0gXCJwbGF5ZXI9MSZzZWFzb249MjAxNSZcIjtcbiAgICAgICAgICAgIHZhciBwYXJhbXMgPSBbXTtcbiAgICAgICAgICAgIF8uZm9yRWFjaCgkc2NvcGUud2luc3Rvbi5uZXcsIGZ1bmN0aW9uKHZhbCxrZXkpIHtcbiAgICAgICAgICAgICAgICBwYXJhbXMucHVzaChrZXkrXCI9XCIrdmFsKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdHJpbmcgKz0gcGFyYW1zLmpvaW4oXCImXCIpO1xuICAgICAgICAgICAgYXBpU1ZDLmFkZChzdHJpbmcpLnN1Y2Nlc3MoZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IFwic3VjY2Vzc1wiKSBhcGlTVkMubG9hZCgpLnN1Y2Nlc3MoXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKHJlcyl7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUud2luc3RvbiA9IHJlcy5kYXRhWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnBsYXllcnMgPSByZXMuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmRlbGV0ZVdpbnN0b24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGFwaVNWQy5yZW1vdmUoXCJwbGF5ZXI9MSZ3ZWVrPVwiKyRzY29wZS53aW5zdG9uLmRlbGV0ZS5zcGxpdCgnICcpWzFdKS5zdWNjZXNzKFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gXCJzdWNjZXNzXCIpIGFwaVNWQy5sb2FkKCkuc3VjY2VzcyhcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS53aW5zdG9uID0gcmVzLmRhdGFbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnBsYXllcnMgPSByZXMuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIClcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUudG9nZ2xlTWFyaW90YSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJHNjb3BlLm1hcmlvdGEuYWRkU3RhdHMgPSAhJHNjb3BlLm1hcmlvdGEuYWRkU3RhdHM7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmFkZE1hcmlvdGFTdGF0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHN0cmluZyA9IFwicGxheWVyPTImc2Vhc29uPTIwMTUmXCI7XG4gICAgICAgICAgICB2YXIgcGFyYW1zID0gW107XG4gICAgICAgICAgICBfLmZvckVhY2goJHNjb3BlLm1hcmlvdGEubmV3LCBmdW5jdGlvbih2YWwsa2V5KSB7XG4gICAgICAgICAgICAgICAgcGFyYW1zLnB1c2goa2V5K1wiPVwiK3ZhbClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc3RyaW5nICs9IHBhcmFtcy5qb2luKFwiJlwiKTtcbiAgICAgICAgICAgIGFwaVNWQy5hZGQoc3RyaW5nKS5zdWNjZXNzKGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09PSBcInN1Y2Nlc3NcIikgYXBpU1ZDLmxvYWQoKS5zdWNjZXNzKFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihyZXMpe1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcmlvdGEgPSByZXMuZGF0YVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5wbGF5ZXJzID0gcmVzLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KVxuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5kZWxldGVNYXJpb3RhID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBhcGlTVkMucmVtb3ZlKFwicGxheWVyPTImd2Vlaz1cIiskc2NvcGUubWFyaW90YS5kZWxldGUuc3BsaXQoJyAnKVsxXSkuc3VjY2VzcyhcbiAgICAgICAgICAgICAgICBmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IFwic3VjY2Vzc1wiKSBhcGlTVkMubG9hZCgpLnN1Y2Nlc3MoXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFyaW90YSA9IHJlcy5kYXRhWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5wbGF5ZXJzID0gcmVzLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApXG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmRyYXdHcmFwaCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJHNjb3BlLmdyYXBoLmRhdGEgPSBbXTtcbiAgICAgICAgICAgICRzY29wZS5yYXRlZCA9IFtdO1xuICAgICAgICAgICAgdmFyIHdlZWsgPSAkc2NvcGUuZ3JhcGguc2VsZWN0ZWQuc3BsaXQoJyAnKVsxXTtcbiAgICAgICAgICAgIF8uZm9yRWFjaCgkc2NvcGUucGxheWVycyxmdW5jdGlvbihwbGF5ZXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgeCA9IHtuYW1lOnBsYXllci5uYW1lLHJhdGluZ3M6IF8udGFrZShwbGF5ZXIucmFua2luZ3MsIHdlZWspLHNlbGVjdGVkOiBmYWxzZX07XG4gICAgICAgICAgICAgICAgJHNjb3BlLmdyYXBoLmRhdGEucHVzaCh4KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXy5mb3JFYWNoKCRzY29wZS5ncmFwaC5kYXRhLCBmdW5jdGlvbihwbGF5ZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAocGxheWVyLnJhdGluZ3NbcGxheWVyLnJhdGluZ3MubGVuZ3RoIC0gMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBsYXllci5yYXRpbmdzW3BsYXllci5yYXRpbmdzLmxlbmd0aC0xXVtcInJhdGluZ1wiXSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnJhdGVkLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllcjogcGxheWVyLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW5nOiBwbGF5ZXIucmF0aW5nc1twbGF5ZXIucmF0aW5ncy5sZW5ndGggLSAxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIExJTkUgQ0hBUlRcbiAgICAgICAgICAgIHZhciBtYXJnaW4gPSB7dG9wOiAyMCwgcmlnaHQ6IDIwLCBib3R0b206IDMwLCBsZWZ0OiA1MH07XG4gICAgICAgICAgICB2YXIgd2lkdGggPSA5NjAgLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodDtcbiAgICAgICAgICAgIHZhciBoZWlnaHQgPSA1MDAgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTtcblxuICAgICAgICAgICAgdmFyIHggPSBkMy5zY2FsZS5saW5lYXIoKS5yYW5nZShbMCx3aWR0aF0pLmRvbWFpbihbMSx3ZWVrXSk7XG4gICAgICAgICAgICB2YXIgeSA9IGQzLnNjYWxlLmxpbmVhcigpLmRvbWFpbihbMCwxNjBdKS5yYW5nZShbaGVpZ2h0LDBdKTtcbiAgICAgICAgICAgIHZhciB4QXhpcyA9IGQzLnN2Zy5heGlzKCkuc2NhbGUoeCkub3JpZW50KFwiYm90dG9tXCIpLnRpY2tWYWx1ZXMoZDMucmFuZ2UoMSx3ZWVrICsgMSkpLnRpY2tGb3JtYXQoZDMuZm9ybWF0KFwiZFwiKSk7XG4gICAgICAgICAgICB2YXIgeUF4aXMgPSBkMy5zdmcuYXhpcygpLnNjYWxlKHkpLm9yaWVudChcImxlZnRcIik7XG4gICAgICAgICAgICB2YXIgbGluZSA9IGQzLnN2Zy5saW5lKCkueChmdW5jdGlvbihkKXsgcmV0dXJuIHgoZC53ZWVrKX0pLnkoZnVuY3Rpb24oZCl7IHJldHVybiB5KGQucmF0aW5nKX0pXG4gICAgICAgICAgICAgICAgLmludGVycG9sYXRlKCdiYXNpcycpO1xuXG5cblxuICAgICAgICAgICAgdmFyIHN2ZyA9IGQzLnNlbGVjdChcIiNncmFwaFwiKS5zZWxlY3Rfb3JfYXBwZW5kKFwic3ZnXCIpLmF0dHIoXCJ3aWR0aFwiLCB3aWR0aCArIG1hcmdpbi5sZWZ0ICsgbWFyZ2luLnJpZ2h0KVxuICAgICAgICAgICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIGhlaWdodCArIG1hcmdpbi50b3AgKyBtYXJnaW4uYm90dG9tKS5zZWxlY3Rfb3JfYXBwZW5kKFwiZy5jb250YWluZXJcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIiArIG1hcmdpbi5sZWZ0ICsgXCIsXCIgKyBtYXJnaW4udG9wICsgXCIpXCIpO1xuXG4gICAgICAgICAgICB2YXIgbGluZXMgPSBzdmcuc2VsZWN0X29yX2FwcGVuZChcImcubGluZXNcIikuc2VsZWN0QWxsKCdwYXRoJykuZGF0YSgkc2NvcGUuZ3JhcGguZGF0YS5yZXZlcnNlKCksZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgICAgIGlmIChkKSByZXR1cm4gZC5uYW1lO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGxpbmVzLmVudGVyKCkuYXBwZW5kKCdwYXRoJylcbiAgICAgICAgICAgICAgICAuYXR0cihcImNsYXNzXCIsZnVuY3Rpb24oZCkgeyByZXR1cm4gZC5uYW1lICsgXCIgbGluZXNcIjsgfSlcbiAgICAgICAgICAgICAgICAuYXR0cihcImRcIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4gbGluZShkLnJhdGluZ3MpfSk7XG5cbiAgICAgICAgICAgIGxpbmVzLnRyYW5zaXRpb24oKS5hdHRyKFwiZFwiLCBmdW5jdGlvbihkKSB7IHJldHVybiBsaW5lKGQucmF0aW5ncyl9KVxuXG4gICAgICAgICAgICBsaW5lcy5leGl0KCkucmVtb3ZlKCk7XG5cbiAgICAgICAgICAgIHN2Zy5zZWxlY3Rfb3JfYXBwZW5kKFwiZy54XCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcInggYXhpc1wiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyBoZWlnaHQgKyBcIilcIilcbiAgICAgICAgICAgICAgICAuY2FsbCh4QXhpcylcbiAgICAgICAgICAgICAgICAuc2VsZWN0X29yX2FwcGVuZChcInRleHQueGF4aXNcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcInlcIiwyNSlcbiAgICAgICAgICAgICAgICAuYXR0cihcInhcIiw0NTApXG4gICAgICAgICAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIixcImVuZFwiKVxuICAgICAgICAgICAgICAgIC5zdHlsZShcImR5XCIsXCIuNzFlbVwiKVxuICAgICAgICAgICAgICAgIC50ZXh0KFwiV2Vla1wiKTtcblxuICAgICAgICAgICAgc3ZnLnNlbGVjdF9vcl9hcHBlbmQoXCJnLnlcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwieSBheGlzXCIpXG4gICAgICAgICAgICAgICAgLmNhbGwoeUF4aXMpXG4gICAgICAgICAgICAgICAgLnNlbGVjdF9vcl9hcHBlbmQoXCJ0ZXh0LnlheGlzXCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIixcInJvdGF0ZSgtOTApXCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ5XCIsLTUwKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwieFwiLCAtMTUwKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwiZHlcIiwgXCIuNzFlbVwiKVxuICAgICAgICAgICAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsXCJlbmRcIilcbiAgICAgICAgICAgICAgICAudGV4dChcIlFCIFJhdGluZyAoY3VtdWxhdGl2ZSlcIik7XG5cbiAgICAgICAgICAgIC8vIENPTlRST0xTXG4gICAgICAgICAgICB2YXIgY29sb3JNYXAgPSB7fTtcbiAgICAgICAgICAgIF8uZm9yRWFjaCgkc2NvcGUucGxheWVycyxmdW5jdGlvbihwbGF5ZXIpIHtcbiAgICAgICAgICAgICAgICBjb2xvck1hcFtwbGF5ZXIubmFtZV0gPSBKU09OLnBhcnNlKHBsYXllci5jb2xvcnMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgdGVzdCA9IF8uZm9yRWFjaCgkc2NvcGUuZ3JhcGguZGF0YSxmdW5jdGlvbihwbGF5ZXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgZ2kgPSAwO1xuICAgICAgICAgICAgICAgIHBsYXllci5jdXJyZW50UmF0aW5nID0gbnVsbDtcbiAgICAgICAgICAgICAgICBfLmZvckVhY2gocGxheWVyLnJhdGluZ3MsZnVuY3Rpb24ocmF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZihyYXRlLndlZWsgPiBnaSAmJiByYXRlLnJhdGluZyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyLmN1cnJlbnRSYXRpbmcgPSByYXRlLnJhdGluZztcbiAgICAgICAgICAgICAgICAgICAgICAgIGdpID0gcmF0ZS53ZWVrXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHBsYXllcik7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgdmFyIGNvbnRyb2xzID0gZDMuc2VsZWN0KFwiI2NvbnRyb2xCb3hcIikuc2VsZWN0QWxsKFwidHJcIikuZGF0YSgkc2NvcGUuZ3JhcGguZGF0YSlcbiAgICAgICAgICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJ0clwiKS5hdHRyKFwiY2xhc3NcIixmdW5jdGlvbihkKXtyZXR1cm4gZC5uYW1lfSlcblxuICAgICAgICAgICAgY29udHJvbHMuYXBwZW5kKFwidGRcIikuaHRtbChmdW5jdGlvbihkKXtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudCA9IGQucmF0aW5nc1tkLnJhdGluZ3MubGVuZ3RoIC0gMV0ucmF0aW5nXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50XG4gICAgICAgICAgICAgICAgfSBjYXRjaChlKSB7fVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnRyb2xzLm9uKFwibW91c2VvdmVyXCIsZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgZDMuc2VsZWN0KHRoaXMpLnN0eWxlKHtcbiAgICAgICAgICAgICAgICAgICAgXCJib3JkZXItY29sb3JcIjogZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbG9yTWFwW2QubmFtZV0uc2Vjb25kYXJ5O1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcImJhY2tncm91bmQtY29sb3JcIjogZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbG9yTWFwW2QubmFtZV0ucHJpbWFyeTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pLnNlbGVjdEFsbCgnZGl2Jykuc3R5bGUoXCJjb2xvclwiLFwid2hpdGVzbW9rZVwiKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb250cm9scy5vbihcIm1vdXNlb3V0XCIsZnVuY3Rpb24oY29udHJvbCkge1xuICAgICAgICAgICAgICAgIGlmICghY29udHJvbC5zZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICBkMy5zZWxlY3QodGhpcykuc3R5bGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJib3JkZXItY29sb3JcIjogZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb2xvck1hcFtkLm5hbWVdLnByaW1hcnk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJiYWNrZ3JvdW5kLWNvbG9yXCI6IFwid2hpdGVcIlxuICAgICAgICAgICAgICAgICAgICB9KS5zZWxlY3RBbGwoJ2RpdicpLnN0eWxlKFwiY29sb3JcIixcImJsYWNrXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb250cm9scy5vbihcImNsaWNrXCIsZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkUCA9IGQzLnNlbGVjdCh0aGlzKS5zZWxlY3RBbGwoXCJkaXZcIikuaHRtbCgpO1xuICAgICAgICAgICAgICAgIHZhciBnZGF0YSA9IF8uZmlsdGVyKCRzY29wZS5ncmFwaC5kYXRhLGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQubmFtZSA9PT0gc2VsZWN0ZWRQXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICBfLmZvckVhY2goZ2RhdGEsZnVuY3Rpb24ocGxheWVyKXtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyLnNlbGVjdGVkID0gIXBsYXllci5zZWxlY3RlZDtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIGNvbnRyb2xzLmVhY2goZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZC5uYW1lID09PSBzZWxlY3RlZFAgfHwgZC5zZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZDMuc2VsZWN0KHRoaXMpLnN0eWxlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImJvcmRlci1jb2xvclwiOiBmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb2xvck1hcFtkLm5hbWVdLnNlY29uZGFyeTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYmFja2dyb3VuZC1jb2xvclwiOiBmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb2xvck1hcFtkLm5hbWVdLnByaW1hcnk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSkuc2VsZWN0QWxsKCdkaXYnKS5zdHlsZShcImNvbG9yXCIsXCJ3aGl0ZXNtb2tlXCIpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZDMuc2VsZWN0KHRoaXMpLnN0eWxlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImJvcmRlci1jb2xvclwiOiBmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb2xvck1hcFtkLm5hbWVdLnByaW1hcnk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImJhY2tncm91bmQtY29sb3JcIjogXCJ3aGl0ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS5zZWxlY3RBbGwoJ2RpdicpLnN0eWxlKFwiY29sb3JcIixcImJsYWNrXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgbGluZXMuZWFjaChmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkLnNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkMy5zZWxlY3QodGhpcykuc3R5bGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic3Ryb2tlLXdpZHRoXCI6IFwiM3B4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzdHJva2VcIjogZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29sb3JNYXBbZC5uYW1lXS5wcmltYXJ5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ6LWluZGV4XCI6IFwiMTBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGQzLnNlbGVjdCh0aGlzKS5zdHlsZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzdHJva2Utd2lkdGhcIjpcIjFweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic3Ryb2tlXCI6IFwibGlnaHRncmV5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ6LWluZGV4XCI6IFwiMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9KTsiLCJhbmd1bGFyLm1vZHVsZSgnd2luc3RvbicpXG4gICAgLmNvbmZpZyhbJyRzdGF0ZVByb3ZpZGVyJyxmdW5jdGlvbigkc3RhdGVQcm92aWRlciwgc2VhcmNoU3ZjKXtcbiAgICAgICAgLy8gVGhlc2Ugc3RhdGVzIGNvcnJlc3BvbmQgdG8gdGhlIHBhZ2VzIG9uIHRoZSBhcHAuIEhvb2tzIHVwIHRlbXBsYXRlcyBhbmQgdmlld3NcbiAgICAgICAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoJ2hvbWUnLHtcbiAgICAgICAgICAgIHVybDogJy8nLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd1cGRhdGVTdGF0cy5odG1sJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICduZXdDVFJMJyxcbiAgICAgICAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgICAgICAgICBwcmVsb2FkT2JqOiBmdW5jdGlvbigkaHR0cCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJGh0dHAoe21ldGhvZDonR0VUJyx1cmw6Jy9hcGkvc3RhdHMnfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAgICAgLy8uc3RhdGUoJ3NlYXJjaCcse1xuICAgICAgICAgICAgLy8gICAgdXJsOiAnL3NlYXJjaCcsXG4gICAgICAgICAgICAvLyAgICB0ZW1wbGF0ZVVybDogJ3NlYXJjaC5odG1sJyxcbiAgICAgICAgICAgIC8vICAgIGNvbnRyb2xsZXI6ICdzZWFyY2hDVFJMJyxcbiAgICAgICAgICAgIC8vICAgIHJlc29sdmU6IHtcbiAgICAgICAgICAgIC8vICAgICAgICAvLyBUaGlzIHF1ZXJpZXMgdGhlIHNlcnZlciBmb3IgZGlzdGluY3QgZGVwYXJ0bWVudHMgYW5kIHByZWxvYWRzIHRoZSBkZXBhcnRtZW50cyBkcm9wIGRvd25cbiAgICAgICAgICAgIC8vICAgICAgICBwcmVsb2FkT0JKOiBmdW5jdGlvbigkaHR0cCkge1xuICAgICAgICAgICAgLy8gICAgICAgICAgICByZXR1cm4gJGh0dHAoe21ldGhvZDonR0VUJyx1cmw6Jy9hcGkvZGVwYXJ0bWVudHMnfSk7XG4gICAgICAgICAgICAvLyAgICAgICAgfVxuICAgICAgICAgICAgLy8gICAgfVxuICAgICAgICAgICAgLy99KVxuICAgICAgICAgICAgLy8uc3RhdGUoJ2RldGFpbHMnLHtcbiAgICAgICAgICAgIC8vICAgIC8vIFRoZSA6aWQgaXMgdGhlIHN0cmluZyBwYXNzZWQgaW4gZnJvbSB0aGUgVVJMIGNvcnJlc3BvbmRzIHRvIHRoZSBwZXJzb25JRCBpbiB0aGUgdGhlIGRhdGFiYXNlXG4gICAgICAgICAgICAvLyAgICB1cmw6ICcvZGV0YWlscy86aWQnLFxuICAgICAgICAgICAgLy8gICAgdGVtcGxhdGVVcmw6ICdkZXRhaWxzLmh0bWwnLFxuICAgICAgICAgICAgLy8gICAgY29udHJvbGxlcjogJ2RldGFpbENUUkwnXG4gICAgICAgICAgICAvL30pXG4gICAgfV0pXG4gICAgLnJ1bihbJyRzdGF0ZScsZnVuY3Rpb24oJHN0YXRlKXtcbiAgICAgICAgLy8gRXZlcnl0aGluZyBpbnNpZGUgaGVyZSB3aWxsIGJlIHJ1biBvbmUgdGltZSBvbmNlIHRoZSBhcHAgaGFzIGxvYWRlZC4gR29vZCBwbGFjZSB0byBpbml0aWFsaXplIGFueXRoaW5nIHlvdSB3aWxsIGJlIHVzaW5nXG4gICAgICAgICRzdGF0ZS5nbygnaG9tZScpO1xuICAgIH1dKTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==