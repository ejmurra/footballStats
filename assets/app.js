angular.module("winston",["ui.router"]),angular.module("winston").service("apiSVC",["$http",function(t){this.add=function(e){return t.get("/api/stats/add?"+e)},this.remove=function(e){return t.get("/api/stats/remove?"+e)},this.load=function(){return t.get("/api/stats")}}]),angular.module("winston").controller("mainCTRL",["$scope","apiSVC","preloadObj",function(t,e,a){function n(e){_.forEach(t.players,function(a){function n(t){var e,a=[];_.forEach(t.games,function(n,s){if(!e&&1==n.g&&n.passing_att){if(e={passing_comp:0,passing_yds:0,passing_td:0,passing_att:0,passing_int:0},null!=n.passing_comp&&(e.passing_comp+=n.passing_comp),null!=n.passing_yds&&(e.passing_yds+=n.passing_yds),null!=n.passing_td&&(e.passing_td+=n.passing_td),null!=n.passing_att&&(e.passing_att+=n.passing_att),null!=n.passing_int&&(e.passing_int+=n.passing_int),null!=e.passing_att&&0!=e.passing_att){var r=5*(e.passing_comp/e.passing_att-.3),i=.25*(e.passing_yds/e.passing_att-3),o=e.passing_td/e.passing_att*20,l=2.375-e.passing_int/e.passing_att*25;r>2.375&&(r=2.375),0>r&&(r=0),i>2.375&&(i=2.375),0>i&&(i=0),o>2.375&&(o=2.375),0>o&&(o=0),l>2.375&&(l=2.375),0>l&&(l=0);var c=(r+i+o+l)/6*100;a.push({week:s+1,rating:Math.round(100*(c+1e-5))/100,pid:t.id})}}else if(e||n.g)if(e||1!=n.g||n.passing_att){if(null!=n.passing_comp&&(e.passing_comp+=n.passing_comp),null!=n.passing_yds&&(e.passing_yds+=n.passing_yds),null!=n.passing_td&&(e.passing_td+=n.passing_td),null!=n.passing_att&&(e.passing_att+=n.passing_att),null!=n.passing_int&&(e.passing_int+=n.passing_int),null!=e.passing_att&&0!=e.passing_att){var r=5*(e.passing_comp/e.passing_att-.3),i=.25*(e.passing_yds/e.passing_att-3),o=e.passing_td/e.passing_att*20,l=2.375-e.passing_int/e.passing_att*25;r>2.375&&(r=2.375),0>r&&(r=0),i>2.375&&(i=2.375),0>i&&(i=0),o>2.375&&(o=2.375),0>o&&(o=0),l>2.375&&(l=2.375),0>l&&(l=0);var c=(r+i+o+l)/6*100;a.push({week:s+1,rating:Math.round(100*(c+1e-5))/100,pid:t.id})}}else{var d=a[a.length-1],u={week:d.week+1,rating:d.rating,pid:t.id};a.push(u)}else a.push({week:s+1,rating:null,pid:t.id})});var n={};return _.forEach(a,function(t){n[t.week]=t}),_.forEach(n,function(e,a){e||(0!=a?(e=n[a-1],e.week++):(e.week=1,e.rating=null,e.pid=t.id))}),n}a.games=[],_.forEach(t.games,function(t){t.player==a.id&&a.games.push(t)}),_.sortBy(a.games,function(t){return t.week});var s=_.values(n(a));a.ratings=_.take(s,e)}),_.forEach(t.players,function(t){t.className="other",1===t.id&&(t.className="jameis"),2===t.id&&(t.className="marcus"),t.ratings.forEach(function(e,a){e?(e.week=+e.week,e.rating=e.rating,e.pid=t.id):0!=a&&null!=t.ratings[a]?t.ratings[a]={week:t.ratings[a].week+1,rating:t.ratings[a].rating,pid:t.id}:t.ratings[a]={week:a+1,rating:null,pid:t.id}})});var a={top:20,right:20,bottom:30,left:50},n=960-a.right-a.left,s=500-a.top-a.bottom,r=d3.scale.linear().range([0,n]),i=d3.scale.linear().range([s,0]),o=d3.svg.axis().scale(r).orient("bottom").tickValues(d3.range(1,e+1)).tickFormat(d3.format("d")),l=d3.svg.axis().scale(i).orient("left"),c=d3.svg.line().x(function(t){return r(t.week)}).y(function(t){return i(t.rating)}).interpolate("basis"),d=d3.select("#graph").select_or_append("svg").attr("width",n+a.left+a.right).attr("height",s+a.top+a.bottom).select_or_append("g.container").attr("transform","translate("+a.left+","+a.top+")");r.domain([1,Number(e)]),i.domain([0,160]);var u=d.select_or_append("g.lines").selectAll("path").data(t.players.reverse(),function(t){return t?t.id:void 0});u.enter().append("path").attr("class",function(t){return t.className}).attr("name",function(t){return t.name}).attr("d",function(t){return c(t.ratings)}),u.attr("class",function(t){return t.className}).attr("name",function(t){return t.name}).transition().attr("d",function(t){return c(t.ratings)}),u.exit().remove(),d.select_or_append("g.x").attr("class","x axis").attr("transform","translate(0,"+s+")").call(o).select_or_append("text.xaxis").attr("y",25).attr("x",450).style("text-anchor","end").style("dy",".71em").text("Week"),d.select_or_append("g.y").attr("class","y axis").call(l).select_or_append("text.yaxis").attr("transform","rotate(-90)").attr("y",-50).attr("x",-150).attr("dy",".71em").style("text-anchor","end").text("QB Rating (cumulative)")}t._showInput=!1,t._showInputM=!1;"err"==a.data.status&&console.log(a.data.message),t.gameStats=a.data.data.winston,t.mGameStats=a.data.data.mariota,t.stats=new stats,t.Ustats=new Ustats,t.Mstats=new Ustats,t.newStats=function(){e.addNew(t.Ustats).success(function(a){"success"==a.status?(t.Ustats=new Ustats,t.toggleInput(),e.load().success(function(e){t.gameStats=e.data.winston})):"game_pk"==a.message.constraint?alert("Error: That game already exists in the database. Delete it first if you want to update it"):alert("Error: "+JSON.stringify(a.message.detail))})},t.newStatsM=function(){e.addNewM(t.Mstats).success(function(a){"success"==a.status?(t.Mstats=new Ustats,t.toggleInputM(),e.load().success(function(e){t.mGameStats=e.data.mariota})):"game_pk"==a.message.constraint?alert("Error: That game already exists in the database. Delete it first if you want to update it"):alert("Error: "+JSON.stringify(a.message.detail))})},t.toggleInput=function(){t._showInput=!t._showInput},t.toggleInputM=function(){t._showInputM=!t._showInputM},t.deleteRowM=function(){0!=t.mGameStats&&e.removeM().success(function(a){"success"==a.status&&e.load().success(function(e){t.mGameStats=e.data.mariota})})},t.deleteRow=function(){0!=t.gameStats&&e.remove().success(function(a){"success"==a.status&&e.load().success(function(e){t.gameStats=e.data.winston})})},t.maxGames=function(){var e=0;_.forEach(t.players,function(t){t.games.length>e&&(e=t.games.length)});for(var a=[],n=1;e+1>n;n++)a.push(n);return a},t.players=a.data.data.players,t.games=a.data.data.games,_.forEach(t.players,function(e){e.games=[],_.forEach(t.games,function(t){t.player===e.id&&e.games.push(t)})});var s=function(t,e){function a(t){if(null!=t.passing_att&&0!=t.passing_att){var e=5*(s.passing_comp/s.passing_att-.3),a=.25*(s.passing_yds/s.passing_att-3),n=s.passing_td/s.passing_att*20,r=2.375-s.passing_int/s.passing_att*25;return e>2.375&&(e=2.375),0>e&&(e=0),a>2.375&&(a=2.375),0>a&&(a=0),n>2.375&&(n=2.375),0>n&&(n=0),r>2.375&&(r=2.375),0>r&&(r=0),(e+a+n+r)/6*100}}var n=_.take(t.games,e),s={passing_comp:0,passing_yds:0,passing_td:0,passing_att:0,passing_int:0};return _.forEach(n,function(t){null!=t.passing_comp&&(s.passing_comp+=t.passing_comp),null!=t.passing_yds&&(s.passing_yds+=t.passing_yds),null!=t.passing_td&&(s.passing_td+=t.passing_td),null!=t.passing_att&&(s.passing_att+=t.passing_att),null!=t.passing_int&&(s.passing_int+=t.passing_int)}),t.rating=a(s),t};t.ratePlayers=function(){t.chartActive=!0;var a=$("#week2rate").val().split(" ")[1],r=[];t.rated=[],e.load().success(function(e){t.players=e.data.players,t.games=e.data.games,t.gameStates=e.data.winston,_.forEach(t.players,function(e){e.games=[],_.forEach(t.games,function(t){t.player===e.id&&e.games.push(t)}),_.sortBy(e.games,function(t){return t.week})}),_.forEach(t.players,function(t){s(t,a),r.push({player:t.name,rating:Math.round(100*(t.rating+1e-5))/100,id:"p"+t.id})});var i=_.sortBy(r,function(t){return t.rating});i=_.filter(i,function(t){return t.rating}),_.forEach(i.reverse(),function(e,a){e.rank=a+1,t.rated.push(e)}),n(a)})},t.chartActive=!1}]),angular.module("winston").controller("newCTRL",["$scope","apiSVC","preloadObj",function(t,e,a){t.winston=a.data.data[0],t.winston.addStats=!1,t.players=a.data.data,t.mariota=a.data.data[1],t.mariota.addStats=!1,t.graph={weeks:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18]},t.toggleWinston=function(){t.winston.addStats=!t.winston.addStats},t.addWinstonStats=function(){var a="player=1&season=2015&",n=[];_.forEach(t.winston["new"],function(t,e){n.push(e+"="+t)}),a+=n.join("&"),e.add(a).success(function(a){"success"===a.status&&e.load().success(function(e){t.winston=e.data[0],t.players=e.data})})},t.deleteWinston=function(){e.remove("player=1&week="+t.winston["delete"].split(" ")[1]).success(function(a){"success"===a.status&&e.load().success(function(e){t.winston=e.data[0],t.players=e.data})})},t.toggleMariota=function(){t.mariota.addStats=!t.mariota.addStats},t.addMariotaStats=function(){var a="player=2&season=2015&",n=[];_.forEach(t.mariota["new"],function(t,e){n.push(e+"="+t)}),a+=n.join("&"),e.add(a).success(function(a){"success"===a.status&&e.load().success(function(e){t.mariota=e.data[1],t.players=e.data})})},t.deleteMariota=function(){e.remove("player=2&week="+t.mariota["delete"].split(" ")[1]).success(function(a){"success"===a.status&&e.load().success(function(e){t.mariota=e.data[1],t.players=e.data})})},t.drawGraph=function(){function e(){function e(t){var e=d3.select("body").append("div").datum(t).attr("class","tooltip-container").call(a);e.style("left",d3.event.pageX+i.x+"px").style("top",d3.event.pageY+i.y+"px")}function a(t){t.each(function(t){d3.select(this).attr("class","tooltip-container").style("width","150px"),d3.select(this).append("p").attr("class","tooltip-title").text(t.player),d3.select(this).append("p").attr("class","tooltip-content").text("Rating: "+t.currentRating),d3.select(this).append("p").attr("class","tooltip-content").text("Rank: "+t.rank)})}function n(){d3.select("body").select("div.tooltip-container").style("left",d3.event.pageX+i.x+"px").style("top",d3.event.pageY+i.y+"px")}function s(){d3.select("div.tooltip-container").remove()}var r=g.select_or_append("g.lines.deselected").selectAll("path").data(_.filter(t.graph.data,function(t){return!t.selected}),function(t){return t.player});r.enter().append("path").attr("class","unselected").style({stroke:"lightgrey"}).attr("d",function(t){return p(t.ratings)}),r.transition().attr("d",function(t){return p(t.ratings)});var i={x:5,y:10};r.on("mouseover",function(t){d3.select(this).style({stroke:function(t){return t.primary},"stroke-width":"3px"}),e(t)}),r.on("mouseout",function(t){d3.select(this).style({stroke:"lightgrey","stroke-width":"2px"}),s(t)}),r.on("mousemove",n),r.exit().remove();var o=g.select_or_append("g.lines.selected").selectAll("path").data(_.filter(t.graph.data,function(t){return t.selected}),function(t){return t.player});o.enter().append("path").attr("class","selected").style({stroke:function(t){return console.log(t.player+" : "+t.primary),t.primary}}).attr("d",function(t){return p(t.ratings)}),o.transition().attr("d",function(t){return p(t.ratings)}),o.exit().remove()}d3.select("#controlBox").selectAll("tr").remove(),t.graph.data=t.graph.data||[];var a=t.graph.selectedWeek.split(" ")[1];if(_.isEmpty(t.graph.data))!function(e){_.forEach(t.players,function(a){var n={name:a.name,ratings:_.take(a.rankings,e),selected:!1,colors:a.colors};t.graph.data.push(n)});var a=[];_.forEach(t.graph.data,function(t){t.ratings[t.ratings.length-1]&&null!==t.ratings[t.ratings.length-1].rating&&a.push({player:t.name,currentRating:t.ratings[t.ratings.length-1].rating,selected:!1,ratings:t.ratings,colors:t.colors})}),t.graph.data=_.forEach(_.sortByOrder(a,"currentRating","desc"),function(t,e){t.rank=e+1,t.primary=JSON.parse(t.colors).primary,t.secondary=JSON.parse(t.colors).secondary,delete t.colors})}(a);else{var n=[];console.log(t.graph),function(e){var a=_.pluck(_.filter(t.graph.data,"selected"),"player");_.forEach(t.players,function(t){var s={name:t.name,ratings:_.take(t.rankings,e),selected:_.includes(a,t.player),colors:t.colors};n.push(s)});var s=[];_.forEach(n,function(t){t.ratings[t.ratings.length-1]&&null!==t.ratings[t.ratings.length-1].rating&&s.push({player:t.name,currentRating:t.ratings[t.ratings.length-1].rating,selected:_.includes(a,t.name),ratings:t.ratings,colors:t.colors})}),t.graph.data=_.forEach(_.sortByOrder(s,"currentRating","desc"),function(t,e){t.rank=e+1,t.primary=JSON.parse(t.colors).primary,t.secondary=JSON.parse(t.colors).secondary,delete t.colors}),console.log(t.graph)}(a)}var s=d3.select("#controlBox").selectAll("tr").data(t.graph.data,function(t){return t.player});s.enter().append("tr").style({"background-color":function(t){return t.selected?t.primary:void 0}}),s.select_or_append("td.rank").html(function(t){return t.rank}).style({color:function(t){return t.selected?"whitesmoke":void 0}}),s.select_or_append("td.name").html(function(t){return t.player}).style({color:function(t){return t.selected?"whitesmoke":void 0}}),s.select_or_append("td.rate").html(function(t){return t.currentRating}).style({color:function(t){return t.selected?"whitesmoke":void 0}}),s.on("mouseover",function(){d3.select(this).style({"background-color":function(t){return t.primary}}).selectAll("td").style("color","whitesmoke")}),s.on("mouseout",function(t){t.selected||d3.select(this).style({"background-color":"white"}).selectAll("td").style("color","black")}),s.on("click",function(t){t.selected=!t.selected,e()});var r={top:20,right:20,bottom:30,left:50},i=960-r.left-r.right,o=500-r.top-r.bottom,l=d3.scale.linear().range([0,i]).domain([1,a]),c=d3.scale.linear().domain([0,160]).range([o,0]),d=d3.svg.axis().scale(l).orient("bottom").tickValues(d3.range(1,a+1)).tickFormat(d3.format("d")),u=d3.svg.axis().scale(c).orient("left"),p=d3.svg.line().x(function(t){return l(t.week)}).y(function(t){return c(t.rating)}).interpolate("basis"),g=d3.select("#graph").select_or_append("svg").attr("width",i+r.left+r.right).attr("height",o+r.top+r.bottom).select_or_append("g.container").attr("transform","translate("+r.left+","+r.top+")");e(),g.select_or_append("g.x").attr("class","x axis").attr("transform","translate(0,"+o+")").call(d).select_or_append("text.xaxis").attr("y",25).attr("x",450).style("text-anchor","end").style("dy",".71em").text("Week"),g.select_or_append("g.y").attr("class","y axis").call(u).select_or_append("text.yaxis").attr("transform","rotate(-90)").attr("y",-50).attr("x",-150).attr("dy",".71em").style("text-anchor","end").text("QB Rating (cumulative)")},t.dl=function(){function t(){var t=[window.document],a=[];iframes=document.querySelectorAll("iframe"),objects=document.querySelectorAll("object");var r=window.document.createElementNS(l.svg,"svg");window.document.body.appendChild(r);var i=getComputedStyle(r);[].forEach.call(iframes,function(e){try{e.contentDocument&&t.push(e.contentDocument)}catch(a){console.log(a)}}),[].forEach.call(objects,function(e){try{e.contentDocument&&t.push(e.contentDocument)}catch(a){console.log(a)}}),t.forEach(function(t){for(var e=n(t,i),s=0;s<e.length;s++)a.push(e[s])}),a.length>1?e(a):a.length>0?s(a[0]):alert("The Crowbar couldn’t find any SVG nodes.")}function e(t){a(),t.forEach(function(e){t.forEach(function(t){e!==t&&Math.abs(e.top-t.top)<38&&Math.abs(e.left-t.left)<38&&(t.top+=38,t.left+=38)})});var e=document.createElement("div");o.appendChild(e),e.setAttribute("class","svg-crowbar"),e.style["z-index"]=1e7,e.style.position="absolute",e.style.top=0,e.style.left=0;var n=document.createElement("div");o.appendChild(n),n.setAttribute("class","svg-crowbar"),n.style.background="rgba(255, 255, 255, 0.7)",n.style.position="fixed",n.style.left=0,n.style.top=0,n.style.width="100%",n.style.height="100%",t.forEach(function(t,a){var n=document.createElement("div");e.appendChild(n),n.setAttribute("class","svg-crowbar"),n.style.position="absolute",n.style.top=t.top+document.body.scrollTop+"px",n.style.left=document.body.scrollLeft+t.left+"px",n.style.padding="4px",n.style["border-radius"]="3px",n.style.color="white",n.style["text-align"]="center",n.style["font-family"]="'Helvetica Neue'",n.style.background="rgba(0, 0, 0, 0.8)",n.style["box-shadow"]="0px 4px 18px rgba(0, 0, 0, 0.4)",n.style.cursor="move",n.textContent="SVG #"+a+": "+(t.id?"#"+t.id:"")+(t["class"]?"."+t["class"]:"");var r=document.createElement("button");n.appendChild(r),r.setAttribute("data-source-id",a),r.style.width="150px",r.style["font-size"]="12px",r.style["line-height"]="1.4em",r.style.margin="5px 0 0 0",r.textContent="Download",r.onclick=function(e){s(t)}})}function a(){var t=document.querySelectorAll(".svg-crowbar");[].forEach.call(t,function(t){t.parentNode.removeChild(t)})}function n(t,e){var a=[],n=t.querySelectorAll("svg");return[].forEach.call(n,function(t){t.setAttribute("version","1.1"),t.removeAttribute("xmlns"),t.removeAttribute("xlink"),t.hasAttributeNS(l.xmlns,"xmlns")||t.setAttributeNS(l.xmlns,"xmlns",l.svg),t.hasAttributeNS(l.xmlns,"xmlns:xlink")||t.setAttributeNS(l.xmlns,"xmlns:xlink",l.xlink),r(t,e);var n=(new XMLSerializer).serializeToString(t),s=t.getBoundingClientRect();a.push({top:s.top,left:s.left,width:s.width,height:s.height,"class":t.getAttribute("class"),id:t.getAttribute("id"),childElementCount:t.childElementCount,source:[i+n]})}),a}function s(t){var e="untitled";t.id?e=t.id:t["class"]?e=t["class"]:window.document.title&&(e=window.document.title.replace(/[^a-z0-9]/gi,"-").toLowerCase());var a=window.URL.createObjectURL(new Blob(t.source,{type:"text/xml"})),n=document.createElement("a");o.appendChild(n),n.setAttribute("class","svg-crowbar"),n.setAttribute("download",e+".svg"),n.setAttribute("href",a),n.style.display="none",n.click(),setTimeout(function(){window.URL.revokeObjectURL(a)},10)}function r(t,e){function a(t){var a,n,s,r,i=getComputedStyle(t),o="";for(a=0,n=i.length;n>a;a++)s=i[a],r=i.getPropertyValue(s),r!==e.getPropertyValue(s)&&(o+=s+":"+r+";");t.setAttribute("style",o)}function n(t){function e(t){if(t&&t.hasChildNodes())for(var n=t.firstChild;n;)1===n.nodeType&&"SCRIPT"!=n.nodeName&&(a.push(n),e(n)),n=n.nextSibling}var a=[];return a.push(t),e(t),a}for(var s=n(t),r=s.length;r--;)a(s[r])}var i='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">';window.URL=window.URL||window.webkitURL;var o=document.body,l={xmlns:"http://www.w3.org/2000/xmlns/",xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"};t()}}]),angular.module("winston").config(["$stateProvider",function(t,e){t.state("home",{url:"/",templateUrl:"updateStats.html",controller:"newCTRL",resolve:{preloadObj:["$http",function(t){return t({method:"GET",url:"/api/stats"})}]}})}]).run(["$state",function(t){t.go("home")}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImFwaVNWQy5qcyIsIm1haW5DVExSTC5qcyIsIm5ld0NUUkwuanMiLCJyb3V0ZXMuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsInNlcnZpY2UiLCIkaHR0cCIsInRoaXMiLCJhZGQiLCJwYXJhbXMiLCJnZXQiLCJyZW1vdmUiLCJsb2FkIiwiY29udHJvbGxlciIsIiRzY29wZSIsImFwaVNWQyIsInByZWxvYWRPYmoiLCJkcmF3R3JhcGhpY3MiLCJ3ZWVrIiwiXyIsImZvckVhY2giLCJwbGF5ZXJzIiwicGxheWVyIiwiZ2V0UmF0aW5ncyIsInN0YXRzQ3VtIiwicmF0aW5ncyIsImdhbWVzIiwiZ2FtZSIsImluZGV4IiwiZyIsInBhc3NpbmdfYXR0IiwicGFzc2luZ19jb21wIiwicGFzc2luZ195ZHMiLCJwYXNzaW5nX3RkIiwicGFzc2luZ19pbnQiLCJhIiwiYiIsImMiLCJkIiwicmF0aW5nIiwicHVzaCIsIk1hdGgiLCJyb3VuZCIsInBpZCIsImlkIiwieCIsImxlbmd0aCIsInkiLCJyYXRpbmdPYmoiLCJpIiwic29ydEJ5IiwidmFsdWVzIiwidGFrZSIsImNsYXNzTmFtZSIsIm1hcmdpbiIsInRvcCIsInJpZ2h0IiwiYm90dG9tIiwibGVmdCIsIndpZHRoIiwiaGVpZ2h0IiwiZDMiLCJzY2FsZSIsImxpbmVhciIsInJhbmdlIiwieEF4aXMiLCJzdmciLCJheGlzIiwib3JpZW50IiwidGlja1ZhbHVlcyIsInRpY2tGb3JtYXQiLCJmb3JtYXQiLCJ5QXhpcyIsImxpbmUiLCJpbnRlcnBvbGF0ZSIsInNlbGVjdCIsInNlbGVjdF9vcl9hcHBlbmQiLCJhdHRyIiwiZG9tYWluIiwiTnVtYmVyIiwibGluZXMiLCJzZWxlY3RBbGwiLCJkYXRhIiwicmV2ZXJzZSIsImVudGVyIiwiYXBwZW5kIiwibmFtZSIsInRyYW5zaXRpb24iLCJleGl0IiwiY2FsbCIsInN0eWxlIiwidGV4dCIsIl9zaG93SW5wdXQiLCJfc2hvd0lucHV0TSIsInN0YXR1cyIsImNvbnNvbGUiLCJsb2ciLCJtZXNzYWdlIiwiZ2FtZVN0YXRzIiwid2luc3RvbiIsIm1HYW1lU3RhdHMiLCJtYXJpb3RhIiwic3RhdHMiLCJVc3RhdHMiLCJNc3RhdHMiLCJuZXdTdGF0cyIsImFkZE5ldyIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJ0b2dnbGVJbnB1dCIsImNvbnN0cmFpbnQiLCJhbGVydCIsIkpTT04iLCJzdHJpbmdpZnkiLCJkZXRhaWwiLCJuZXdTdGF0c00iLCJhZGROZXdNIiwidG9nZ2xlSW5wdXRNIiwiZGVsZXRlUm93TSIsInJlbW92ZU0iLCJyZXNwb25zZSIsImRlbGV0ZVJvdyIsIm1heEdhbWVzIiwibWF4Iiwid2Vla3MiLCJhY2N1bXVsYXRlU3RhdHMiLCJyYXRlIiwicmF0ZVBsYXllcnMiLCJjaGFydEFjdGl2ZSIsIiQiLCJ2YWwiLCJzcGxpdCIsInJhdGVkIiwicGxheWVyc09iaiIsImdhbWVTdGF0ZXMiLCJyYW5rZWQiLCJmaWx0ZXIiLCJwIiwicmFuayIsImFkZFN0YXRzIiwiZ3JhcGgiLCJ0b2dnbGVXaW5zdG9uIiwiYWRkV2luc3RvblN0YXRzIiwic3RyaW5nIiwia2V5Iiwiam9pbiIsInJlcyIsImRlbGV0ZVdpbnN0b24iLCJ0b2dnbGVNYXJpb3RhIiwiYWRkTWFyaW90YVN0YXRzIiwiZGVsZXRlTWFyaW90YSIsImRyYXdHcmFwaCIsInVwZGF0ZUdyYXBoIiwiYWRkVG9vbFRpcCIsImNvbnRhaW5lciIsImRhdHVtIiwiaW5pdFRUIiwiZXZlbnQiLCJwYWdlWCIsIm9mZnNldCIsInBhZ2VZIiwic2VsZWN0aW9uIiwiZWFjaCIsImN1cnJlbnRSYXRpbmciLCJtb3ZlVG9vbFRpcCIsInJlbW92ZVRvb2xUaXAiLCJkZXNlbGVjdGVkTGluZXMiLCJzZWxlY3RlZCIsInN0cm9rZSIsIm9uIiwicHJpbWFyeSIsInN0cm9rZS13aWR0aCIsInNlbGVjdGVkTGluZXMiLCJzZWxlY3RlZFdlZWsiLCJpc0VtcHR5IiwicmFua2luZ3MiLCJjb2xvcnMiLCJyYXRlZFBsYXllcnMiLCJzb3J0QnlPcmRlciIsInBhcnNlIiwic2Vjb25kYXJ5IiwidGVtcEdyYXBoRGF0YSIsInNlbGVjdGVkUGxheWVycyIsInBsdWNrIiwiaW5jbHVkZXMiLCJjb250cm9scyIsImJhY2tncm91bmQtY29sb3IiLCJodG1sIiwiY29sb3IiLCJkbCIsImluaXRpYWxpemUiLCJkb2N1bWVudHMiLCJ3aW5kb3ciLCJkb2N1bWVudCIsIlNWR1NvdXJjZXMiLCJpZnJhbWVzIiwicXVlcnlTZWxlY3RvckFsbCIsIm9iamVjdHMiLCJlbXB0eVN2ZyIsImNyZWF0ZUVsZW1lbnROUyIsInByZWZpeCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImVtcHR5U3ZnRGVjbGFyYXRpb25Db21wdXRlZCIsImdldENvbXB1dGVkU3R5bGUiLCJlbCIsImNvbnRlbnREb2N1bWVudCIsImVyciIsImRvYyIsIm5ld1NvdXJjZXMiLCJnZXRTb3VyY2VzIiwiY3JlYXRlUG9wb3ZlciIsImRvd25sb2FkIiwic291cmNlcyIsImNsZWFudXAiLCJzMSIsInMyIiwiYWJzIiwiYnV0dG9uc0NvbnRhaW5lciIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJiYWNrZ3JvdW5kIiwiYnV0dG9uV3JhcHBlciIsInNjcm9sbFRvcCIsInNjcm9sbExlZnQiLCJ0ZXh0Q29udGVudCIsImJ1dHRvbiIsIm9uY2xpY2siLCJjcm93YmFyRWxlbWVudHMiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJzdmdJbmZvIiwic3ZncyIsInJlbW92ZUF0dHJpYnV0ZSIsImhhc0F0dHJpYnV0ZU5TIiwieG1sbnMiLCJzZXRBdHRyaWJ1dGVOUyIsInhsaW5rIiwic2V0SW5saW5lU3R5bGVzIiwic291cmNlIiwiWE1MU2VyaWFsaXplciIsInNlcmlhbGl6ZVRvU3RyaW5nIiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImNsYXNzIiwiZ2V0QXR0cmlidXRlIiwiY2hpbGRFbGVtZW50Q291bnQiLCJkb2N0eXBlIiwiZmlsZW5hbWUiLCJ0aXRsZSIsInJlcGxhY2UiLCJ0b0xvd2VyQ2FzZSIsInVybCIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsIkJsb2IiLCJ0eXBlIiwiY2xpY2siLCJzZXRUaW1lb3V0IiwicmV2b2tlT2JqZWN0VVJMIiwiZXhwbGljaXRseVNldFN0eWxlIiwiZWxlbWVudCIsImxlbiIsInZhbHVlIiwiY1NTU3R5bGVEZWNsYXJhdGlvbkNvbXB1dGVkIiwiY29tcHV0ZWRTdHlsZVN0ciIsImdldFByb3BlcnR5VmFsdWUiLCJ0cmF2ZXJzZSIsIm9iaiIsInZpc2l0Iiwibm9kZSIsImhhc0NoaWxkTm9kZXMiLCJjaGlsZCIsImZpcnN0Q2hpbGQiLCJub2RlVHlwZSIsIm5vZGVOYW1lIiwidHJlZSIsIm5leHRTaWJsaW5nIiwiYWxsRWxlbWVudHMiLCJ3ZWJraXRVUkwiLCJjb25maWciLCIkc3RhdGVQcm92aWRlciIsInNlYXJjaFN2YyIsInN0YXRlIiwidGVtcGxhdGVVcmwiLCJyZXNvbHZlIiwibWV0aG9kIiwicnVuIiwiJHN0YXRlIiwiZ28iXSwibWFwcGluZ3MiOiJBQUNBQSxRQUFBQyxPQUFBLFdBQUEsY0NEQUQsUUFBQUMsT0FBQSxXQUNBQyxRQUFBLFVBQUEsUUFBQSxTQUFBQyxHQUNBQyxLQUFBQyxJQUFBLFNBQUFDLEdBQ0EsTUFBQUgsR0FBQUksSUFBQSxrQkFBQUQsSUFFQUYsS0FBQUksT0FBQSxTQUFBRixHQUNBLE1BQUFILEdBQUFJLElBQUEscUJBQUFELElBRUFGLEtBQUFLLEtBQUEsV0FDQSxNQUFBTixHQUFBSSxJQUFBLGtCQ1RBUCxRQUFBQyxPQUFBLFdBQ0FTLFdBQUEsWUFBQSxTQUFBLFNBQUEsYUFBQSxTQUFBQyxFQUFBQyxFQUFBQyxHQTJVQSxRQUFBQyxHQUFBQyxHQUNBQyxFQUFBQyxRQUFBTixFQUFBTyxRQUFBLFNBQUFDLEdBUUEsUUFBQUMsR0FBQUQsR0FDQSxHQUNBRSxHQURBQyxJQUVBTixHQUFBQyxRQUFBRSxFQUFBSSxNQUFBLFNBQUFDLEVBQUFDLEdBQ0EsSUFBQUosR0FBQSxHQUFB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QUE3RCxPQUFBNkQsS0FBQTdELE9BQUF1RixTQUVBLElBQUE5RSxHQUFBUixTQUFBUSxLQUdBRCxHQUNBbUMsTUFBQSxnQ0FDQUUsTUFBQSwrQkFDQTNLLElBQUEsNkJBR0E0SCxTQzlYQTNMLFFBQUFDLE9BQUEsV0FDQW9SLFFBQUEsaUJBQUEsU0FBQUMsRUFBQUMsR0FFQUQsRUFBQUUsTUFBQSxRQUNBL0IsSUFBQSxJQUNBZ0MsWUFBQSxtQkFDQS9RLFdBQUEsVUFDQWdSLFNBQ0E3USxZQUFBLFFBQUEsU0FBQVYsR0FDQSxNQUFBQSxJQUFBd1IsT0FBQSxNQUFBbEMsSUFBQSx1QkFzQkFtQyxLQUFBLFNBQUEsU0FBQUMsR0FFQUEsRUFBQUMsR0FBQSIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGlzIG5lZWRzIHRvIGJlIGxvYWRlZCBmaXJzdCBiZWNhdXNlIGl0IGRlZmluZXMgdGhlIGRlcGVuZGVuY2llcy4gVGhlIGd1bHAgdGFzayB3aWxsIGFsd2F5cyBjb25jYXQgdGhpcyB0byB0aGUgdG9wIG9mIGZpbGVcbmFuZ3VsYXIubW9kdWxlKCd3aW5zdG9uJywgWyd1aS5yb3V0ZXInXSk7IiwiYW5ndWxhci5tb2R1bGUoJ3dpbnN0b24nKVxuLnNlcnZpY2UoJ2FwaVNWQycsIGZ1bmN0aW9uKCRodHRwKSB7XG4gICAgICAgIHRoaXMuYWRkID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9zdGF0cy9hZGQ/JyArIHBhcmFtcylcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5yZW1vdmUgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3N0YXRzL3JlbW92ZT8nICsgcGFyYW1zKVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvc3RhdHMnKVxuICAgICAgICB9O1xuICAgIH0pOyIsImFuZ3VsYXIubW9kdWxlKCd3aW5zdG9uJylcbiAgICAuY29udHJvbGxlcignbWFpbkNUUkwnLGZ1bmN0aW9uKCRzY29wZSxhcGlTVkMscHJlbG9hZE9iail7XG4gICAgICAgICRzY29wZS5fc2hvd0lucHV0ID0gZmFsc2U7XG4gICAgICAgICRzY29wZS5fc2hvd0lucHV0TSA9IGZhbHNlO1xuICAgICAgICB2YXIgVGFibGVIZWFkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiAnd2VlaycsXG4gICAgICAgICAgICAgICAgICAgIHZhbDogbnVsbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBrZXk6ICdkYXRlJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsOiBudWxsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogJ2cnLFxuICAgICAgICAgICAgICAgICAgICB2YWw6IG51bGxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiAnZ3MnLFxuICAgICAgICAgICAgICAgICAgICB2YWw6IG51bGxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiAncGFzc19jb21wJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsOiBudWxsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogJ3Bhc3NfYXR0JyxcbiAgICAgICAgICAgICAgICAgICAgdmFsOiBudWxsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogJ3Bhc3NfcGN0JyxcbiAgICAgICAgICAgICAgICAgICAgdmFsOiBudWxsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogJ3Bhc3NfeWRzJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsOiBudWxsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogJ3Bhc3NfYXZnJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsOiBudWxsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogJ3Bhc3NfdGQnLFxuICAgICAgICAgICAgICAgICAgICB2YWw6IG51bGxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiAncGFzc19pbnQnLFxuICAgICAgICAgICAgICAgICAgICB2YWw6IG51bGxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiAncGFzc19zY2snLFxuICAgICAgICAgICAgICAgICAgICB2YWw6IG51bGxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiAncGFzc19zY2t5JyxcbiAgICAgICAgICAgICAgICAgICAgdmFsOiBudWxsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogJ3Bhc3NfcmF0ZScsXG4gICAgICAgICAgICAgICAgICAgIHZhbDogbnVsbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBrZXk6ICdydXNoX2F0dCcsXG4gICAgICAgICAgICAgICAgICAgIHZhbDogbnVsbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBrZXk6ICdydXNoX3lkcycsXG4gICAgICAgICAgICAgICAgICAgIHZhbDogbnVsbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBrZXk6ICdydXNoX2F2ZycsXG4gICAgICAgICAgICAgICAgICAgIHZhbDogbnVsbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBrZXk6ICdydXNoX3RkJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsOiBudWxsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogJ2Z1bScsXG4gICAgICAgICAgICAgICAgICAgIHZhbDogbnVsbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBrZXk6ICdmdW1fbG9zdCcsXG4gICAgICAgICAgICAgICAgICAgIHZhbDogbnVsbFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF07XG4gICAgICAgIH07XG4gICAgICAgIHZhciBVcGRhdGVIZWFkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiAnZGF0ZScsXG4gICAgICAgICAgICAgICAgICAgIHZhbDogbnVsbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBrZXk6ICdnJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsOiBudWxsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogJ2dzJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsOiBudWxsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogJ3Bhc3NfY29tcCcsXG4gICAgICAgICAgICAgICAgICAgIHZhbDogbnVsbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBrZXk6ICdwYXNzX2F0dCcsXG4gICAgICAgICAgICAgICAgICAgIHZhbDogbnVsbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBrZXk6ICdwYXNzX3BjdCcsXG4gICAgICAgICAgICAgICAgICAgIHZhbDogbnVsbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBrZXk6ICdwYXNzX3lkcycsXG4gICAgICAgICAgICAgICAgICAgIHZhbDogbnVsbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBrZXk6ICdwYXNzX2F2ZycsXG4gICAgICAgICAgICAgICAgICAgIHZhbDogbnVsbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBrZXk6ICdwYXNzX3RkJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsOiBudWxsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogJ3Bhc3NfaW50JyxcbiAgICAgICAgICAgICAgICAgICAgdmFsOiBudWxsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogJ3Bhc3Nfc2NrJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsOiBudWxsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogJ3Bhc3Nfc2NreScsXG4gICAgICAgICAgICAgICAgICAgIHZhbDogbnVsbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBrZXk6ICdwYXNzX3JhdGUnLFxuICAgICAgICAgICAgICAgICAgICB2YWw6IG51bGxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiAncnVzaF9hdHQnLFxuICAgICAgICAgICAgICAgICAgICB2YWw6IG51bGxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiAncnVzaF95ZHMnLFxuICAgICAgICAgICAgICAgICAgICB2YWw6IG51bGxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiAncnVzaF9hdmcnLFxuICAgICAgICAgICAgICAgICAgICB2YWw6IG51bGxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiAncnVzaF90ZCcsXG4gICAgICAgICAgICAgICAgICAgIHZhbDogbnVsbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBrZXk6ICdmdW0nLFxuICAgICAgICAgICAgICAgICAgICB2YWw6IG51bGxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiAnZnVtX2xvc3QnLFxuICAgICAgICAgICAgICAgICAgICB2YWw6IG51bGxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdO1xuICAgICAgICB9O1xuICAgICAgICBpZiAocHJlbG9hZE9iai5kYXRhLnN0YXR1cyA9PSAnZXJyJykgY29uc29sZS5sb2cocHJlbG9hZE9iai5kYXRhLm1lc3NhZ2UpO1xuICAgICAgICAkc2NvcGUuZ2FtZVN0YXRzID0gcHJlbG9hZE9iai5kYXRhLmRhdGEud2luc3RvbjtcbiAgICAgICAgJHNjb3BlLm1HYW1lU3RhdHMgPSBwcmVsb2FkT2JqLmRhdGEuZGF0YS5tYXJpb3RhO1xuICAgICAgICAkc2NvcGUuc3RhdHMgPSBuZXcgc3RhdHMoKTtcbiAgICAgICAgJHNjb3BlLlVzdGF0cyA9IG5ldyBVc3RhdHMoKTtcbiAgICAgICAgJHNjb3BlLk1zdGF0cyA9IG5ldyBVc3RhdHMoKTtcbiAgICAgICAgJHNjb3BlLm5ld1N0YXRzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBhcGlTVkMuYWRkTmV3KCRzY29wZS5Vc3RhdHMpLnN1Y2Nlc3MoZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PSBcInN1Y2Nlc3NcIikge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuVXN0YXRzID0gbmV3IFVzdGF0cygpO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG9nZ2xlSW5wdXQoKTtcbiAgICAgICAgICAgICAgICAgICAgYXBpU1ZDLmxvYWQoKS5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5nYW1lU3RhdHMgPSBkYXRhLmRhdGEud2luc3RvbjtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdC5tZXNzYWdlLmNvbnN0cmFpbnQgPT0gJ2dhbWVfcGsnKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiRXJyb3I6IFRoYXQgZ2FtZSBhbHJlYWR5IGV4aXN0cyBpbiB0aGUgZGF0YWJhc2UuIERlbGV0ZSBpdCBmaXJzdCBpZiB5b3Ugd2FudCB0byB1cGRhdGUgaXRcIilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiRXJyb3I6IFwiICsgSlNPTi5zdHJpbmdpZnkocmVzdWx0Lm1lc3NhZ2UuZGV0YWlsKSlcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICAkc2NvcGUubmV3U3RhdHNNID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBhcGlTVkMuYWRkTmV3TSgkc2NvcGUuTXN0YXRzKS5zdWNjZXNzKGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT0gXCJzdWNjZXNzXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk1zdGF0cyA9IG5ldyBVc3RhdHMoKTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvZ2dsZUlucHV0TSgpO1xuICAgICAgICAgICAgICAgICAgICBhcGlTVkMubG9hZCgpLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1HYW1lU3RhdHMgPSBkYXRhLmRhdGEubWFyaW90YTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdC5tZXNzYWdlLmNvbnN0cmFpbnQgPT0gJ2dhbWVfcGsnKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiRXJyb3I6IFRoYXQgZ2FtZSBhbHJlYWR5IGV4aXN0cyBpbiB0aGUgZGF0YWJhc2UuIERlbGV0ZSBpdCBmaXJzdCBpZiB5b3Ugd2FudCB0byB1cGRhdGUgaXRcIilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiRXJyb3I6IFwiICsgSlNPTi5zdHJpbmdpZnkocmVzdWx0Lm1lc3NhZ2UuZGV0YWlsKSlcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICAkc2NvcGUudG9nZ2xlSW5wdXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRzY29wZS5fc2hvd0lucHV0ID0gISRzY29wZS5fc2hvd0lucHV0O1xuICAgICAgICB9O1xuICAgICAgICAkc2NvcGUudG9nZ2xlSW5wdXRNID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkc2NvcGUuX3Nob3dJbnB1dE0gPSAhJHNjb3BlLl9zaG93SW5wdXRNO1xuICAgICAgICB9O1xuICAgICAgICAkc2NvcGUuZGVsZXRlUm93TSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKCRzY29wZS5tR2FtZVN0YXRzICE9IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgYXBpU1ZDLnJlbW92ZU0oKS5zdWNjZXNzKGZ1bmN0aW9uKHJlc3BvbnNlKXtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAnc3VjY2VzcycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwaVNWQy5sb2FkKCkuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1HYW1lU3RhdHMgPSBkYXRhLmRhdGEubWFyaW90YTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAkc2NvcGUuZGVsZXRlUm93ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoJHNjb3BlLmdhbWVTdGF0cyAhPSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGFwaVNWQy5yZW1vdmUoKS5zdWNjZXNzKGZ1bmN0aW9uKHJlc3BvbnNlKXtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAnc3VjY2VzcycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwaVNWQy5sb2FkKCkuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmdhbWVTdGF0cyA9IGRhdGEuZGF0YS53aW5zdG9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgICRzY29wZS5tYXhHYW1lcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIG1heCA9IDA7XG4gICAgICAgICAgICBfLmZvckVhY2goJHNjb3BlLnBsYXllcnMsIGZ1bmN0aW9uKHBsYXllcikge1xuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXIuZ2FtZXMubGVuZ3RoID4gbWF4KSBtYXggPSBwbGF5ZXIuZ2FtZXMubGVuZ3RoO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgd2Vla3MgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbWF4ICsgMTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgd2Vla3MucHVzaChpKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHdlZWtzO1xuICAgICAgICB9O1xuICAgICAgICAkc2NvcGUucGxheWVycyA9IHByZWxvYWRPYmouZGF0YS5kYXRhLnBsYXllcnM7XG4gICAgICAgICRzY29wZS5nYW1lcyA9IHByZWxvYWRPYmouZGF0YS5kYXRhLmdhbWVzO1xuICAgICAgICBfLmZvckVhY2goJHNjb3BlLnBsYXllcnMsIGZ1bmN0aW9uKHBsYXllcikge1xuICAgICAgICAgICAgcGxheWVyLmdhbWVzID0gW107XG4gICAgICAgICAgICBfLmZvckVhY2goJHNjb3BlLmdhbWVzLCBmdW5jdGlvbihnYW1lKSB7XG4gICAgICAgICAgICAgICAgaWYgKGdhbWUucGxheWVyID09PSBwbGF5ZXIuaWQpIHBsYXllci5nYW1lcy5wdXNoKGdhbWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgYWNjdW11bGF0ZVN0YXRzID0gZnVuY3Rpb24ocGxheWVyLCB3ZWVrKSB7XG4gICAgICAgICAgICB2YXIgZ2FtZXMgPSBfLnRha2UocGxheWVyLmdhbWVzLCB3ZWVrKTtcbiAgICAgICAgICAgIHZhciBzdGF0c0N1bSA9IHtcbiAgICAgICAgICAgICAgICBwYXNzaW5nX2NvbXA6MCxcbiAgICAgICAgICAgICAgICBwYXNzaW5nX3lkczogMCxcbiAgICAgICAgICAgICAgICBwYXNzaW5nX3RkOiAwLFxuICAgICAgICAgICAgICAgIHBhc3NpbmdfYXR0OiAwLFxuICAgICAgICAgICAgICAgIHBhc3NpbmdfaW50OiAwXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgXy5mb3JFYWNoKGdhbWVzLGZ1bmN0aW9uKGdhbWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZ2FtZS5wYXNzaW5nX2NvbXAgIT0gbnVsbCkgc3RhdHNDdW0ucGFzc2luZ19jb21wICs9IGdhbWUucGFzc2luZ19jb21wO1xuICAgICAgICAgICAgICAgIGlmIChnYW1lLnBhc3NpbmdfeWRzICE9IG51bGwpIHN0YXRzQ3VtLnBhc3NpbmdfeWRzICs9IGdhbWUucGFzc2luZ195ZHM7XG4gICAgICAgICAgICAgICAgaWYgKGdhbWUucGFzc2luZ190ZCAhPSBudWxsKSBzdGF0c0N1bS5wYXNzaW5nX3RkICs9IGdhbWUucGFzc2luZ190ZDtcbiAgICAgICAgICAgICAgICBpZiAoZ2FtZS5wYXNzaW5nX2F0dCAhPSBudWxsKSBzdGF0c0N1bS5wYXNzaW5nX2F0dCArPSBnYW1lLnBhc3NpbmdfYXR0O1xuICAgICAgICAgICAgICAgIGlmIChnYW1lLnBhc3NpbmdfaW50ICE9IG51bGwpIHN0YXRzQ3VtLnBhc3NpbmdfaW50ICs9IGdhbWUucGFzc2luZ19pbnQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIHJhdGUoc3RhdHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdHMucGFzc2luZ19hdHQgIT0gbnVsbCAmJiBzdGF0cy5wYXNzaW5nX2F0dCAhPSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGZvcm11bGEgZnJvbSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9QYXNzZXJfcmF0aW5nXG4gICAgICAgICAgICAgICAgICAgIHZhciBhID0gKHN0YXRzQ3VtLnBhc3NpbmdfY29tcCAvIHN0YXRzQ3VtLnBhc3NpbmdfYXR0IC0gLjMpICogNTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGIgPSAoc3RhdHNDdW0ucGFzc2luZ195ZHMgLyBzdGF0c0N1bS5wYXNzaW5nX2F0dCAtIDMpICogLjI1O1xuICAgICAgICAgICAgICAgICAgICB2YXIgYyA9IChzdGF0c0N1bS5wYXNzaW5nX3RkIC8gc3RhdHNDdW0ucGFzc2luZ19hdHQpICogMjA7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkID0gMi4zNzUgLSAoc3RhdHNDdW0ucGFzc2luZ19pbnQgLyBzdGF0c0N1bS5wYXNzaW5nX2F0dCAqIDI1KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGEgPiAyLjM3NSkgYSA9IDIuMzc1O1xuICAgICAgICAgICAgICAgICAgICBpZiAoYSA8IDApIGEgPSAwO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYiA+IDIuMzc1KSBiID0gMi4zNzU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChiIDwgMCkgYiA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjID4gMi4zNzUpIGMgPSAyLjM3NTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGMgPCAwKSBjID0gMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGQgPiAyLjM3NSkgZCA9IDIuMzc1O1xuICAgICAgICAgICAgICAgICAgICBpZiAoZCA8IDApIGQgPSAwO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGEgKyBiICsgYyArIGQpIC8gNiAqIDEwMDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBsYXllci5yYXRpbmcgPSByYXRlKHN0YXRzQ3VtKTtcbiAgICAgICAgICAgIHJldHVybiBwbGF5ZXI7XG4gICAgICAgIH07XG4gICAgICAgICRzY29wZS5yYXRlUGxheWVycyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJHNjb3BlLmNoYXJ0QWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciB3ZWVrID0gJCgnI3dlZWsycmF0ZScpLnZhbCgpLnNwbGl0KCcgJylbMV07XG4gICAgICAgICAgICB2YXIgcmF0ZWQgPSBbXTtcbiAgICAgICAgICAgICRzY29wZS5yYXRlZCA9IFtdO1xuICAgICAgICAgICAgYXBpU1ZDLmxvYWQoKS5zdWNjZXNzKGZ1bmN0aW9uKHBsYXllcnNPYmopIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUucGxheWVycyA9IHBsYXllcnNPYmouZGF0YS5wbGF5ZXJzO1xuICAgICAgICAgICAgICAgICRzY29wZS5nYW1lcyA9IHBsYXllcnNPYmouZGF0YS5nYW1lcztcbiAgICAgICAgICAgICAgICAkc2NvcGUuZ2FtZVN0YXRlcyA9IHBsYXllcnNPYmouZGF0YS53aW5zdG9uO1xuICAgICAgICAgICAgICAgIF8uZm9yRWFjaCgkc2NvcGUucGxheWVycywgZnVuY3Rpb24ocGxheWVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5nYW1lcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBfLmZvckVhY2goJHNjb3BlLmdhbWVzLCBmdW5jdGlvbihnYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ2FtZS5wbGF5ZXIgPT09IHBsYXllci5pZCkgcGxheWVyLmdhbWVzLnB1c2goZ2FtZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBfLnNvcnRCeShwbGF5ZXIuZ2FtZXMsIGZ1bmN0aW9uKGdhbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBnYW1lLndlZWs7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIF8uZm9yRWFjaCgkc2NvcGUucGxheWVycywgZnVuY3Rpb24ocGxheWVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGFjY3VtdWxhdGVTdGF0cyhwbGF5ZXIsd2Vlayk7XG4gICAgICAgICAgICAgICAgICAgIHJhdGVkLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJwbGF5ZXJcIjpwbGF5ZXIubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwicmF0aW5nXCI6TWF0aC5yb3VuZCgocGxheWVyLnJhdGluZyArIDAuMDAwMDEpICogMTAwKSAvIDEwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaWRcIjpcInBcIitwbGF5ZXIuaWRcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB2YXIgcmFua2VkID0gXy5zb3J0QnkocmF0ZWQsIGZ1bmN0aW9uKHBsYXllcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGxheWVyLnJhdGluZztcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByYW5rZWQgPSBfLmZpbHRlcihyYW5rZWQsIGZ1bmN0aW9uKHApe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcC5yYXRpbmc7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgXy5mb3JFYWNoKHJhbmtlZC5yZXZlcnNlKCksZnVuY3Rpb24ocGxheWVyLCBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIucmFuayA9IGluZGV4ICsgMTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnJhdGVkLnB1c2gocGxheWVyKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBkcmF3R3JhcGhpY3Mod2Vlayk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgZnVuY3Rpb24gZHJhd0dyYXBoaWNzKHdlZWspIHtcbiAgICAgICAgICAgIF8uZm9yRWFjaCgkc2NvcGUucGxheWVycywgZnVuY3Rpb24ocGxheWVyKSB7XG4gICAgICAgICAgICAgICAgcGxheWVyLmdhbWVzID0gW107XG4gICAgICAgICAgICAgICAgXy5mb3JFYWNoKCRzY29wZS5nYW1lcywgZnVuY3Rpb24oZ2FtZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ2FtZS5wbGF5ZXIgPT0gcGxheWVyLmlkKSBwbGF5ZXIuZ2FtZXMucHVzaChnYW1lKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBfLnNvcnRCeShwbGF5ZXIuZ2FtZXMsIGZ1bmN0aW9uKGdhbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdhbWUud2VlaztcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBnZXRSYXRpbmdzKHBsYXllcikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmF0aW5ncyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdHNDdW07XG4gICAgICAgICAgICAgICAgICAgIF8uZm9yRWFjaChwbGF5ZXIuZ2FtZXMsZnVuY3Rpb24oZ2FtZSxpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzdGF0c0N1bSAmJiBnYW1lLmcgPT0gMSAmJiBnYW1lLnBhc3NpbmdfYXR0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHNDdW0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3NpbmdfY29tcDowLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzaW5nX3lkczogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc2luZ190ZDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc2luZ19hdHQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3NpbmdfaW50OiAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ2FtZS5wYXNzaW5nX2NvbXAgIT0gbnVsbCkgc3RhdHNDdW0ucGFzc2luZ19jb21wICs9IGdhbWUucGFzc2luZ19jb21wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnYW1lLnBhc3NpbmdfeWRzICE9IG51bGwpIHN0YXRzQ3VtLnBhc3NpbmdfeWRzICs9IGdhbWUucGFzc2luZ195ZHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdhbWUucGFzc2luZ190ZCAhPSBudWxsKSBzdGF0c0N1bS5wYXNzaW5nX3RkICs9IGdhbWUucGFzc2luZ190ZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ2FtZS5wYXNzaW5nX2F0dCAhPSBudWxsKSBzdGF0c0N1bS5wYXNzaW5nX2F0dCArPSBnYW1lLnBhc3NpbmdfYXR0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnYW1lLnBhc3NpbmdfaW50ICE9IG51bGwpIHN0YXRzQ3VtLnBhc3NpbmdfaW50ICs9IGdhbWUucGFzc2luZ19pbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRzQ3VtLnBhc3NpbmdfYXR0ICE9IG51bGwgJiYgc3RhdHNDdW0ucGFzc2luZ19hdHQgIT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmb3JtdWxhIGZyb20gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUGFzc2VyX3JhdGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYSA9IChzdGF0c0N1bS5wYXNzaW5nX2NvbXAgLyBzdGF0c0N1bS5wYXNzaW5nX2F0dCAtIC4zKSAqIDU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiID0gKHN0YXRzQ3VtLnBhc3NpbmdfeWRzIC8gc3RhdHNDdW0ucGFzc2luZ19hdHQgLSAzKSAqIC4yNTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGMgPSAoc3RhdHNDdW0ucGFzc2luZ190ZCAvIHN0YXRzQ3VtLnBhc3NpbmdfYXR0KSAqIDIwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZCA9IDIuMzc1IC0gKHN0YXRzQ3VtLnBhc3NpbmdfaW50IC8gc3RhdHNDdW0ucGFzc2luZ19hdHQgKiAyNSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhID4gMi4zNzUpIGEgPSAyLjM3NTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGEgPCAwKSBhID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGIgPiAyLjM3NSkgYiA9IDIuMzc1O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYiA8IDApIGIgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYyA+IDIuMzc1KSBjID0gMi4zNzU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjIDwgMCkgYyA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkID4gMi4zNzUpIGQgPSAyLjM3NTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGQgPCAwKSBkID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJhdGluZyA9IChhK2IrYytkKS82KjEwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW5ncy5wdXNoKHtcIndlZWtcIjppbmRleCArIDEsIFwicmF0aW5nXCI6TWF0aC5yb3VuZCgocmF0aW5nICsgMC4wMDAwMSkgKiAxMDApIC8gMTAwLFwicGlkXCI6cGxheWVyLmlkfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFzdGF0c0N1bSAmJiAhZ2FtZS5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW5ncy5wdXNoKHtcIndlZWtcIjppbmRleCArIDEsXCJyYXRpbmdcIjpudWxsLFwicGlkXCI6cGxheWVyLmlkfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXN0YXRzQ3VtICYmIGdhbWUuZyA9PSAxICYmICFnYW1lLnBhc3NpbmdfYXR0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHggPSByYXRpbmdzW3JhdGluZ3MubGVuZ3RoIC0xXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgeSA9IHtcIndlZWtcIjogeC53ZWVrICsgMSxcInJhdGluZ1wiOiB4LnJhdGluZyxcInBpZFwiOnBsYXllci5pZH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW5ncy5wdXNoKHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdhbWUucGFzc2luZ19jb21wICE9IG51bGwpIHN0YXRzQ3VtLnBhc3NpbmdfY29tcCArPSBnYW1lLnBhc3NpbmdfY29tcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ2FtZS5wYXNzaW5nX3lkcyAhPSBudWxsKSBzdGF0c0N1bS5wYXNzaW5nX3lkcyArPSBnYW1lLnBhc3NpbmdfeWRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnYW1lLnBhc3NpbmdfdGQgIT0gbnVsbCkgc3RhdHNDdW0ucGFzc2luZ190ZCArPSBnYW1lLnBhc3NpbmdfdGQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdhbWUucGFzc2luZ19hdHQgIT0gbnVsbCkgc3RhdHNDdW0ucGFzc2luZ19hdHQgKz0gZ2FtZS5wYXNzaW5nX2F0dDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ2FtZS5wYXNzaW5nX2ludCAhPSBudWxsKSBzdGF0c0N1bS5wYXNzaW5nX2ludCArPSBnYW1lLnBhc3NpbmdfaW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0c0N1bS5wYXNzaW5nX2F0dCAhPSBudWxsICYmIHN0YXRzQ3VtLnBhc3NpbmdfYXR0ICE9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZm9ybXVsYSBmcm9tIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1Bhc3Nlcl9yYXRpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSAoc3RhdHNDdW0ucGFzc2luZ19jb21wIC8gc3RhdHNDdW0ucGFzc2luZ19hdHQgLSAuMykgKiA1O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYiA9IChzdGF0c0N1bS5wYXNzaW5nX3lkcyAvIHN0YXRzQ3VtLnBhc3NpbmdfYXR0IC0gMykgKiAuMjU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjID0gKHN0YXRzQ3VtLnBhc3NpbmdfdGQgLyBzdGF0c0N1bS5wYXNzaW5nX2F0dCkgKiAyMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGQgPSAyLjM3NSAtIChzdGF0c0N1bS5wYXNzaW5nX2ludCAvIHN0YXRzQ3VtLnBhc3NpbmdfYXR0ICogMjUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYSA+IDIuMzc1KSBhID0gMi4zNzU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhIDwgMCkgYSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiID4gMi4zNzUpIGIgPSAyLjM3NTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGIgPCAwKSBiID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGMgPiAyLjM3NSkgYyA9IDIuMzc1O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYyA8IDApIGMgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZCA+IDIuMzc1KSBkID0gMi4zNzU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkIDwgMCkgZCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByYXRpbmcgPSAoYStiK2MrZCkvNioxMDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhdGluZ3MucHVzaCh7XCJ3ZWVrXCI6aW5kZXggKyAxLCBcInJhdGluZ1wiOk1hdGgucm91bmQoKHJhdGluZyArIDAuMDAwMDEpICogMTAwKSAvIDEwMCxcInBpZFwiOnBsYXllci5pZH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJhdGluZ09iaiA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBfLmZvckVhY2gocmF0aW5ncywgZnVuY3Rpb24ocmF0aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByYXRpbmdPYmpbcmF0aW5nLndlZWtdID0gcmF0aW5nO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBfLmZvckVhY2gocmF0aW5nT2JqLCBmdW5jdGlvbihyYXRpbmcsaSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJhdGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpICE9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW5nID0gcmF0aW5nT2JqW2ktMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhdGluZy53ZWVrKytcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXRpbmcud2VlayA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhdGluZy5yYXRpbmcgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXRpbmcucGlkID0gcGxheWVyLmlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLy9mb3IgKHZhciBpID0gMTsgaSA8IDE5OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgaWYgKCFyYXRpbmdPYmpbaV0pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgIGlmIChpICE9IDEgJiYgcmF0aW5nT2JqW2ktMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICByYXRpbmdPYmpbaV0gPSByYXRpbmdPYmpbaS0xXTtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICByYXRpbmdPYmpbaV0ud2VlayA9IGk7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgIHJhdGluZ09ialtpXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy99XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByYXRpbmdPYmo7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciByYXRpbmdzID0gXy52YWx1ZXMoZ2V0UmF0aW5ncyhwbGF5ZXIpKTtcbiAgICAgICAgICAgICAgICAvL2lmICghcGxheWVyLmlkID09IDEpIHdlZWsgKz0gMztcbiAgICAgICAgICAgICAgICBwbGF5ZXIucmF0aW5ncyA9IF8udGFrZShyYXRpbmdzLCB3ZWVrKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXy5mb3JFYWNoKCRzY29wZS5wbGF5ZXJzLGZ1bmN0aW9uKHBsYXllcikge1xuICAgICAgICAgICAgICAgIHBsYXllci5jbGFzc05hbWUgPSAnb3RoZXInO1xuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXIuaWQgPT09IDEpIHBsYXllci5jbGFzc05hbWUgPSAnamFtZWlzJztcbiAgICAgICAgICAgICAgICBpZiAocGxheWVyLmlkID09PSAyKSBwbGF5ZXIuY2xhc3NOYW1lID0gJ21hcmN1cyc7XG4gICAgICAgICAgICAgICAgcGxheWVyLnJhdGluZ3MuZm9yRWFjaChmdW5jdGlvbihkLGkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGQud2VlayA9ICtkLndlZWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkLnJhdGluZyA9IGQucmF0aW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgZC5waWQgPSBwbGF5ZXIuaWQ7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPSAwICYmIHBsYXllci5yYXRpbmdzW2ldICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXIucmF0aW5nc1tpXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ3ZWVrXCI6cGxheWVyLnJhdGluZ3NbaV0ud2VlayArIDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicmF0aW5nXCI6cGxheWVyLnJhdGluZ3NbaV0ucmF0aW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInBpZFwiOnBsYXllci5pZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyLnJhdGluZ3NbaV0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwid2Vla1wiOiBpICsgMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJyYXRpbmdcIjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwaWRcIjogcGxheWVyLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIFRoaXMgbG9vcCBjYW4gYmUgdXNlZCB0byBjaGVjayBpZiBhbnkgZGlkbid0IGdldCByYXRlZFxuICAgICAgICAgICAgLy9fLmZvckVhY2goJHNjb3BlLnBsYXllcnMsZnVuY3Rpb24ocGxheWVyKSB7XG4gICAgICAgICAgICAvLyAgICBpZiAocGxheWVyLnJhdGluZ3MubGVuZ3RoIDwgcGxheWVyLmdhbWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGxheWVyLnJhdGluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgY29uc29sZS5sb2cocGxheWVyLm5hbWUsIHBsYXllci5yYXRpbmdzW2ldLndlZWspXG4gICAgICAgICAgICAvLyAgICAgICAgfVxuICAgICAgICAgICAgLy8gICAgfVxuICAgICAgICAgICAgLy99KTtcbiAgICAgICAgICAgIHZhciBtYXJnaW4gPSB7dG9wOiAyMCwgcmlnaHQ6IDIwLCBib3R0b206IDMwLCBsZWZ0OiA1MH07XG4gICAgICAgICAgICB2YXIgd2lkdGggPSA5NjAgLSBtYXJnaW4ucmlnaHQgLSBtYXJnaW4ubGVmdDtcbiAgICAgICAgICAgIHZhciBoZWlnaHQgPSA1MDAgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTtcbiAgICAgICAgICAgIHZhciB4ID0gZDMuc2NhbGUubGluZWFyKCkucmFuZ2UoWzAsd2lkdGhdKTtcbiAgICAgICAgICAgIHZhciB5ID0gZDMuc2NhbGUubGluZWFyKCkucmFuZ2UoW2hlaWdodCwwXSk7XG4gICAgICAgICAgICB2YXIgeEF4aXMgPSBkMy5zdmcuYXhpcygpLnNjYWxlKHgpLm9yaWVudChcImJvdHRvbVwiKS50aWNrVmFsdWVzKGQzLnJhbmdlKDEsd2VlayArIDEpKS50aWNrRm9ybWF0KGQzLmZvcm1hdChcImRcIikpO1xuICAgICAgICAgICAgdmFyIHlBeGlzID0gZDMuc3ZnLmF4aXMoKS5zY2FsZSh5KS5vcmllbnQoXCJsZWZ0XCIpO1xuICAgICAgICAgICAgdmFyIGxpbmUgPSBkMy5zdmcubGluZSgpXG4gICAgICAgICAgICAgICAgLngoZnVuY3Rpb24oZCkgeyByZXR1cm4geChkLndlZWspfSlcbiAgICAgICAgICAgICAgICAueShmdW5jdGlvbihkKSB7IHJldHVybiB5KGQucmF0aW5nKX0pXG4gICAgICAgICAgICAgICAgLmludGVycG9sYXRlKCdiYXNpcycpO1xuICAgICAgICAgICAgdmFyIHN2ZyA9IGQzLnNlbGVjdChcIiNncmFwaFwiKS5zZWxlY3Rfb3JfYXBwZW5kKFwic3ZnXCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ3aWR0aFwiLCB3aWR0aCArIG1hcmdpbi5sZWZ0ICsgbWFyZ2luLnJpZ2h0KVxuICAgICAgICAgICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIGhlaWdodCArIG1hcmdpbi50b3AgKyBtYXJnaW4uYm90dG9tKVxuICAgICAgICAgICAgICAgIC5zZWxlY3Rfb3JfYXBwZW5kKFwiZy5jb250YWluZXJcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLFwidHJhbnNsYXRlKFwiICsgbWFyZ2luLmxlZnQgKyBcIixcIiArIG1hcmdpbi50b3AgKyBcIilcIik7XG4gICAgICAgICAgICB4LmRvbWFpbihbMSwgTnVtYmVyKHdlZWspXSk7XG4gICAgICAgICAgICB5LmRvbWFpbihbMCwxNjBdKTtcblxuICAgICAgICAgICAgdmFyIGxpbmVzID0gc3ZnLnNlbGVjdF9vcl9hcHBlbmQoJ2cubGluZXMnKS5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgICAgICAgICAgIC5kYXRhKCRzY29wZS5wbGF5ZXJzLnJldmVyc2UoKSxmdW5jdGlvbihkKXtpZihkKXsvKmNvbnNvbGUubG9nKGQpOyovcmV0dXJuIGQuaWQ7fX0pO1xuXG4gICAgICAgICAgICBsaW5lcy5lbnRlcigpLmFwcGVuZCgncGF0aCcpXG4gICAgICAgICAgICAuYXR0cihcImNsYXNzXCIsZnVuY3Rpb24oZCkgeyByZXR1cm4gZC5jbGFzc05hbWV9KVxuICAgICAgICAgICAgLmF0dHIoXCJuYW1lXCIsZnVuY3Rpb24oZCl7cmV0dXJuIGQubmFtZX0pXG4gICAgICAgICAgICAuYXR0cihcImRcIiwgZnVuY3Rpb24oZCkge3JldHVybiBsaW5lKGQucmF0aW5ncyl9KTtcblxuICAgICAgICAgICAgbGluZXMuYXR0cihcImNsYXNzXCIsZnVuY3Rpb24oZCkgeyByZXR1cm4gZC5jbGFzc05hbWV9KVxuICAgICAgICAgICAgLmF0dHIoXCJuYW1lXCIsZnVuY3Rpb24oZCl7cmV0dXJuIGQubmFtZX0pXG4gICAgICAgICAgICAudHJhbnNpdGlvbigpLmF0dHIoXCJkXCIsIGZ1bmN0aW9uKGQpIHtyZXR1cm4gbGluZShkLnJhdGluZ3MpfSk7XG5cbiAgICAgICAgICAgIGxpbmVzLmV4aXQoKS5yZW1vdmUoKTtcblxuICAgICAgICAgICAgc3ZnLnNlbGVjdF9vcl9hcHBlbmQoXCJnLnhcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwieCBheGlzXCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIGhlaWdodCArIFwiKVwiKVxuICAgICAgICAgICAgICAgIC5jYWxsKHhBeGlzKVxuICAgICAgICAgICAgICAgIC5zZWxlY3Rfb3JfYXBwZW5kKFwidGV4dC54YXhpc1wiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwieVwiLDI1KVxuICAgICAgICAgICAgICAgIC5hdHRyKFwieFwiLDQ1MClcbiAgICAgICAgICAgICAgICAuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLFwiZW5kXCIpXG4gICAgICAgICAgICAgICAgLnN0eWxlKFwiZHlcIixcIi43MWVtXCIpXG4gICAgICAgICAgICAgICAgLnRleHQoXCJXZWVrXCIpO1xuXG4gICAgICAgICAgICBzdmcuc2VsZWN0X29yX2FwcGVuZChcImcueVwiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJ5IGF4aXNcIilcbiAgICAgICAgICAgICAgICAuY2FsbCh5QXhpcylcbiAgICAgICAgICAgICAgICAuc2VsZWN0X29yX2FwcGVuZChcInRleHQueWF4aXNcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLFwicm90YXRlKC05MClcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcInlcIiwtNTApXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ4XCIsIC0xNTApXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJkeVwiLCBcIi43MWVtXCIpXG4gICAgICAgICAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIixcImVuZFwiKVxuICAgICAgICAgICAgICAgIC50ZXh0KFwiUUIgUmF0aW5nIChjdW11bGF0aXZlKVwiKTtcbiAgICAgICAgfVxuICAgICAgICAkc2NvcGUuY2hhcnRBY3RpdmUgPSBmYWxzZTtcblxuICAgIH0pO1xuXG5cblxuXG5cblxuXG5cblxuIiwiYW5ndWxhci5tb2R1bGUoJ3dpbnN0b24nKVxuICAgIC5jb250cm9sbGVyKCduZXdDVFJMJyxmdW5jdGlvbigkc2NvcGUsYXBpU1ZDLHByZWxvYWRPYmopIHtcbiAgICAgICAgJHNjb3BlLndpbnN0b24gPSBwcmVsb2FkT2JqLmRhdGEuZGF0YVswXTtcbiAgICAgICAgJHNjb3BlLndpbnN0b24uYWRkU3RhdHMgPSBmYWxzZTtcbiAgICAgICAgJHNjb3BlLnBsYXllcnMgPSBwcmVsb2FkT2JqLmRhdGEuZGF0YTtcbiAgICAgICAgJHNjb3BlLm1hcmlvdGEgPSBwcmVsb2FkT2JqLmRhdGEuZGF0YVsxXTtcbiAgICAgICAgJHNjb3BlLm1hcmlvdGEuYWRkU3RhdHMgPSBmYWxzZTtcbiAgICAgICAgJHNjb3BlLmdyYXBoID0ge1xuICAgICAgICAgICAgd2Vla3M6IFsxLDIsMyw0LDUsNiw3LDgsOSwxMCwxMSwxMiwxMywxNCwxNSwxNiwxNywxOF1cbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUudG9nZ2xlV2luc3RvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJHNjb3BlLndpbnN0b24uYWRkU3RhdHMgPSAhJHNjb3BlLndpbnN0b24uYWRkU3RhdHM7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmFkZFdpbnN0b25TdGF0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHN0cmluZyA9IFwicGxheWVyPTEmc2Vhc29uPTIwMTUmXCI7XG4gICAgICAgICAgICB2YXIgcGFyYW1zID0gW107XG4gICAgICAgICAgICBfLmZvckVhY2goJHNjb3BlLndpbnN0b24ubmV3LCBmdW5jdGlvbih2YWwsa2V5KSB7XG4gICAgICAgICAgICAgICAgcGFyYW1zLnB1c2goa2V5K1wiPVwiK3ZhbClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc3RyaW5nICs9IHBhcmFtcy5qb2luKFwiJlwiKTtcbiAgICAgICAgICAgIGFwaVNWQy5hZGQoc3RyaW5nKS5zdWNjZXNzKGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09PSBcInN1Y2Nlc3NcIikgYXBpU1ZDLmxvYWQoKS5zdWNjZXNzKFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihyZXMpe1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLndpbnN0b24gPSByZXMuZGF0YVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5wbGF5ZXJzID0gcmVzLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KVxuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5kZWxldGVXaW5zdG9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBhcGlTVkMucmVtb3ZlKFwicGxheWVyPTEmd2Vlaz1cIiskc2NvcGUud2luc3Rvbi5kZWxldGUuc3BsaXQoJyAnKVsxXSkuc3VjY2VzcyhcbiAgICAgICAgICAgICAgICBmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IFwic3VjY2Vzc1wiKSBhcGlTVkMubG9hZCgpLnN1Y2Nlc3MoXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUud2luc3RvbiA9IHJlcy5kYXRhWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5wbGF5ZXJzID0gcmVzLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApXG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLnRvZ2dsZU1hcmlvdGEgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRzY29wZS5tYXJpb3RhLmFkZFN0YXRzID0gISRzY29wZS5tYXJpb3RhLmFkZFN0YXRzO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5hZGRNYXJpb3RhU3RhdHMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBzdHJpbmcgPSBcInBsYXllcj0yJnNlYXNvbj0yMDE1JlwiO1xuICAgICAgICAgICAgdmFyIHBhcmFtcyA9IFtdO1xuICAgICAgICAgICAgXy5mb3JFYWNoKCRzY29wZS5tYXJpb3RhLm5ldywgZnVuY3Rpb24odmFsLGtleSkge1xuICAgICAgICAgICAgICAgIHBhcmFtcy5wdXNoKGtleStcIj1cIit2YWwpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHN0cmluZyArPSBwYXJhbXMuam9pbihcIiZcIik7XG4gICAgICAgICAgICBhcGlTVkMuYWRkKHN0cmluZykuc3VjY2VzcyhmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gXCJzdWNjZXNzXCIpIGFwaVNWQy5sb2FkKCkuc3VjY2VzcyhcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24ocmVzKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXJpb3RhID0gcmVzLmRhdGFbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucGxheWVycyA9IHJlcy5kYXRhO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuZGVsZXRlTWFyaW90YSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgYXBpU1ZDLnJlbW92ZShcInBsYXllcj0yJndlZWs9XCIrJHNjb3BlLm1hcmlvdGEuZGVsZXRlLnNwbGl0KCcgJylbMV0pLnN1Y2Nlc3MoXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09PSBcInN1Y2Nlc3NcIikgYXBpU1ZDLmxvYWQoKS5zdWNjZXNzKFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcmlvdGEgPSByZXMuZGF0YVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucGxheWVycyA9IHJlcy5kYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKVxuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5kcmF3R3JhcGggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGQzLnNlbGVjdCgnI2NvbnRyb2xCb3gnKS5zZWxlY3RBbGwoJ3RyJykucmVtb3ZlKCk7XG4gICAgICAgICAgICAkc2NvcGUuZ3JhcGguZGF0YSA9ICRzY29wZS5ncmFwaC5kYXRhIHx8IFtdO1xuICAgICAgICAgICAgdmFyIHdlZWsgPSAkc2NvcGUuZ3JhcGguc2VsZWN0ZWRXZWVrLnNwbGl0KCcgJylbMV07XG4gICAgICAgICAgICBpZiAoXy5pc0VtcHR5KCRzY29wZS5ncmFwaC5kYXRhKSkge1xuICAgICAgICAgICAgICAgIChmdW5jdGlvbiBwcmVwYXJlUGxheWVycyh3ZWVrKSB7XG4gICAgICAgICAgICAgICAgICAgIF8uZm9yRWFjaCgkc2NvcGUucGxheWVycyxmdW5jdGlvbihwbGF5ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB4ID0ge25hbWU6cGxheWVyLm5hbWUscmF0aW5nczogXy50YWtlKHBsYXllci5yYW5raW5ncywgd2Vlayksc2VsZWN0ZWQ6IGZhbHNlLCBjb2xvcnM6IHBsYXllci5jb2xvcnN9O1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmdyYXBoLmRhdGEucHVzaCh4KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciByYXRlZFBsYXllcnMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgXy5mb3JFYWNoKCRzY29wZS5ncmFwaC5kYXRhLCBmdW5jdGlvbihwbGF5ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwbGF5ZXIucmF0aW5nc1twbGF5ZXIucmF0aW5ncy5sZW5ndGggLSAxXSAmJiBwbGF5ZXIucmF0aW5nc1twbGF5ZXIucmF0aW5ncy5sZW5ndGggLSAxXVtcInJhdGluZ1wiXSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhdGVkUGxheWVycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyOiBwbGF5ZXIubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFJhdGluZzogcGxheWVyLnJhdGluZ3NbcGxheWVyLnJhdGluZ3MubGVuZ3RoIC0gMV0ucmF0aW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhdGluZ3M6IHBsYXllci5yYXRpbmdzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcnM6IHBsYXllci5jb2xvcnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmdyYXBoLmRhdGEgPSBfLmZvckVhY2goXy5zb3J0QnlPcmRlcihyYXRlZFBsYXllcnMsJ2N1cnJlbnRSYXRpbmcnLCdkZXNjJyksZnVuY3Rpb24ocGxheWVyLGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXIucmFuayA9IGluZGV4ICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllci5wcmltYXJ5ID0gSlNPTi5wYXJzZShwbGF5ZXIuY29sb3JzKS5wcmltYXJ5O1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyLnNlY29uZGFyeSA9IEpTT04ucGFyc2UocGxheWVyLmNvbG9ycykuc2Vjb25kYXJ5O1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHBsYXllci5jb2xvcnNcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSkod2Vlayk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciB0ZW1wR3JhcGhEYXRhID0gW107XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJHNjb3BlLmdyYXBoKTtcbiAgICAgICAgICAgICAgICAoZnVuY3Rpb24gcHJlcGFyZVBsYXllcnMod2Vlaykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWRQbGF5ZXJzID0gXy5wbHVjayhfLmZpbHRlcigkc2NvcGUuZ3JhcGguZGF0YSwnc2VsZWN0ZWQnKSwncGxheWVyJyk7XG4gICAgICAgICAgICAgICAgICAgIF8uZm9yRWFjaCgkc2NvcGUucGxheWVycywgZnVuY3Rpb24ocGxheWVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgeCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBwbGF5ZXIubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXRpbmdzOiBfLnRha2UocGxheWVyLnJhbmtpbmdzLCB3ZWVrKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZDogXy5pbmNsdWRlcyhzZWxlY3RlZFBsYXllcnMscGxheWVyLnBsYXllciksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3JzOiBwbGF5ZXIuY29sb3JzXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcEdyYXBoRGF0YS5wdXNoKHgpXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmF0ZWRQbGF5ZXJzID0gW107XG4gICAgICAgICAgICAgICAgICAgIF8uZm9yRWFjaCh0ZW1wR3JhcGhEYXRhLCBmdW5jdGlvbihwbGF5ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwbGF5ZXIucmF0aW5nc1twbGF5ZXIucmF0aW5ncy5sZW5ndGggLSAxXSAmJiBwbGF5ZXIucmF0aW5nc1twbGF5ZXIucmF0aW5ncy5sZW5ndGggLSAxXVtcInJhdGluZ1wiXSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhdGVkUGxheWVycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyOiBwbGF5ZXIubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFJhdGluZzogcGxheWVyLnJhdGluZ3NbcGxheWVyLnJhdGluZ3MubGVuZ3RoIC0gMV0ucmF0aW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZDogXy5pbmNsdWRlcyhzZWxlY3RlZFBsYXllcnMsIHBsYXllci5uYW1lKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW5nczogcGxheWVyLnJhdGluZ3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yczogcGxheWVyLmNvbG9yc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmdyYXBoLmRhdGEgPSBfLmZvckVhY2goXy5zb3J0QnlPcmRlcihyYXRlZFBsYXllcnMsJ2N1cnJlbnRSYXRpbmcnLCdkZXNjJyksZnVuY3Rpb24ocGxheWVyLGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXIucmFuayA9IGluZGV4ICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllci5wcmltYXJ5ID0gSlNPTi5wYXJzZShwbGF5ZXIuY29sb3JzKS5wcmltYXJ5O1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyLnNlY29uZGFyeSA9IEpTT04ucGFyc2UocGxheWVyLmNvbG9ycykuc2Vjb25kYXJ5O1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHBsYXllci5jb2xvcnNcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJHNjb3BlLmdyYXBoKTtcbiAgICAgICAgICAgICAgICB9KSh3ZWVrKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDT05UUk9MU1xuICAgICAgICAgICAgLy92YXIgY29udHJvbHMgPSBkMy5zZWxlY3QoXCIjY29udHJvbEJveFwiKS5zZWxlY3RBbGwoXCJ0clwiKS5kYXRhKCRzY29wZS5ncmFwaC5kYXRhLGZ1bmN0aW9uKGQpeyByZXR1cm4gZC5wbGF5ZXJ9KTtcbiAgICAgICAgICAgIC8vdmFyIHBsYXllciA9IGNvbnRyb2xzLmVudGVyKCkuYXBwZW5kKFwidHJcIikuYXR0cihcImNsYXNzXCIsZnVuY3Rpb24oZCl7cmV0dXJuIGQucGxheWVyfSk7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9wbGF5ZXIuc2VsZWN0X29yX2FwcGVuZChcInRkLnJhbmtcIikuaHRtbChmdW5jdGlvbihkKXtcbiAgICAgICAgICAgIC8vICAgIHJldHVybiBkLnJhbmtcbiAgICAgICAgICAgIC8vfSk7XG4gICAgICAgICAgICAvL3BsYXllci5zZWxlY3Rfb3JfYXBwZW5kKFwidGQubmFtZVwiKS5odG1sKGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgIC8vICAgIHJldHVybiBkLnBsYXllclxuICAgICAgICAgICAgLy99KTtcbiAgICAgICAgICAgIC8vcGxheWVyLnNlbGVjdF9vcl9hcHBlbmQoXCJ0ZC5yYXRlXCIpLmh0bWwoZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgLy8gICAgcmV0dXJuIGQuY3VycmVudFJhdGluZ1xuICAgICAgICAgICAgLy99KTtcbiAgICAgICAgICAgIC8vcGxheWVyLmV4aXQoKS5yZW1vdmUoKTtcbiAgICAgICAgICAgIHZhciBjb250cm9scyA9IGQzLnNlbGVjdCgnI2NvbnRyb2xCb3gnKS5zZWxlY3RBbGwoJ3RyJykuZGF0YSgkc2NvcGUuZ3JhcGguZGF0YSxmdW5jdGlvbihkKXsgcmV0dXJuIGQucGxheWVyfSk7XG4gICAgICAgICAgICBjb250cm9scy5lbnRlcigpXG4gICAgICAgICAgICAgICAgLmFwcGVuZCgndHInKVxuICAgICAgICAgICAgICAgIC5zdHlsZSh7XG4gICAgICAgICAgICAgICAgICAgIFwiYmFja2dyb3VuZC1jb2xvclwiOmZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkLnNlbGVjdGVkKSByZXR1cm4gZC5wcmltYXJ5O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAvLy5hdHRyKCdwb3NpdGlvbicsIGZ1bmN0aW9uKGQpIHtyZXR1cm4gZC5yYW5rfSlcblxuICAgICAgICAgICAgY29udHJvbHMuc2VsZWN0X29yX2FwcGVuZChcInRkLnJhbmtcIikuaHRtbChmdW5jdGlvbihkKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gZC5yYW5rXG4gICAgICAgICAgICB9KS5zdHlsZSh7XG4gICAgICAgICAgICAgICAgXCJjb2xvclwiOiBmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkLnNlbGVjdGVkKSByZXR1cm4gXCJ3aGl0ZXNtb2tlXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb250cm9scy5zZWxlY3Rfb3JfYXBwZW5kKFwidGQubmFtZVwiKS5odG1sKGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZC5wbGF5ZXJcbiAgICAgICAgICAgIH0pLnN0eWxlKHtcbiAgICAgICAgICAgICAgICBcImNvbG9yXCI6IGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGQuc2VsZWN0ZWQpIHJldHVybiBcIndoaXRlc21va2VcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnRyb2xzLnNlbGVjdF9vcl9hcHBlbmQoXCJ0ZC5yYXRlXCIpLmh0bWwoZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkLmN1cnJlbnRSYXRpbmdcbiAgICAgICAgICAgIH0pLnN0eWxlKHtcbiAgICAgICAgICAgICAgICBcImNvbG9yXCI6IGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGQuc2VsZWN0ZWQpIHJldHVybiBcIndoaXRlc21va2VcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29udHJvbHMub24oXCJtb3VzZW92ZXJcIixmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBkMy5zZWxlY3QodGhpcykuc3R5bGUoe1xuICAgICAgICAgICAgICAgICAgICBcImJhY2tncm91bmQtY29sb3JcIjogZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQucHJpbWFyeTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pLnNlbGVjdEFsbCgndGQnKS5zdHlsZShcImNvbG9yXCIsXCJ3aGl0ZXNtb2tlXCIpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnRyb2xzLm9uKFwibW91c2VvdXRcIixmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFkLnNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGQzLnNlbGVjdCh0aGlzKS5zdHlsZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBcImJhY2tncm91bmQtY29sb3JcIjogXCJ3aGl0ZVwiXG4gICAgICAgICAgICAgICAgICAgIH0pLnNlbGVjdEFsbCgndGQnKS5zdHlsZShcImNvbG9yXCIsXCJibGFja1wiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29udHJvbHMub24oXCJjbGlja1wiLGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgICAgICBkLnNlbGVjdGVkID0gIWQuc2VsZWN0ZWQ7XG4gICAgICAgICAgICAgICAgdXBkYXRlR3JhcGgoKTtcbiAgICAgICAgICAgIH0pO1xuXG5cblxuICAgICAgICAgICAgLy8gTElORSBDSEFSVFxuICAgICAgICAgICAgdmFyIG1hcmdpbiA9IHt0b3A6IDIwLCByaWdodDogMjAsIGJvdHRvbTogMzAsIGxlZnQ6IDUwfTtcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IDk2MCAtIG1hcmdpbi5sZWZ0IC0gbWFyZ2luLnJpZ2h0O1xuICAgICAgICAgICAgdmFyIGhlaWdodCA9IDUwMCAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tO1xuXG4gICAgICAgICAgICB2YXIgeCA9IGQzLnNjYWxlLmxpbmVhcigpLnJhbmdlKFswLHdpZHRoXSkuZG9tYWluKFsxLHdlZWtdKTtcbiAgICAgICAgICAgIHZhciB5ID0gZDMuc2NhbGUubGluZWFyKCkuZG9tYWluKFswLDE2MF0pLnJhbmdlKFtoZWlnaHQsMF0pO1xuICAgICAgICAgICAgdmFyIHhBeGlzID0gZDMuc3ZnLmF4aXMoKS5zY2FsZSh4KS5vcmllbnQoXCJib3R0b21cIikudGlja1ZhbHVlcyhkMy5yYW5nZSgxLHdlZWsgKyAxKSkudGlja0Zvcm1hdChkMy5mb3JtYXQoXCJkXCIpKTtcbiAgICAgICAgICAgIHZhciB5QXhpcyA9IGQzLnN2Zy5heGlzKCkuc2NhbGUoeSkub3JpZW50KFwibGVmdFwiKTtcbiAgICAgICAgICAgIHZhciBsaW5lID0gZDMuc3ZnLmxpbmUoKS54KGZ1bmN0aW9uKGQpeyByZXR1cm4geChkLndlZWspfSkueShmdW5jdGlvbihkKXsgcmV0dXJuIHkoZC5yYXRpbmcpfSlcbiAgICAgICAgICAgICAgICAuaW50ZXJwb2xhdGUoJ2Jhc2lzJyk7XG5cbiAgICAgICAgICAgIHZhciBzdmcgPSBkMy5zZWxlY3QoXCIjZ3JhcGhcIikuc2VsZWN0X29yX2FwcGVuZChcInN2Z1wiKS5hdHRyKFwid2lkdGhcIiwgd2lkdGggKyBtYXJnaW4ubGVmdCArIG1hcmdpbi5yaWdodClcbiAgICAgICAgICAgICAgICAuYXR0cihcImhlaWdodFwiLCBoZWlnaHQgKyBtYXJnaW4udG9wICsgbWFyZ2luLmJvdHRvbSkuc2VsZWN0X29yX2FwcGVuZChcImcuY29udGFpbmVyXCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyBtYXJnaW4ubGVmdCArIFwiLFwiICsgbWFyZ2luLnRvcCArIFwiKVwiKTtcbiAgICAgICAgICAgIHVwZGF0ZUdyYXBoKCk7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZUdyYXBoKCkge1xuICAgICAgICAgICAgICAgIHZhciBkZXNlbGVjdGVkTGluZXMgPSBzdmcuc2VsZWN0X29yX2FwcGVuZChcImcubGluZXMuZGVzZWxlY3RlZFwiKS5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgICAgICAgICAgICAgICAuZGF0YShfLmZpbHRlcigkc2NvcGUuZ3JhcGguZGF0YSxmdW5jdGlvbihwbGF5ZXIpe1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFwbGF5ZXIuc2VsZWN0ZWRcbiAgICAgICAgICAgICAgICAgICAgfSksIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkLnBsYXllclxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGRlc2VsZWN0ZWRMaW5lcy5lbnRlcigpLmFwcGVuZCgncGF0aCcpXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwiY2xhc3NcIixcInVuc2VsZWN0ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3Ryb2tlXCI6XCJsaWdodGdyZXlcIlxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcImRcIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4gbGluZShkLnJhdGluZ3MpfSk7XG5cbiAgICAgICAgICAgICAgICBkZXNlbGVjdGVkTGluZXMudHJhbnNpdGlvbigpLmF0dHIoXCJkXCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGxpbmUoZC5yYXRpbmdzKX0pO1xuICAgICAgICAgICAgICAgIC8vY29udHJvbHMub24oXCJtb3VzZW92ZXJcIixmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAvLyAgICBkMy5zZWxlY3QodGhpcykuc3R5bGUoe1xuICAgICAgICAgICAgICAgIC8vICAgICAgICBcImJhY2tncm91bmQtY29sb3JcIjogZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgcmV0dXJuIGQucHJpbWFyeTtcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vICAgIH0pLnNlbGVjdEFsbCgndGQnKS5zdHlsZShcImNvbG9yXCIsXCJ3aGl0ZXNtb2tlXCIpO1xuICAgICAgICAgICAgICAgIC8vfSk7XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvL2NvbnRyb2xzLm9uKFwibW91c2VvdXRcIixmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICAgICAgLy8gICAgaWYgKCFkLnNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgIGQzLnNlbGVjdCh0aGlzKS5zdHlsZSh7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICBcImJhY2tncm91bmQtY29sb3JcIjogXCJ3aGl0ZVwiXG4gICAgICAgICAgICAgICAgLy8gICAgICAgIH0pLnNlbGVjdEFsbCgndGQnKS5zdHlsZShcImNvbG9yXCIsXCJibGFja1wiKTtcbiAgICAgICAgICAgICAgICAvLyAgICB9XG4gICAgICAgICAgICAgICAgLy99KTtcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vY29udHJvbHMub24oXCJjbGlja1wiLGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgICAgICAvLyAgICBkLnNlbGVjdGVkID0gIWQuc2VsZWN0ZWQ7XG4gICAgICAgICAgICAgICAgLy8gICAgdXBkYXRlR3JhcGgoKTtcbiAgICAgICAgICAgICAgICAvL30pO1xuICAgICAgICAgICAgICAgIHZhciBvZmZzZXQgPSB7XG4gICAgICAgICAgICAgICAgICAgIHg6IDUsXG4gICAgICAgICAgICAgICAgICAgIHk6IDEwXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGFkZFRvb2xUaXAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29udGFpbmVyID0gZDMuc2VsZWN0KCdib2R5JykuYXBwZW5kKCdkaXYnKS5kYXR1bShkYXRhKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywndG9vbHRpcC1jb250YWluZXInKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhbGwoaW5pdFRUKVxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZSgnbGVmdCcsIGQzLmV2ZW50LnBhZ2VYICsgb2Zmc2V0LnggKyAncHgnKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCd0b3AnLGQzLmV2ZW50LnBhZ2VZICsgb2Zmc2V0LnkgKyAncHgnKVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGluaXRUVChzZWxlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uLmVhY2goZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZDMuc2VsZWN0KHRoaXMpLmF0dHIoJ2NsYXNzJywndG9vbHRpcC1jb250YWluZXInKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnd2lkdGgnLCcxNTBweCcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBkMy5zZWxlY3QodGhpcykuYXBwZW5kKCdwJykuYXR0cignY2xhc3MnLCd0b29sdGlwLXRpdGxlJykudGV4dChkYXRhLnBsYXllcik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGQzLnNlbGVjdCh0aGlzKS5hcHBlbmQoJ3AnKS5hdHRyKCdjbGFzcycsJ3Rvb2x0aXAtY29udGVudCcpLnRleHQoXCJSYXRpbmc6IFwiICsgZGF0YS5jdXJyZW50UmF0aW5nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGQzLnNlbGVjdCh0aGlzKS5hcHBlbmQoJ3AnKS5hdHRyKCdjbGFzcycsJ3Rvb2x0aXAtY29udGVudCcpLnRleHQoXCJSYW5rOiBcIiArIGRhdGEucmFuaylcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBkZXNlbGVjdGVkTGluZXMub24oXCJtb3VzZW92ZXJcIiwgZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgICAgICAgICBkMy5zZWxlY3QodGhpcykuc3R5bGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJzdHJva2VcIjpmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQucHJpbWFyeVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3Ryb2tlLXdpZHRoXCI6XCIzcHhcIlxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICBhZGRUb29sVGlwKGQpXG4gICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG1vdmVUb29sVGlwKCkge1xuICAgICAgICAgICAgICAgICAgICBkMy5zZWxlY3QoJ2JvZHknKS5zZWxlY3QoJ2Rpdi50b29sdGlwLWNvbnRhaW5lcicpXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ2xlZnQnLCAoZDMuZXZlbnQucGFnZVggKyBvZmZzZXQueCkgKyAncHgnKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCd0b3AnLCAoZDMuZXZlbnQucGFnZVkgKyBvZmZzZXQueSkgKyAncHgnKVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHJlbW92ZVRvb2xUaXAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGQzLnNlbGVjdCgnZGl2LnRvb2x0aXAtY29udGFpbmVyJykucmVtb3ZlKClcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBkZXNlbGVjdGVkTGluZXMub24oXCJtb3VzZW91dFwiLCBmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICAgICAgICAgIGQzLnNlbGVjdCh0aGlzKS5zdHlsZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBcInN0cm9rZVwiOlwibGlnaHRncmV5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInN0cm9rZS13aWR0aFwiOlwiMnB4XCJcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlVG9vbFRpcChkKVxuICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICAgICBkZXNlbGVjdGVkTGluZXMub24oXCJtb3VzZW1vdmVcIiwgbW92ZVRvb2xUaXApXG5cbiAgICAgICAgICAgICAgICBkZXNlbGVjdGVkTGluZXMuZXhpdCgpLnJlbW92ZSgpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkTGluZXMgPSBzdmcuc2VsZWN0X29yX2FwcGVuZChcImcubGluZXMuc2VsZWN0ZWRcIikuc2VsZWN0QWxsKCdwYXRoJylcbiAgICAgICAgICAgICAgICAgICAgLmRhdGEoXy5maWx0ZXIoJHNjb3BlLmdyYXBoLmRhdGEsZnVuY3Rpb24ocGxheWVyKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwbGF5ZXIuc2VsZWN0ZWRcbiAgICAgICAgICAgICAgICAgICAgfSksIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkLnBsYXllclxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHNlbGVjdGVkTGluZXMuZW50ZXIoKS5hcHBlbmQoJ3BhdGgnKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcImNsYXNzXCIsXCJzZWxlY3RlZFwiKVxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJzdHJva2VcIjogZnVuY3Rpb24oZCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZC5wbGF5ZXIgKyBcIiA6IFwiICsgZC5wcmltYXJ5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC5wcmltYXJ5O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcImRcIixmdW5jdGlvbihkKSB7IHJldHVybiBsaW5lKGQucmF0aW5ncyl9KTtcblxuICAgICAgICAgICAgICAgIHNlbGVjdGVkTGluZXMudHJhbnNpdGlvbigpLmF0dHIoXCJkXCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGxpbmUoZC5yYXRpbmdzKX0pO1xuXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRMaW5lcy5leGl0KCkucmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN2Zy5zZWxlY3Rfb3JfYXBwZW5kKFwiZy54XCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcInggYXhpc1wiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyBoZWlnaHQgKyBcIilcIilcbiAgICAgICAgICAgICAgICAuY2FsbCh4QXhpcylcbiAgICAgICAgICAgICAgICAuc2VsZWN0X29yX2FwcGVuZChcInRleHQueGF4aXNcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcInlcIiwyNSlcbiAgICAgICAgICAgICAgICAuYXR0cihcInhcIiw0NTApXG4gICAgICAgICAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIixcImVuZFwiKVxuICAgICAgICAgICAgICAgIC5zdHlsZShcImR5XCIsXCIuNzFlbVwiKVxuICAgICAgICAgICAgICAgIC50ZXh0KFwiV2Vla1wiKTtcblxuICAgICAgICAgICAgc3ZnLnNlbGVjdF9vcl9hcHBlbmQoXCJnLnlcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwieSBheGlzXCIpXG4gICAgICAgICAgICAgICAgLmNhbGwoeUF4aXMpXG4gICAgICAgICAgICAgICAgLnNlbGVjdF9vcl9hcHBlbmQoXCJ0ZXh0LnlheGlzXCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIixcInJvdGF0ZSgtOTApXCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ5XCIsLTUwKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwieFwiLCAtMTUwKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwiZHlcIiwgXCIuNzFlbVwiKVxuICAgICAgICAgICAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsXCJlbmRcIilcbiAgICAgICAgICAgICAgICAudGV4dChcIlFCIFJhdGluZyAoY3VtdWxhdGl2ZSlcIik7XG5cblxuICAgICAgICB9XG4gICAgICAgICRzY29wZS5kbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGRvY3R5cGUgPSAnPD94bWwgdmVyc2lvbj1cIjEuMFwiIHN0YW5kYWxvbmU9XCJub1wiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyBcIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOXCIgXCJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGRcIj4nO1xuXG4gICAgICAgICAgICB3aW5kb3cuVVJMID0gKHdpbmRvdy5VUkwgfHwgd2luZG93LndlYmtpdFVSTCk7XG5cbiAgICAgICAgICAgIHZhciBib2R5ID0gZG9jdW1lbnQuYm9keSxcbiAgICAgICAgICAgICAgICBlbXB0eVN2ZztcblxuICAgICAgICAgICAgdmFyIHByZWZpeCA9IHtcbiAgICAgICAgICAgICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3htbG5zL1wiLFxuICAgICAgICAgICAgICAgIHhsaW5rOiBcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIixcbiAgICAgICAgICAgICAgICBzdmc6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaW5pdGlhbGl6ZSgpO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBpbml0aWFsaXplKCkge1xuICAgICAgICAgICAgICAgIHZhciBkb2N1bWVudHMgPSBbd2luZG93LmRvY3VtZW50XSxcbiAgICAgICAgICAgICAgICAgICAgU1ZHU291cmNlcyA9IFtdO1xuICAgICAgICAgICAgICAgIGlmcmFtZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiaWZyYW1lXCIpLFxuICAgICAgICAgICAgICAgICAgICBvYmplY3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIm9iamVjdFwiKTtcblxuICAgICAgICAgICAgICAgIC8vIGFkZCBlbXB0eSBzdmcgZWxlbWVudFxuICAgICAgICAgICAgICAgIHZhciBlbXB0eVN2ZyA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMocHJlZml4LnN2ZywgJ3N2ZycpO1xuICAgICAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGVtcHR5U3ZnKTtcbiAgICAgICAgICAgICAgICB2YXIgZW1wdHlTdmdEZWNsYXJhdGlvbkNvbXB1dGVkID0gZ2V0Q29tcHV0ZWRTdHlsZShlbXB0eVN2Zyk7XG5cbiAgICAgICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwoaWZyYW1lcywgZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbC5jb250ZW50RG9jdW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudHMucHVzaChlbC5jb250ZW50RG9jdW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKG9iamVjdHMsIGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWwuY29udGVudERvY3VtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnRzLnB1c2goZWwuY29udGVudERvY3VtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgZG9jdW1lbnRzLmZvckVhY2goZnVuY3Rpb24oZG9jKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdTb3VyY2VzID0gZ2V0U291cmNlcyhkb2MsIGVtcHR5U3ZnRGVjbGFyYXRpb25Db21wdXRlZCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGJlY2F1c2Ugb2YgcHJvdG90eXBlIG9uIE5ZVCBwYWdlc1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5ld1NvdXJjZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFNWR1NvdXJjZXMucHVzaChuZXdTb3VyY2VzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChTVkdTb3VyY2VzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlUG9wb3ZlcihTVkdTb3VyY2VzKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFNWR1NvdXJjZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBkb3dubG9hZChTVkdTb3VyY2VzWzBdKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhbGVydChcIlRoZSBDcm93YmFyIGNvdWxkbuKAmXQgZmluZCBhbnkgU1ZHIG5vZGVzLlwiKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gY3JlYXRlUG9wb3Zlcihzb3VyY2VzKSB7XG4gICAgICAgICAgICAgICAgY2xlYW51cCgpO1xuXG4gICAgICAgICAgICAgICAgc291cmNlcy5mb3JFYWNoKGZ1bmN0aW9uKHMxKSB7XG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZXMuZm9yRWFjaChmdW5jdGlvbihzMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMxICE9PSBzMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoTWF0aC5hYnMoczEudG9wIC0gczIudG9wKSA8IDM4KSAmJiAoTWF0aC5hYnMoczEubGVmdCAtIHMyLmxlZnQpIDwgMzgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMyLnRvcCArPSAzODtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczIubGVmdCArPSAzODtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgdmFyIGJ1dHRvbnNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgIGJvZHkuYXBwZW5kQ2hpbGQoYnV0dG9uc0NvbnRhaW5lcik7XG5cbiAgICAgICAgICAgICAgICBidXR0b25zQ29udGFpbmVyLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwic3ZnLWNyb3diYXJcIik7XG4gICAgICAgICAgICAgICAgYnV0dG9uc0NvbnRhaW5lci5zdHlsZVtcInotaW5kZXhcIl0gPSAxZTc7XG4gICAgICAgICAgICAgICAgYnV0dG9uc0NvbnRhaW5lci5zdHlsZVtcInBvc2l0aW9uXCJdID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgICAgICAgICAgIGJ1dHRvbnNDb250YWluZXIuc3R5bGVbXCJ0b3BcIl0gPSAwO1xuICAgICAgICAgICAgICAgIGJ1dHRvbnNDb250YWluZXIuc3R5bGVbXCJsZWZ0XCJdID0gMDtcblxuXG5cbiAgICAgICAgICAgICAgICB2YXIgYmFja2dyb3VuZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgYm9keS5hcHBlbmRDaGlsZChiYWNrZ3JvdW5kKTtcblxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJzdmctY3Jvd2JhclwiKTtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLnN0eWxlW1wiYmFja2dyb3VuZFwiXSA9IFwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjcpXCI7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC5zdHlsZVtcInBvc2l0aW9uXCJdID0gXCJmaXhlZFwiO1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmQuc3R5bGVbXCJsZWZ0XCJdID0gMDtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLnN0eWxlW1widG9wXCJdID0gMDtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLnN0eWxlW1wid2lkdGhcIl0gPSBcIjEwMCVcIjtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLnN0eWxlW1wiaGVpZ2h0XCJdID0gXCIxMDAlXCI7XG5cbiAgICAgICAgICAgICAgICBzb3VyY2VzLmZvckVhY2goZnVuY3Rpb24oZCwgaSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYnV0dG9uV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbnNDb250YWluZXIuYXBwZW5kQ2hpbGQoYnV0dG9uV3JhcHBlcik7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbldyYXBwZXIuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJzdmctY3Jvd2JhclwiKTtcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uV3JhcHBlci5zdHlsZVtcInBvc2l0aW9uXCJdID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgICAgICAgICAgICAgICBidXR0b25XcmFwcGVyLnN0eWxlW1widG9wXCJdID0gKGQudG9wICsgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3ApICsgXCJweFwiO1xuICAgICAgICAgICAgICAgICAgICBidXR0b25XcmFwcGVyLnN0eWxlW1wibGVmdFwiXSA9IChkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQgKyBkLmxlZnQpICsgXCJweFwiO1xuICAgICAgICAgICAgICAgICAgICBidXR0b25XcmFwcGVyLnN0eWxlW1wicGFkZGluZ1wiXSA9IFwiNHB4XCI7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbldyYXBwZXIuc3R5bGVbXCJib3JkZXItcmFkaXVzXCJdID0gXCIzcHhcIjtcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uV3JhcHBlci5zdHlsZVtcImNvbG9yXCJdID0gXCJ3aGl0ZVwiO1xuICAgICAgICAgICAgICAgICAgICBidXR0b25XcmFwcGVyLnN0eWxlW1widGV4dC1hbGlnblwiXSA9IFwiY2VudGVyXCI7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbldyYXBwZXIuc3R5bGVbXCJmb250LWZhbWlseVwiXSA9IFwiJ0hlbHZldGljYSBOZXVlJ1wiO1xuICAgICAgICAgICAgICAgICAgICBidXR0b25XcmFwcGVyLnN0eWxlW1wiYmFja2dyb3VuZFwiXSA9IFwicmdiYSgwLCAwLCAwLCAwLjgpXCI7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbldyYXBwZXIuc3R5bGVbXCJib3gtc2hhZG93XCJdID0gXCIwcHggNHB4IDE4cHggcmdiYSgwLCAwLCAwLCAwLjQpXCI7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbldyYXBwZXIuc3R5bGVbXCJjdXJzb3JcIl0gPSBcIm1vdmVcIjtcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uV3JhcHBlci50ZXh0Q29udGVudCA9ICBcIlNWRyAjXCIgKyBpICsgXCI6IFwiICsgKGQuaWQgPyBcIiNcIiArIGQuaWQgOiBcIlwiKSArIChkLmNsYXNzID8gXCIuXCIgKyBkLmNsYXNzIDogXCJcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbldyYXBwZXIuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZShcImRhdGEtc291cmNlLWlkXCIsIGkpO1xuICAgICAgICAgICAgICAgICAgICBidXR0b24uc3R5bGVbXCJ3aWR0aFwiXSA9IFwiMTUwcHhcIjtcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uLnN0eWxlW1wiZm9udC1zaXplXCJdID0gXCIxMnB4XCI7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5zdHlsZVtcImxpbmUtaGVpZ2h0XCJdID0gXCIxLjRlbVwiO1xuICAgICAgICAgICAgICAgICAgICBidXR0b24uc3R5bGVbXCJtYXJnaW5cIl0gPSBcIjVweCAwIDAgMFwiO1xuICAgICAgICAgICAgICAgICAgICBidXR0b24udGV4dENvbnRlbnQgPSBcIkRvd25sb2FkXCI7XG5cbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uLm9uY2xpY2sgPSBmdW5jdGlvbihlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZWwsIGQsIGksIHNvdXJjZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICBkb3dubG9hZChkKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGNsZWFudXAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNyb3diYXJFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc3ZnLWNyb3diYXJcIik7XG5cbiAgICAgICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwoY3Jvd2JhckVsZW1lbnRzLCBmdW5jdGlvbihlbCkge1xuICAgICAgICAgICAgICAgICAgICBlbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRTb3VyY2VzKGRvYywgZW1wdHlTdmdEZWNsYXJhdGlvbkNvbXB1dGVkKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN2Z0luZm8gPSBbXSxcbiAgICAgICAgICAgICAgICAgICAgc3ZncyA9IGRvYy5xdWVyeVNlbGVjdG9yQWxsKFwic3ZnXCIpO1xuXG4gICAgICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKHN2Z3MsIGZ1bmN0aW9uIChzdmcpIHtcblxuICAgICAgICAgICAgICAgICAgICBzdmcuc2V0QXR0cmlidXRlKFwidmVyc2lvblwiLCBcIjEuMVwiKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmluZyBhdHRyaWJ1dGVzIHNvIHRoZXkgYXJlbid0IGRvdWJsZWQgdXBcbiAgICAgICAgICAgICAgICAgICAgc3ZnLnJlbW92ZUF0dHJpYnV0ZShcInhtbG5zXCIpO1xuICAgICAgICAgICAgICAgICAgICBzdmcucmVtb3ZlQXR0cmlidXRlKFwieGxpbmtcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlc2UgYXJlIG5lZWRlZCBmb3IgdGhlIHN2Z1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXN2Zy5oYXNBdHRyaWJ1dGVOUyhwcmVmaXgueG1sbnMsIFwieG1sbnNcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGVOUyhwcmVmaXgueG1sbnMsIFwieG1sbnNcIiwgcHJlZml4LnN2Zyk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoIXN2Zy5oYXNBdHRyaWJ1dGVOUyhwcmVmaXgueG1sbnMsIFwieG1sbnM6eGxpbmtcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGVOUyhwcmVmaXgueG1sbnMsIFwieG1sbnM6eGxpbmtcIiwgcHJlZml4LnhsaW5rKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHNldElubGluZVN0eWxlcyhzdmcsIGVtcHR5U3ZnRGVjbGFyYXRpb25Db21wdXRlZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHNvdXJjZSA9IChuZXcgWE1MU2VyaWFsaXplcigpKS5zZXJpYWxpemVUb1N0cmluZyhzdmcpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVjdCA9IHN2Zy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgc3ZnSW5mby5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogcmVjdC50b3AsXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiByZWN0LmxlZnQsXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogcmVjdC53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogcmVjdC5oZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzczogc3ZnLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHN2Zy5nZXRBdHRyaWJ1dGUoXCJpZFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkRWxlbWVudENvdW50OiBzdmcuY2hpbGRFbGVtZW50Q291bnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2U6IFtkb2N0eXBlICsgc291cmNlXVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3ZnSW5mbztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gZG93bmxvYWQoc291cmNlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZpbGVuYW1lID0gXCJ1bnRpdGxlZFwiO1xuXG4gICAgICAgICAgICAgICAgaWYgKHNvdXJjZS5pZCkge1xuICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZSA9IHNvdXJjZS5pZDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNvdXJjZS5jbGFzcykge1xuICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZSA9IHNvdXJjZS5jbGFzcztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHdpbmRvdy5kb2N1bWVudC50aXRsZSkge1xuICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZSA9IHdpbmRvdy5kb2N1bWVudC50aXRsZS5yZXBsYWNlKC9bXmEtejAtOV0vZ2ksICctJykudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgdXJsID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2Ioc291cmNlLnNvdXJjZSwgeyBcInR5cGVcIiA6IFwidGV4dFxcL3htbFwiIH0pKTtcblxuICAgICAgICAgICAgICAgIHZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gICAgICAgICAgICAgICAgYm9keS5hcHBlbmRDaGlsZChhKTtcbiAgICAgICAgICAgICAgICBhLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwic3ZnLWNyb3diYXJcIik7XG4gICAgICAgICAgICAgICAgYS5zZXRBdHRyaWJ1dGUoXCJkb3dubG9hZFwiLCBmaWxlbmFtZSArIFwiLnN2Z1wiKTtcbiAgICAgICAgICAgICAgICBhLnNldEF0dHJpYnV0ZShcImhyZWZcIiwgdXJsKTtcbiAgICAgICAgICAgICAgICBhLnN0eWxlW1wiZGlzcGxheVwiXSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgIGEuY2xpY2soKTtcblxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5VUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XG4gICAgICAgICAgICAgICAgfSwgMTApO1xuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHNldElubGluZVN0eWxlcyhzdmcsIGVtcHR5U3ZnRGVjbGFyYXRpb25Db21wdXRlZCkge1xuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gZXhwbGljaXRseVNldFN0eWxlIChlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjU1NTdHlsZURlY2xhcmF0aW9uQ29tcHV0ZWQgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaSwgbGVuLCBrZXksIHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29tcHV0ZWRTdHlsZVN0ciA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoaT0wLCBsZW49Y1NTU3R5bGVEZWNsYXJhdGlvbkNvbXB1dGVkLmxlbmd0aDsgaTxsZW47IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAga2V5PWNTU1N0eWxlRGVjbGFyYXRpb25Db21wdXRlZFtpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPWNTU1N0eWxlRGVjbGFyYXRpb25Db21wdXRlZC5nZXRQcm9wZXJ0eVZhbHVlKGtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUhPT1lbXB0eVN2Z0RlY2xhcmF0aW9uQ29tcHV0ZWQuZ2V0UHJvcGVydHlWYWx1ZShrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWRTdHlsZVN0cis9a2V5K1wiOlwiK3ZhbHVlK1wiO1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdzdHlsZScsIGNvbXB1dGVkU3R5bGVTdHIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiB0cmF2ZXJzZShvYmope1xuICAgICAgICAgICAgICAgICAgICB2YXIgdHJlZSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB0cmVlLnB1c2gob2JqKTtcbiAgICAgICAgICAgICAgICAgICAgdmlzaXQob2JqKTtcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gdmlzaXQobm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUgJiYgbm9kZS5oYXNDaGlsZE5vZGVzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSBub2RlLmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGNoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZC5ub2RlVHlwZSA9PT0gMSAmJiBjaGlsZC5ub2RlTmFtZSAhPSAnU0NSSVBUJyl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmVlLnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaXQoY2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkID0gY2hpbGQubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cmVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBoYXJkY29kZSBjb21wdXRlZCBjc3Mgc3R5bGVzIGluc2lkZSBzdmdcbiAgICAgICAgICAgICAgICB2YXIgYWxsRWxlbWVudHMgPSB0cmF2ZXJzZShzdmcpO1xuICAgICAgICAgICAgICAgIHZhciBpID0gYWxsRWxlbWVudHMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHdoaWxlIChpLS0pe1xuICAgICAgICAgICAgICAgICAgICBleHBsaWNpdGx5U2V0U3R5bGUoYWxsRWxlbWVudHNbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgIH07XG4gICAgfSk7IiwiYW5ndWxhci5tb2R1bGUoJ3dpbnN0b24nKVxuICAgIC5jb25maWcoWyckc3RhdGVQcm92aWRlcicsZnVuY3Rpb24oJHN0YXRlUHJvdmlkZXIsIHNlYXJjaFN2Yyl7XG4gICAgICAgIC8vIFRoZXNlIHN0YXRlcyBjb3JyZXNwb25kIHRvIHRoZSBwYWdlcyBvbiB0aGUgYXBwLiBIb29rcyB1cCB0ZW1wbGF0ZXMgYW5kIHZpZXdzXG4gICAgICAgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCdob21lJyx7XG4gICAgICAgICAgICB1cmw6ICcvJyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndXBkYXRlU3RhdHMuaHRtbCcsXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnbmV3Q1RSTCcsXG4gICAgICAgICAgICByZXNvbHZlOiB7XG4gICAgICAgICAgICAgICAgcHJlbG9hZE9iajogZnVuY3Rpb24oJGh0dHApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRodHRwKHttZXRob2Q6J0dFVCcsdXJsOicvYXBpL3N0YXRzJ30pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vLnN0YXRlKCdzZWFyY2gnLHtcbiAgICAgICAgICAgIC8vICAgIHVybDogJy9zZWFyY2gnLFxuICAgICAgICAgICAgLy8gICAgdGVtcGxhdGVVcmw6ICdzZWFyY2guaHRtbCcsXG4gICAgICAgICAgICAvLyAgICBjb250cm9sbGVyOiAnc2VhcmNoQ1RSTCcsXG4gICAgICAgICAgICAvLyAgICByZXNvbHZlOiB7XG4gICAgICAgICAgICAvLyAgICAgICAgLy8gVGhpcyBxdWVyaWVzIHRoZSBzZXJ2ZXIgZm9yIGRpc3RpbmN0IGRlcGFydG1lbnRzIGFuZCBwcmVsb2FkcyB0aGUgZGVwYXJ0bWVudHMgZHJvcCBkb3duXG4gICAgICAgICAgICAvLyAgICAgICAgcHJlbG9hZE9CSjogZnVuY3Rpb24oJGh0dHApIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgcmV0dXJuICRodHRwKHttZXRob2Q6J0dFVCcsdXJsOicvYXBpL2RlcGFydG1lbnRzJ30pO1xuICAgICAgICAgICAgLy8gICAgICAgIH1cbiAgICAgICAgICAgIC8vICAgIH1cbiAgICAgICAgICAgIC8vfSlcbiAgICAgICAgICAgIC8vLnN0YXRlKCdkZXRhaWxzJyx7XG4gICAgICAgICAgICAvLyAgICAvLyBUaGUgOmlkIGlzIHRoZSBzdHJpbmcgcGFzc2VkIGluIGZyb20gdGhlIFVSTCBjb3JyZXNwb25kcyB0byB0aGUgcGVyc29uSUQgaW4gdGhlIHRoZSBkYXRhYmFzZVxuICAgICAgICAgICAgLy8gICAgdXJsOiAnL2RldGFpbHMvOmlkJyxcbiAgICAgICAgICAgIC8vICAgIHRlbXBsYXRlVXJsOiAnZGV0YWlscy5odG1sJyxcbiAgICAgICAgICAgIC8vICAgIGNvbnRyb2xsZXI6ICdkZXRhaWxDVFJMJ1xuICAgICAgICAgICAgLy99KVxuICAgIH1dKVxuICAgIC5ydW4oWyckc3RhdGUnLGZ1bmN0aW9uKCRzdGF0ZSl7XG4gICAgICAgIC8vIEV2ZXJ5dGhpbmcgaW5zaWRlIGhlcmUgd2lsbCBiZSBydW4gb25lIHRpbWUgb25jZSB0aGUgYXBwIGhhcyBsb2FkZWQuIEdvb2QgcGxhY2UgdG8gaW5pdGlhbGl6ZSBhbnl0aGluZyB5b3Ugd2lsbCBiZSB1c2luZ1xuICAgICAgICAkc3RhdGUuZ28oJ2hvbWUnKTtcbiAgICB9XSk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=